<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>modeltools &#8212; HydPy 6.1.5 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css?v=127cebf3" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=4ae1632d" />
    
    <script src="_static/documentation_options.js?v=3b4955ce"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="netcdftools" href="netcdftools.html" />
    <link rel="prev" title="masktools" href="masktools.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="netcdftools.html" title="netcdftools"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="masktools.html" title="masktools"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">HydPy 6.1.5 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="reference_manual.html" >Reference Manual</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="framework_tools.html" >Framework Tools</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="core.html" accesskey="U">Core Tools</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">modeltools</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/HydPy_Logo.png" alt="Logo"/>
            </a></p>
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_projects.html">Example Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_guide.html">Developer Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="reference_manual.html">Reference Manual</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="framework_tools.html">Framework Tools</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="core.html">Core Tools</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="aliastools.html">aliastools</a></li>
<li class="toctree-l4"><a class="reference internal" href="autodoctools.html">autodoctools</a></li>
<li class="toctree-l4"><a class="reference internal" href="auxfiletools.html">auxfiletools</a></li>
<li class="toctree-l4"><a class="reference internal" href="devicetools.html">devicetools</a></li>
<li class="toctree-l4"><a class="reference internal" href="exceptiontools.html">exceptiontools</a></li>
<li class="toctree-l4"><a class="reference internal" href="filetools.html">filetools</a></li>
<li class="toctree-l4"><a class="reference internal" href="hydpytools.html">hydpytools</a></li>
<li class="toctree-l4"><a class="reference internal" href="importtools.html">importtools</a></li>
<li class="toctree-l4"><a class="reference internal" href="indextools.html">indextools</a></li>
<li class="toctree-l4"><a class="reference internal" href="itemtools.html">itemtools</a></li>
<li class="toctree-l4"><a class="reference internal" href="masktools.html">masktools</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">modeltools</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.Method"><code class="docutils literal notranslate"><span class="pre">Method</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.AutoMethod"><code class="docutils literal notranslate"><span class="pre">AutoMethod</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.SetAutoMethod"><code class="docutils literal notranslate"><span class="pre">SetAutoMethod</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.ReusableMethod"><code class="docutils literal notranslate"><span class="pre">ReusableMethod</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.ReusableMethod.REUSEMARKER"><code class="docutils literal notranslate"><span class="pre">ReusableMethod.REUSEMARKER</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.ReusableMethod.call_reusablemethod"><code class="docutils literal notranslate"><span class="pre">ReusableMethod.call_reusablemethod()</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.abstractmodelmethod"><code class="docutils literal notranslate"><span class="pre">abstractmodelmethod()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.SubmodelProperty"><code class="docutils literal notranslate"><span class="pre">SubmodelProperty</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SubmodelProperty.name"><code class="docutils literal notranslate"><span class="pre">SubmodelProperty.name</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SubmodelProperty.interfaces"><code class="docutils literal notranslate"><span class="pre">SubmodelProperty.interfaces</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SubmodelProperty.optional"><code class="docutils literal notranslate"><span class="pre">SubmodelProperty.optional</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SubmodelProperty.sidemodel"><code class="docutils literal notranslate"><span class="pre">SubmodelProperty.sidemodel</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty"><code class="docutils literal notranslate"><span class="pre">SubmodelsProperty</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.name"><code class="docutils literal notranslate"><span class="pre">SubmodelsProperty.name</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.interfaces"><code class="docutils literal notranslate"><span class="pre">SubmodelsProperty.interfaces</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.sidemodels"><code class="docutils literal notranslate"><span class="pre">SubmodelsProperty.sidemodels</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.number"><code class="docutils literal notranslate"><span class="pre">SubmodelsProperty.number</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.put_submodel"><code class="docutils literal notranslate"><span class="pre">SubmodelsProperty.put_submodel()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.delete_submodel"><code class="docutils literal notranslate"><span class="pre">SubmodelsProperty.delete_submodel()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.append_submodel"><code class="docutils literal notranslate"><span class="pre">SubmodelsProperty.append_submodel()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.submodels"><code class="docutils literal notranslate"><span class="pre">SubmodelsProperty.submodels</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.typeids"><code class="docutils literal notranslate"><span class="pre">SubmodelsProperty.typeids</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.SubmodelIsMainmodelProperty"><code class="docutils literal notranslate"><span class="pre">SubmodelIsMainmodelProperty</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.SubmodelTypeIDProperty"><code class="docutils literal notranslate"><span class="pre">SubmodelTypeIDProperty</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.IndexProperty"><code class="docutils literal notranslate"><span class="pre">IndexProperty</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.IndexProperty.name"><code class="docutils literal notranslate"><span class="pre">IndexProperty.name</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.Idx_Sim"><code class="docutils literal notranslate"><span class="pre">Idx_Sim</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.Idx_HRU"><code class="docutils literal notranslate"><span class="pre">Idx_HRU</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.Idx_Segment"><code class="docutils literal notranslate"><span class="pre">Idx_Segment</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.Idx_Run"><code class="docutils literal notranslate"><span class="pre">Idx_Run</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.DocName"><code class="docutils literal notranslate"><span class="pre">DocName</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.DocName.short"><code class="docutils literal notranslate"><span class="pre">DocName.short</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.DocName.description"><code class="docutils literal notranslate"><span class="pre">DocName.description</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.DocName.long"><code class="docutils literal notranslate"><span class="pre">DocName.long</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.DocName.complete"><code class="docutils literal notranslate"><span class="pre">DocName.complete</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.DocName.family"><code class="docutils literal notranslate"><span class="pre">DocName.family</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.Model"><code class="docutils literal notranslate"><span class="pre">Model</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.parameters"><code class="docutils literal notranslate"><span class="pre">Model.parameters</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.sequences"><code class="docutils literal notranslate"><span class="pre">Model.sequences</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.masks"><code class="docutils literal notranslate"><span class="pre">Model.masks</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.idx_sim"><code class="docutils literal notranslate"><span class="pre">Model.idx_sim</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.METHOD_GROUPS"><code class="docutils literal notranslate"><span class="pre">Model.METHOD_GROUPS</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.REUSABLE_METHODS"><code class="docutils literal notranslate"><span class="pre">Model.REUSABLE_METHODS</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.COMPOSITE"><code class="docutils literal notranslate"><span class="pre">Model.COMPOSITE</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.DOCNAME"><code class="docutils literal notranslate"><span class="pre">Model.DOCNAME</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.cymodel"><code class="docutils literal notranslate"><span class="pre">Model.cymodel</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.element"><code class="docutils literal notranslate"><span class="pre">Model.element</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.connect"><code class="docutils literal notranslate"><span class="pre">Model.connect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.name"><code class="docutils literal notranslate"><span class="pre">Model.name</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.prepare_allseries"><code class="docutils literal notranslate"><span class="pre">Model.prepare_allseries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.prepare_inputseries"><code class="docutils literal notranslate"><span class="pre">Model.prepare_inputseries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.prepare_factorseries"><code class="docutils literal notranslate"><span class="pre">Model.prepare_factorseries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.prepare_fluxseries"><code class="docutils literal notranslate"><span class="pre">Model.prepare_fluxseries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.prepare_stateseries"><code class="docutils literal notranslate"><span class="pre">Model.prepare_stateseries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.load_allseries"><code class="docutils literal notranslate"><span class="pre">Model.load_allseries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.load_inputseries"><code class="docutils literal notranslate"><span class="pre">Model.load_inputseries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.load_factorseries"><code class="docutils literal notranslate"><span class="pre">Model.load_factorseries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.load_fluxseries"><code class="docutils literal notranslate"><span class="pre">Model.load_fluxseries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.load_stateseries"><code class="docutils literal notranslate"><span class="pre">Model.load_stateseries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.save_allseries"><code class="docutils literal notranslate"><span class="pre">Model.save_allseries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.save_inputseries"><code class="docutils literal notranslate"><span class="pre">Model.save_inputseries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.save_factorseries"><code class="docutils literal notranslate"><span class="pre">Model.save_factorseries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.save_fluxseries"><code class="docutils literal notranslate"><span class="pre">Model.save_fluxseries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.save_stateseries"><code class="docutils literal notranslate"><span class="pre">Model.save_stateseries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.get_controlfileheader"><code class="docutils literal notranslate"><span class="pre">Model.get_controlfileheader()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.save_controls"><code class="docutils literal notranslate"><span class="pre">Model.save_controls()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.define_conditions"><code class="docutils literal notranslate"><span class="pre">Model.define_conditions()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.load_conditions"><code class="docutils literal notranslate"><span class="pre">Model.load_conditions()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.save_conditions"><code class="docutils literal notranslate"><span class="pre">Model.save_conditions()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.trim_conditions"><code class="docutils literal notranslate"><span class="pre">Model.trim_conditions()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.reset_conditions"><code class="docutils literal notranslate"><span class="pre">Model.reset_conditions()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.simulate"><code class="docutils literal notranslate"><span class="pre">Model.simulate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.reset_reuseflags"><code class="docutils literal notranslate"><span class="pre">Model.reset_reuseflags()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.load_data"><code class="docutils literal notranslate"><span class="pre">Model.load_data()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.save_data"><code class="docutils literal notranslate"><span class="pre">Model.save_data()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.update_inlets"><code class="docutils literal notranslate"><span class="pre">Model.update_inlets()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.update_outlets"><code class="docutils literal notranslate"><span class="pre">Model.update_outlets()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.update_receivers"><code class="docutils literal notranslate"><span class="pre">Model.update_receivers()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.update_senders"><code class="docutils literal notranslate"><span class="pre">Model.update_senders()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.new2old"><code class="docutils literal notranslate"><span class="pre">Model.new2old()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.update_outputs"><code class="docutils literal notranslate"><span class="pre">Model.update_outputs()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.get_methods"><code class="docutils literal notranslate"><span class="pre">Model.get_methods()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.find_submodels"><code class="docutils literal notranslate"><span class="pre">Model.find_submodels()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.query_submodels"><code class="docutils literal notranslate"><span class="pre">Model.query_submodels()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.update_parameters"><code class="docutils literal notranslate"><span class="pre">Model.update_parameters()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.conditions"><code class="docutils literal notranslate"><span class="pre">Model.conditions</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Model.couple_models"><code class="docutils literal notranslate"><span class="pre">Model.couple_models</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.RunModel"><code class="docutils literal notranslate"><span class="pre">RunModel</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.RunModel.METHOD_GROUPS"><code class="docutils literal notranslate"><span class="pre">RunModel.METHOD_GROUPS</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.RunModel.run"><code class="docutils literal notranslate"><span class="pre">RunModel.run()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.RunModel.simulate"><code class="docutils literal notranslate"><span class="pre">RunModel.simulate()</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.AdHocModel"><code class="docutils literal notranslate"><span class="pre">AdHocModel</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.AdHocModel.run"><code class="docutils literal notranslate"><span class="pre">AdHocModel.run()</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.SegmentModel"><code class="docutils literal notranslate"><span class="pre">SegmentModel</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SegmentModel.idx_segment"><code class="docutils literal notranslate"><span class="pre">SegmentModel.idx_segment</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SegmentModel.idx_run"><code class="docutils literal notranslate"><span class="pre">SegmentModel.idx_run</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SegmentModel.nmb_segments"><code class="docutils literal notranslate"><span class="pre">SegmentModel.nmb_segments</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SegmentModel.run"><code class="docutils literal notranslate"><span class="pre">SegmentModel.run()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SegmentModel.run_segments"><code class="docutils literal notranslate"><span class="pre">SegmentModel.run_segments()</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.SubstepModel"><code class="docutils literal notranslate"><span class="pre">SubstepModel</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SubstepModel.cymodel"><code class="docutils literal notranslate"><span class="pre">SubstepModel.cymodel</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SubstepModel.timeleft"><code class="docutils literal notranslate"><span class="pre">SubstepModel.timeleft</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SubstepModel.run"><code class="docutils literal notranslate"><span class="pre">SubstepModel.run()</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.SolverModel"><code class="docutils literal notranslate"><span class="pre">SolverModel</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SolverModel.solve"><code class="docutils literal notranslate"><span class="pre">SolverModel.solve()</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.NumConstsELS"><code class="docutils literal notranslate"><span class="pre">NumConstsELS</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.NumConstsELS.a_coeffs"><code class="docutils literal notranslate"><span class="pre">NumConstsELS.a_coeffs</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.NumConstsELS.nmb_methods"><code class="docutils literal notranslate"><span class="pre">NumConstsELS.nmb_methods</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.NumConstsELS.nmb_stages"><code class="docutils literal notranslate"><span class="pre">NumConstsELS.nmb_stages</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.NumConstsELS.dt_increase"><code class="docutils literal notranslate"><span class="pre">NumConstsELS.dt_increase</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.NumConstsELS.dt_decrease"><code class="docutils literal notranslate"><span class="pre">NumConstsELS.dt_decrease</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.NumVarsELS"><code class="docutils literal notranslate"><span class="pre">NumVarsELS</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.NumVarsELS.use_relerror"><code class="docutils literal notranslate"><span class="pre">NumVarsELS.use_relerror</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.NumVarsELS.nmb_calls"><code class="docutils literal notranslate"><span class="pre">NumVarsELS.nmb_calls</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.NumVarsELS.t0"><code class="docutils literal notranslate"><span class="pre">NumVarsELS.t0</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.NumVarsELS.t1"><code class="docutils literal notranslate"><span class="pre">NumVarsELS.t1</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.NumVarsELS.dt_est"><code class="docutils literal notranslate"><span class="pre">NumVarsELS.dt_est</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.NumVarsELS.dt"><code class="docutils literal notranslate"><span class="pre">NumVarsELS.dt</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.NumVarsELS.idx_method"><code class="docutils literal notranslate"><span class="pre">NumVarsELS.idx_method</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.NumVarsELS.idx_stage"><code class="docutils literal notranslate"><span class="pre">NumVarsELS.idx_stage</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.NumVarsELS.abserror"><code class="docutils literal notranslate"><span class="pre">NumVarsELS.abserror</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.NumVarsELS.relerror"><code class="docutils literal notranslate"><span class="pre">NumVarsELS.relerror</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.NumVarsELS.last_abserror"><code class="docutils literal notranslate"><span class="pre">NumVarsELS.last_abserror</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.NumVarsELS.last_relerror"><code class="docutils literal notranslate"><span class="pre">NumVarsELS.last_relerror</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.NumVarsELS.extrapolated_abserror"><code class="docutils literal notranslate"><span class="pre">NumVarsELS.extrapolated_abserror</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.NumVarsELS.extrapolated_relerror"><code class="docutils literal notranslate"><span class="pre">NumVarsELS.extrapolated_relerror</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.NumVarsELS.f0_ready"><code class="docutils literal notranslate"><span class="pre">NumVarsELS.f0_ready</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.ELSModel"><code class="docutils literal notranslate"><span class="pre">ELSModel</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.ELSModel.METHOD_GROUPS"><code class="docutils literal notranslate"><span class="pre">ELSModel.METHOD_GROUPS</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.ELSModel.numconsts"><code class="docutils literal notranslate"><span class="pre">ELSModel.numconsts</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.ELSModel.numvars"><code class="docutils literal notranslate"><span class="pre">ELSModel.numvars</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.ELSModel.simulate"><code class="docutils literal notranslate"><span class="pre">ELSModel.simulate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.ELSModel.solve"><code class="docutils literal notranslate"><span class="pre">ELSModel.solve()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.ELSModel.calculate_single_terms"><code class="docutils literal notranslate"><span class="pre">ELSModel.calculate_single_terms()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.ELSModel.calculate_full_terms"><code class="docutils literal notranslate"><span class="pre">ELSModel.calculate_full_terms()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.ELSModel.get_point_states"><code class="docutils literal notranslate"><span class="pre">ELSModel.get_point_states()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.ELSModel.set_point_states"><code class="docutils literal notranslate"><span class="pre">ELSModel.set_point_states()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.ELSModel.set_result_states"><code class="docutils literal notranslate"><span class="pre">ELSModel.set_result_states()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.ELSModel.get_sum_fluxes"><code class="docutils literal notranslate"><span class="pre">ELSModel.get_sum_fluxes()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.ELSModel.set_point_fluxes"><code class="docutils literal notranslate"><span class="pre">ELSModel.set_point_fluxes()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.ELSModel.set_result_fluxes"><code class="docutils literal notranslate"><span class="pre">ELSModel.set_result_fluxes()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.ELSModel.integrate_fluxes"><code class="docutils literal notranslate"><span class="pre">ELSModel.integrate_fluxes()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.ELSModel.reset_sum_fluxes"><code class="docutils literal notranslate"><span class="pre">ELSModel.reset_sum_fluxes()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.ELSModel.addup_fluxes"><code class="docutils literal notranslate"><span class="pre">ELSModel.addup_fluxes()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.ELSModel.calculate_error"><code class="docutils literal notranslate"><span class="pre">ELSModel.calculate_error()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.ELSModel.extrapolate_error"><code class="docutils literal notranslate"><span class="pre">ELSModel.extrapolate_error()</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.SubmodelInterface"><code class="docutils literal notranslate"><span class="pre">SubmodelInterface</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SubmodelInterface.typeid"><code class="docutils literal notranslate"><span class="pre">SubmodelInterface.typeid</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SubmodelInterface.preparemethod2arguments"><code class="docutils literal notranslate"><span class="pre">SubmodelInterface.preparemethod2arguments</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SubmodelInterface.share_configuration"><code class="docutils literal notranslate"><span class="pre">SubmodelInterface.share_configuration()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SubmodelInterface.add_mainmodel_as_subsubmodel"><code class="docutils literal notranslate"><span class="pre">SubmodelInterface.add_mainmodel_as_subsubmodel()</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.SharableSubmodelInterface"><code class="docutils literal notranslate"><span class="pre">SharableSubmodelInterface</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SharableSubmodelInterface.preparemethod2arguments"><code class="docutils literal notranslate"><span class="pre">SharableSubmodelInterface.preparemethod2arguments</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SharableSubmodelInterface.typeid"><code class="docutils literal notranslate"><span class="pre">SharableSubmodelInterface.typeid</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SharableSubmodelInterface.cymodel"><code class="docutils literal notranslate"><span class="pre">SharableSubmodelInterface.cymodel</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SharableSubmodelInterface.parameters"><code class="docutils literal notranslate"><span class="pre">SharableSubmodelInterface.parameters</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SharableSubmodelInterface.sequences"><code class="docutils literal notranslate"><span class="pre">SharableSubmodelInterface.sequences</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SharableSubmodelInterface.masks"><code class="docutils literal notranslate"><span class="pre">SharableSubmodelInterface.masks</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SharableSubmodelInterface.METHOD_GROUPS"><code class="docutils literal notranslate"><span class="pre">SharableSubmodelInterface.METHOD_GROUPS</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SharableSubmodelInterface.REUSABLE_METHODS"><code class="docutils literal notranslate"><span class="pre">SharableSubmodelInterface.REUSABLE_METHODS</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.SharableSubmodelInterface.DOCNAME"><code class="docutils literal notranslate"><span class="pre">SharableSubmodelInterface.DOCNAME</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.Submodel"><code class="docutils literal notranslate"><span class="pre">Submodel</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Submodel.METHODS"><code class="docutils literal notranslate"><span class="pre">Submodel.METHODS</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Submodel.CYTHONBASECLASS"><code class="docutils literal notranslate"><span class="pre">Submodel.CYTHONBASECLASS</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Submodel.PYTHONCLASS"><code class="docutils literal notranslate"><span class="pre">Submodel.PYTHONCLASS</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.modeltools.Submodel.name"><code class="docutils literal notranslate"><span class="pre">Submodel.name</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.CoupleModels"><code class="docutils literal notranslate"><span class="pre">CoupleModels</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.define_modelcoupler"><code class="docutils literal notranslate"><span class="pre">define_modelcoupler()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.modeltools.ModelCoupler"><code class="docutils literal notranslate"><span class="pre">ModelCoupler</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="netcdftools.html">netcdftools</a></li>
<li class="toctree-l4"><a class="reference internal" href="objecttools.html">objecttools</a></li>
<li class="toctree-l4"><a class="reference internal" href="optiontools.html">optiontools</a></li>
<li class="toctree-l4"><a class="reference internal" href="parametertools.html">parametertools</a></li>
<li class="toctree-l4"><a class="reference internal" href="printtools.html">printtools</a></li>
<li class="toctree-l4"><a class="reference internal" href="propertytools.html">propertytools</a></li>
<li class="toctree-l4"><a class="reference internal" href="pubtools.html">pubtools</a></li>
<li class="toctree-l4"><a class="reference internal" href="selectiontools.html">selectiontools</a></li>
<li class="toctree-l4"><a class="reference internal" href="sequencetools.html">sequencetools</a></li>
<li class="toctree-l4"><a class="reference internal" href="seriestools.html">seriestools</a></li>
<li class="toctree-l4"><a class="reference internal" href="testtools.html">testtools</a></li>
<li class="toctree-l4"><a class="reference internal" href="timetools.html">timetools</a></li>
<li class="toctree-l4"><a class="reference internal" href="typingtools.html">typingtools</a></li>
<li class="toctree-l4"><a class="reference internal" href="variabletools.html">variabletools</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="execution.html">Execution Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="cythons.html">Cython Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="auxiliaries.html">Auxiliary Tools</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="model_families.html">Model Families</a></li>
<li class="toctree-l2"><a class="reference internal" href="submodel_interfaces.html">Submodel Interfaces</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="zbibliography.html">Bibliography</a></li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="masktools.html"
                          title="previous chapter">masktools</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="netcdftools.html"
                          title="next chapter">netcdftools</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/modeltools.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="modeltools">
<span id="id1"></span><h1>modeltools<a class="headerlink" href="#modeltools" title="Link to this heading">¶</a></h1>
<p id="module-hydpy.core.modeltools">This module provides features for applying and implementing hydrological models.</p>
<p>Module <a class="reference internal" href="#module-hydpy.core.modeltools" title="hydpy.core.modeltools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">modeltools</span></code></a> implements the following members:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">TypeModel_co</span></code> Type variable.</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">TypeModel_contra</span></code> Type variable.</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">TypeSubmodelInterface</span></code> Type variable.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.Method" title="hydpy.core.modeltools.Method"><code class="xref py py-class docutils literal notranslate"><span class="pre">Method</span></code></a> Base class for defining (hydrological) calculation methods.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.AutoMethod" title="hydpy.core.modeltools.AutoMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">AutoMethod</span></code></a> Base class for defining methods that only call their submethods in the specified order without passing any arguments or other customisations.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.SetAutoMethod" title="hydpy.core.modeltools.SetAutoMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">SetAutoMethod</span></code></a> Base class for defining setter methods that also use the given data to calculate other properties.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.ReusableMethod" title="hydpy.core.modeltools.ReusableMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReusableMethod</span></code></a> Base class for defining methods that need not or must not be called multiple times for the same simulation step.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.abstractmodelmethod" title="hydpy.core.modeltools.abstractmodelmethod"><code class="xref py py-func docutils literal notranslate"><span class="pre">abstractmodelmethod()</span></code></a> Alternative for Python’s <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.abstractmethod" title="(in Python v3.13)"><code class="xref py py-func docutils literal notranslate"><span class="pre">abstractmethod()</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.SubmodelProperty" title="hydpy.core.modeltools.SubmodelProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubmodelProperty</span></code></a> Descriptor for submodel attributes.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty" title="hydpy.core.modeltools.SubmodelsProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubmodelsProperty</span></code></a> Descriptor for handling multiple submodels that follow defined interfaces.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.SubmodelIsMainmodelProperty" title="hydpy.core.modeltools.SubmodelIsMainmodelProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubmodelIsMainmodelProperty</span></code></a> Descriptor for boolean “submodel_is_mainmodel” attributes.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.SubmodelTypeIDProperty" title="hydpy.core.modeltools.SubmodelTypeIDProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubmodelTypeIDProperty</span></code></a> Descriptor for integer “submodel_typeid” attributes.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.IndexProperty" title="hydpy.core.modeltools.IndexProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">IndexProperty</span></code></a> Base class for index descriptors like <a class="reference internal" href="#hydpy.core.modeltools.Idx_Sim" title="hydpy.core.modeltools.Idx_Sim"><code class="xref py py-class docutils literal notranslate"><span class="pre">Idx_Sim</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.Idx_Sim" title="hydpy.core.modeltools.Idx_Sim"><code class="xref py py-class docutils literal notranslate"><span class="pre">Idx_Sim</span></code></a> The simulation step index.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.Idx_HRU" title="hydpy.core.modeltools.Idx_HRU"><code class="xref py py-class docutils literal notranslate"><span class="pre">Idx_HRU</span></code></a> The hydrological response unit index.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.Idx_Segment" title="hydpy.core.modeltools.Idx_Segment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Idx_Segment</span></code></a> The segment index.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.Idx_Run" title="hydpy.core.modeltools.Idx_Run"><code class="xref py py-class docutils literal notranslate"><span class="pre">Idx_Run</span></code></a> The run index.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.DocName" title="hydpy.core.modeltools.DocName"><code class="xref py py-class docutils literal notranslate"><span class="pre">DocName</span></code></a> Definitions for the documentation names of specific base or application models.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> Base class for all hydrological models.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.RunModel" title="hydpy.core.modeltools.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> Base class for <a class="reference internal" href="#hydpy.core.modeltools.AdHocModel" title="hydpy.core.modeltools.AdHocModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">AdHocModel</span></code></a> and <a class="reference internal" href="#hydpy.core.modeltools.SegmentModel" title="hydpy.core.modeltools.SegmentModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">SegmentModel</span></code></a> that introduces so-called “run methods”, which need to be executed in the order of their positions in the <code class="xref py py-attr docutils literal notranslate"><span class="pre">RUN_METHODS</span></code> tuple.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.AdHocModel" title="hydpy.core.modeltools.AdHocModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">AdHocModel</span></code></a> Base class for models solving the underlying differential equations in an “ad hoc manner”.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.SegmentModel" title="hydpy.core.modeltools.SegmentModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">SegmentModel</span></code></a> Base class for (routing) models that solve the underlying differential equations “segment-wise”.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.SubstepModel" title="hydpy.core.modeltools.SubstepModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubstepModel</span></code></a> Base class for (routing) models that solve the underlying differential equations “substep-wise”.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.SolverModel" title="hydpy.core.modeltools.SolverModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">SolverModel</span></code></a> Base class for hydrological models, which solve ordinary differential equations with numerical integration algorithms.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.NumConstsELS" title="hydpy.core.modeltools.NumConstsELS"><code class="xref py py-class docutils literal notranslate"><span class="pre">NumConstsELS</span></code></a> Configuration options for using the “Explicit Lobatto Sequence” implemented by class <a class="reference internal" href="#hydpy.core.modeltools.ELSModel" title="hydpy.core.modeltools.ELSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ELSModel</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.NumVarsELS" title="hydpy.core.modeltools.NumVarsELS"><code class="xref py py-class docutils literal notranslate"><span class="pre">NumVarsELS</span></code></a> Intermediate results of the “Explicit Lobatto Sequence” implemented by class <a class="reference internal" href="#hydpy.core.modeltools.ELSModel" title="hydpy.core.modeltools.ELSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ELSModel</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.ELSModel" title="hydpy.core.modeltools.ELSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ELSModel</span></code></a> Base class for hydrological models using the “Explicit Lobatto Sequence” for solving ordinary differential equations.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.SubmodelInterface" title="hydpy.core.modeltools.SubmodelInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubmodelInterface</span></code></a> Base class for defining interfaces for submodels.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.SharableSubmodelInterface" title="hydpy.core.modeltools.SharableSubmodelInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">SharableSubmodelInterface</span></code></a> Base class for defining interfaces for submodels designed as “sharable”.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.Submodel" title="hydpy.core.modeltools.Submodel"><code class="xref py py-class docutils literal notranslate"><span class="pre">Submodel</span></code></a> Base class for implementing “submodels” that serve to deal with (possibly complicated) general mathematical algorithms (e.g. root-finding algorithms) within hydrological model methods.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.CoupleModels" title="hydpy.core.modeltools.CoupleModels"><code class="xref py py-class docutils literal notranslate"><span class="pre">CoupleModels</span></code></a> Specification for defining custom “couple_models” functions to be wrapped by function <a class="reference internal" href="#hydpy.core.modeltools.define_modelcoupler" title="hydpy.core.modeltools.define_modelcoupler"><code class="xref py py-func docutils literal notranslate"><span class="pre">define_modelcoupler()</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.define_modelcoupler" title="hydpy.core.modeltools.define_modelcoupler"><code class="xref py py-func docutils literal notranslate"><span class="pre">define_modelcoupler()</span></code></a> Wrap a model-specific function for creating a composite model based given on <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> and <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> objects and their handled “normal” <a class="reference internal" href="#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> instances.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.modeltools.ModelCoupler" title="hydpy.core.modeltools.ModelCoupler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelCoupler</span></code></a> Wrapper that extends the functionality of model-specific functions for coupling “normal” models to composite models.</p></li>
</ul>
</div></blockquote>
<hr class="docutils" />
<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Method">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">Method</span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Method"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Method" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base class for defining (hydrological) calculation methods.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.AutoMethod">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">AutoMethod</span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#AutoMethod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.AutoMethod" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hydpy.core.modeltools.Method" title="hydpy.core.modeltools.Method"><code class="xref py py-class docutils literal notranslate"><span class="pre">Method</span></code></a></p>
<p>Base class for defining methods that only call their submethods in the specified
order without passing any arguments or other customisations.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SetAutoMethod">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">SetAutoMethod</span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#SetAutoMethod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.SetAutoMethod" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hydpy.core.modeltools.Method" title="hydpy.core.modeltools.Method"><code class="xref py py-class docutils literal notranslate"><span class="pre">Method</span></code></a></p>
<p>Base class for defining setter methods that also use the given data to calculate
other properties.</p>
<p><a class="reference internal" href="#hydpy.core.modeltools.SetAutoMethod" title="hydpy.core.modeltools.SetAutoMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">SetAutoMethod</span></code></a> calls its submethods in the specified order.  If, for example, the
first two submethods are setters, it requires precisely two parameter values.  It
passes the first value to the first setter and the second value to the second
setter. After that, it executes the remaining methods without exchanging any data.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ReusableMethod">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">ReusableMethod</span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#ReusableMethod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.ReusableMethod" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hydpy.core.modeltools.Method" title="hydpy.core.modeltools.Method"><code class="xref py py-class docutils literal notranslate"><span class="pre">Method</span></code></a></p>
<p>Base class for defining methods that need not or must not be called multiple
times for the same simulation step.</p>
<p><a class="reference internal" href="#hydpy.core.modeltools.ReusableMethod" title="hydpy.core.modeltools.ReusableMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReusableMethod</span></code></a> helps to implement “sharable” submodels, of which single instances
can be used by multiple main model instances.  See <a class="reference internal" href="#hydpy.core.modeltools.SharableSubmodelInterface" title="hydpy.core.modeltools.SharableSubmodelInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">SharableSubmodelInterface</span></code></a> for
further information.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ReusableMethod.REUSEMARKER">
<span class="sig-name descname"><span class="pre">REUSEMARKER</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.ReusableMethod.REUSEMARKER" title="Link to this definition">¶</a></dt>
<dd><p>Name of an additional model attribute for marking if the respective method has 
already been called and should not be called again for the same simulation step and 
its results can be reused.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ReusableMethod.call_reusablemethod">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">call_reusablemethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><span class="pre">Model</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#ReusableMethod.call_reusablemethod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.ReusableMethod.call_reusablemethod" title="Link to this definition">¶</a></dt>
<dd><p>Execute the “normal” model-specific <cite>__call__</cite> method only when indicated by
the <a class="reference internal" href="#hydpy.core.modeltools.ReusableMethod.REUSEMARKER" title="hydpy.core.modeltools.ReusableMethod.REUSEMARKER"><code class="xref py py-attr docutils literal notranslate"><span class="pre">REUSEMARKER</span></code></a> attribute and update this attribute when
necessary.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.core.modeltools.abstractmodelmethod">
<span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">abstractmodelmethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable" title="(in Python v3.13)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="hland.html#hydpy.models.hland.hland_inputs.P" title="hydpy.models.hland.hland_inputs.P"><span class="pre">P</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable" title="(in Python v3.13)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="hland.html#hydpy.models.hland.hland_inputs.P" title="hydpy.models.hland.hland_inputs.P"><span class="pre">P</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">T</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#abstractmodelmethod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.abstractmodelmethod" title="Link to this definition">¶</a></dt>
<dd><p>Alternative for Python’s <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.abstractmethod" title="(in Python v3.13)"><code class="xref py py-func docutils literal notranslate"><span class="pre">abstractmethod()</span></code></a>.</p>
<p>We currently use it to mark abstract methods in submodel interfaces that are not
statically overridden by concrete implementations but dynamically added during
model initialisation (either in a pure Python or a Cython version).</p>
<p>So far, the only functionality of <a class="reference internal" href="#hydpy.core.modeltools.abstractmodelmethod" title="hydpy.core.modeltools.abstractmodelmethod"><code class="xref py py-func docutils literal notranslate"><span class="pre">abstractmodelmethod()</span></code></a> is to collect all decorated
functions in the set <cite>abstractmodelmethods</cite> so that one can find out which methods
are “abstract model methods” and which are not. We might also use it later to
extend our model consistency checks.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubmodelProperty">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">SubmodelProperty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">interfaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.13)"><span class="pre">type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">TypeSubmodelInterface</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optional</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sidemodel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#SubmodelProperty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.SubmodelProperty" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_SubmodelPropertyBase</span></code>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">TypeSubmodelInterface</span></code>]</p>
<p>Descriptor for submodel attributes.</p>
<p><a class="reference internal" href="#hydpy.core.modeltools.SubmodelProperty" title="hydpy.core.modeltools.SubmodelProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubmodelProperty</span></code></a> instances link main models and their submodels.  They follow the
attribute convention described in the documentation on class <a class="reference internal" href="#hydpy.core.modeltools.SubmodelInterface" title="hydpy.core.modeltools.SubmodelInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubmodelInterface</span></code></a>.
Behind the scenes, they build the required connections both on the Python and the
Cython level and perform some type-related tests (to avoid errors due to selecting
submodels following the wrong interfaces).</p>
<p>We prepare the main model and its submodel in Cython and pure Python mode to test
that <a class="reference internal" href="#hydpy.core.modeltools.SubmodelProperty" title="hydpy.core.modeltools.SubmodelProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubmodelProperty</span></code></a> works for all possible combinations:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">prepare_model</span><span class="p">,</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">mainmodel_python</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;lland&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">submodel_python</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;ga_garto_submodel1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">(</span><span class="kc">True</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">mainmodel_cython</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;lland&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">submodel_cython</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;ga_garto_submodel1&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>By default, the main model handles no submodel:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mainmodel_python</span><span class="o">.</span><span class="n">soilmodel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mainmodel_cython</span><span class="o">.</span><span class="n">soilmodel</span>
</pre></div>
</div>
<p>For pure Python main models, it makes no difference how the submodel is
initialised:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mainmodel_python</span><span class="o">.</span><span class="n">soilmodel</span> <span class="o">=</span> <span class="n">submodel_python</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">mainmodel_python</span><span class="o">.</span><span class="n">soilmodel</span><span class="p">)</span>
<span class="go">&lt;class &#39;hydpy.models.ga_garto_submodel1.Model&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mainmodel_python</span><span class="o">.</span><span class="n">cymodel</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mainmodel_python</span><span class="o">.</span><span class="n">soilmodel</span> <span class="o">=</span> <span class="n">submodel_cython</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">mainmodel_python</span><span class="o">.</span><span class="n">soilmodel</span><span class="p">)</span>
<span class="go">&lt;class &#39;hydpy.models.ga_garto_submodel1.Model&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mainmodel_python</span><span class="o">.</span><span class="n">cymodel</span>
</pre></div>
</div>
<p>If both models are initialised in Cython mode, <a class="reference internal" href="#hydpy.core.modeltools.SubmodelProperty" title="hydpy.core.modeltools.SubmodelProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubmodelProperty</span></code></a> connects the
instances of the Cython extension classes on the fly:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mainmodel_cython</span><span class="o">.</span><span class="n">soilmodel</span> <span class="o">=</span> <span class="n">submodel_cython</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">mainmodel_cython</span><span class="o">.</span><span class="n">soilmodel</span><span class="p">)</span>
<span class="go">&lt;class &#39;hydpy.models.ga_garto_submodel1.Model&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">mainmodel_cython</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">get_soilmodel</span><span class="p">())</span>
<span class="go">&lt;class &#39;hydpy.cythons.autogen.c_ga_garto_submodel1.Model&#39;&gt;</span>
</pre></div>
</div>
<p>Combining a Cython main model with a pure Python submodel causes a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">RuntimeError</span></code></a>,
as using such a mix could result in hard-to-find errors:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mainmodel_cython</span><span class="o">.</span><span class="n">soilmodel</span> <span class="o">=</span> <span class="n">submodel_python</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">While trying to assign submodel `ga_garto_submodel1` to property `soilmodel` of the main model `lland`, the following error occurred: The main model is initialised in Cython mode, but the submodel is initialised in pure Python mode so that the main model&#39;s cythonized methods could apply the submodel&#39;s methods.</span>
</pre></div>
</div>
<p>Disconnecting a submodel from its main model works by assigning <code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code> as well as
using the <cite>del</cite> statement:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mainmodel_python</span><span class="o">.</span><span class="n">soilmodel</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mainmodel_python</span><span class="o">.</span><span class="n">soilmodel</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">mainmodel_cython</span><span class="o">.</span><span class="n">soilmodel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mainmodel_cython</span><span class="o">.</span><span class="n">soilmodel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mainmodel_cython</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">get_soilmodel</span><span class="p">()</span>
</pre></div>
</div>
<p>Trying to assign an unsuitable submodel results in the following error:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mainmodel_python</span><span class="o">.</span><span class="n">soilmodel</span> <span class="o">=</span> <span class="n">mainmodel_python</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to assign submodel `lland` to property `soilmodel` of the main model `lland`, the following error occurred: The given submodel is not an instance of any of the following supported interfaces: SoilModel_V1.</span>
</pre></div>
</div>
<p>The automatically generated docstrings list the supported interfaces:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">mainmodel_python</span><span class="p">)</span><span class="o">.</span><span class="n">soilmodel</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
<span class="go">Optional submodel that complies with the following interface: SoilModel_V1.</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubmodelProperty.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.SubmodelProperty.name" title="Link to this definition">¶</a></dt>
<dd><p>The addressed submodels’ group name.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubmodelProperty.interfaces">
<span class="sig-name descname"><span class="pre">interfaces</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.13)"><span class="pre">type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">TypeSubmodelInterface</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.modeltools.SubmodelProperty.interfaces" title="Link to this definition">¶</a></dt>
<dd><p>The supported interfaces.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubmodelProperty.optional">
<span class="sig-name descname"><span class="pre">optional</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Final" title="(in Python v3.13)"><span class="pre">Final</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.modeltools.SubmodelProperty.optional" title="Link to this definition">¶</a></dt>
<dd><p>Flag indicating whether a submodel is optional or strictly required.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubmodelProperty.sidemodel">
<span class="sig-name descname"><span class="pre">sidemodel</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Final" title="(in Python v3.13)"><span class="pre">Final</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.modeltools.SubmodelProperty.sidemodel" title="Link to this definition">¶</a></dt>
<dd><p>Flag indicating whether the handled submodel is more a “side model” than a 
submodel.  Usually, two models consider each other as side models if they are 
“real” submodels of a third model but need direct references.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubmodelsProperty">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">SubmodelsProperty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">interfaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.13)"><span class="pre">type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">TypeSubmodelInterface</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sidemodels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#SubmodelsProperty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.SubmodelsProperty" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_SubmodelPropertyBase</span></code>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">TypeSubmodelInterface</span></code>]</p>
<p>Descriptor for handling multiple submodels that follow defined interfaces.</p>
<p><a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty" title="hydpy.core.modeltools.SubmodelsProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubmodelsProperty</span></code></a> supports the <cite>len</cite> operator and is iterable and indexable:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">prepare_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_channel&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sub1</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_q_in&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sub2</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_lias&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.modeltools</span><span class="w"> </span><span class="kn">import</span> <span class="n">SubmodelsProperty</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">main</span><span class="p">)</span><span class="o">.</span><span class="n">routingmodels</span><span class="p">,</span> <span class="n">SubmodelsProperty</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">main</span><span class="o">.</span><span class="n">routingmodels</span><span class="o">.</span><span class="n">append_submodel</span><span class="p">(</span><span class="n">submodel</span><span class="o">=</span><span class="n">sub1</span><span class="p">,</span> <span class="n">typeid</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main</span><span class="o">.</span><span class="n">routingmodels</span><span class="o">.</span><span class="n">append_submodel</span><span class="p">(</span><span class="n">submodel</span><span class="o">=</span><span class="n">sub2</span><span class="p">,</span> <span class="n">typeid</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">main</span><span class="o">.</span><span class="n">routingmodels</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">submodel</span> <span class="ow">in</span> <span class="n">main</span><span class="o">.</span><span class="n">routingmodels</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">submodel</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="go">sw1d_q_in</span>
<span class="go">sw1d_lias</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main</span><span class="o">.</span><span class="n">routingmodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="n">sub1</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main</span><span class="o">.</span><span class="n">routingmodels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="n">sub2</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubmodelsProperty.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.SubmodelsProperty.name" title="Link to this definition">¶</a></dt>
<dd><p>The addressed submodels’ group name.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubmodelsProperty.interfaces">
<span class="sig-name descname"><span class="pre">interfaces</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.13)"><span class="pre">type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">TypeSubmodelInterface</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.modeltools.SubmodelsProperty.interfaces" title="Link to this definition">¶</a></dt>
<dd><p>The supported interfaces.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubmodelsProperty.sidemodels">
<span class="sig-name descname"><span class="pre">sidemodels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.SubmodelsProperty.sidemodels" title="Link to this definition">¶</a></dt>
<dd><p>Flag indicating whether the handled submodel is more a “side model” than a 
submodel.  Usually, two models consider each other as side models if they are 
“real” submodels of a third model but need direct references.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubmodelsProperty.number">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">number</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.SubmodelsProperty.number" title="Link to this definition">¶</a></dt>
<dd><p>The maximum number of handled submodels.</p>
<p>Initially, the maximum number of submodels is zero:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">prepare_model</span><span class="p">,</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_channel&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">number</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span>
<span class="go">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span>
<span class="go">()</span>
</pre></div>
</div>
<p>Setting it to another value automatically prepares <a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.typeids" title="hydpy.core.modeltools.SubmodelsProperty.typeids"><code class="xref py py-const docutils literal notranslate"><span class="pre">typeids</span></code></a>
and <a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.submodels" title="hydpy.core.modeltools.SubmodelsProperty.submodels"><code class="xref py py-const docutils literal notranslate"><span class="pre">submodels</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">number</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span>
<span class="go">(0, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span>
<span class="go">(None, None)</span>
</pre></div>
</div>
<p>When working in Cython mode, property <a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.number" title="hydpy.core.modeltools.SubmodelsProperty.number"><code class="xref py py-const docutils literal notranslate"><span class="pre">number</span></code></a> also prepares
the analogue vectors of the cythonized model:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">(</span><span class="kc">True</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_channel&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">number</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span>
<span class="go">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span>
<span class="go">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">number</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span>
<span class="go">(None, None)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span>
<span class="go">(0, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">_get_number</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">_get_typeid</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">_get_submodel</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubmodelsProperty.put_submodel">
<span class="sig-name descname"><span class="pre">put_submodel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">submodel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">TypeSubmodelInterface</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">typeid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#SubmodelsProperty.put_submodel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.SubmodelsProperty.put_submodel" title="Link to this definition">¶</a></dt>
<dd><p>Put a submodel and its relevant type ID to the given position.</p>
<p>We prepare the main model and its submodel in Cython and pure Python mode to
test that <a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.put_submodel" title="hydpy.core.modeltools.SubmodelsProperty.put_submodel"><code class="xref py py-func docutils literal notranslate"><span class="pre">put_submodel()</span></code></a> works for all possible combinations:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">prepare_model</span><span class="p">,</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">main_py</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_channel&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">sub_py</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_storage&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">(</span><span class="kc">True</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">main_cy</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_channel&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">sub_cy</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_storage&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For two pure Python models, there is no need to bother with synchronising
cythonized models:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">put_submodel</span><span class="p">(</span><span class="n">submodel</span><span class="o">=</span><span class="n">sub_py</span><span class="p">,</span> <span class="n">typeid</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="n">sub_py</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span>
</pre></div>
</div>
<p>If both models are initialised in Cython mode, <a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.put_submodel" title="hydpy.core.modeltools.SubmodelsProperty.put_submodel"><code class="xref py py-func docutils literal notranslate"><span class="pre">put_submodel()</span></code></a>
updates <a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.typeids" title="hydpy.core.modeltools.SubmodelsProperty.typeids"><code class="xref py py-const docutils literal notranslate"><span class="pre">typeids</span></code></a> and <a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.submodels" title="hydpy.core.modeltools.SubmodelsProperty.submodels"><code class="xref py py-const docutils literal notranslate"><span class="pre">submodels</span></code></a> as well
as the corresponding vectors of the cythonized models:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">put_submodel</span><span class="p">(</span><span class="n">submodel</span><span class="o">=</span><span class="n">sub_cy</span><span class="p">,</span> <span class="n">typeid</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">_get_typeid</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="n">sub_cy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">_get_submodel</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="ow">is</span> <span class="n">sub_cy</span><span class="o">.</span><span class="n">cymodel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">_get_typeid</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">_get_submodel</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span>
</pre></div>
</div>
<p>Connecting a pure Python mode main model with a Cython mode submodel causes no
harm:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">put_submodel</span><span class="p">(</span><span class="n">submodel</span><span class="o">=</span><span class="n">sub_cy</span><span class="p">,</span> <span class="n">typeid</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="n">sub_cy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span>
</pre></div>
</div>
<p>However, connecting a Cython mode main model with a pure Python mode submodel
would result in erroneous calculations and thus raises the following error:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">put_submodel</span><span class="p">(</span><span class="n">submodel</span><span class="o">=</span><span class="n">sub_py</span><span class="p">,</span> <span class="n">typeid</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">While trying to put submodel `sw1d_storage` to position `0` of property `storagemodels` of the main model `sw1d_channel`, the following error occurred: The main model is initialised in Cython mode, but the submodel is initialised in pure Python mode so that the main model&#39;s cythonized methods could apply the submodel&#39;s methods.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">_get_typeid</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">_get_submodel</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">_get_typeid</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">_get_submodel</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span>
</pre></div>
</div>
<p>Method <a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.put_submodel" title="hydpy.core.modeltools.SubmodelsProperty.put_submodel"><code class="xref py py-func docutils literal notranslate"><span class="pre">put_submodel()</span></code></a> checks if the given submodel follows
at least one supported interface:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sub_py</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_lias&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">put_submodel</span><span class="p">(</span><span class="n">submodel</span><span class="o">=</span><span class="n">sub_py</span><span class="p">,</span> <span class="n">typeid</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to put submodel `sw1d_lias` to position `0` of property `storagemodels` of the main model `sw1d_channel`, the following error occurred: The given submodel is not an instance of any of the following supported interfaces: StorageModel_V1.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubmodelsProperty.delete_submodel">
<span class="sig-name descname"><span class="pre">delete_submodel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#SubmodelsProperty.delete_submodel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.SubmodelsProperty.delete_submodel" title="Link to this definition">¶</a></dt>
<dd><p>Delete the submodel at the given position.</p>
<p>We prepare the main model and its submodel in Cython and pure Python mode to
test that <a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.delete_submodel" title="hydpy.core.modeltools.SubmodelsProperty.delete_submodel"><code class="xref py py-func docutils literal notranslate"><span class="pre">delete_submodel()</span></code></a> works both in Cython and pure
Python Cython mode:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">prepare_model</span><span class="p">,</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">main_py</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_channel&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">sub_py</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_storage&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">(</span><span class="kc">True</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">main_cy</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_channel&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">sub_cy</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_storage&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>In pure Python mode, <a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.delete_submodel" title="hydpy.core.modeltools.SubmodelsProperty.delete_submodel"><code class="xref py py-func docutils literal notranslate"><span class="pre">delete_submodel()</span></code></a> resets the entry in
the submodel vector to <code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code> and the type ID to zero:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">put_submodel</span><span class="p">(</span><span class="n">submodel</span><span class="o">=</span><span class="n">sub_py</span><span class="p">,</span> <span class="n">typeid</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="n">sub_py</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">delete_submodel</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span>
</pre></div>
</div>
<p>In Cython mode, <a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.delete_submodel" title="hydpy.core.modeltools.SubmodelsProperty.delete_submodel"><code class="xref py py-func docutils literal notranslate"><span class="pre">delete_submodel()</span></code></a> does the same for the
analogue C vectors:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">put_submodel</span><span class="p">(</span><span class="n">submodel</span><span class="o">=</span><span class="n">sub_cy</span><span class="p">,</span> <span class="n">typeid</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">_get_typeid</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="n">sub_cy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">_get_submodel</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="ow">is</span> <span class="n">sub_cy</span><span class="o">.</span><span class="n">cymodel</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">delete_submodel</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">_get_typeid</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">_get_submodel</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span>
</pre></div>
</div>
<p>Calling <a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.delete_submodel" title="hydpy.core.modeltools.SubmodelsProperty.delete_submodel"><code class="xref py py-func docutils literal notranslate"><span class="pre">delete_submodel()</span></code></a> for a position with an existing
submodel does not raise a warning or error:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">delete_submodel</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Potential errors are reported like this:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">delete_submodel</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">IndexError</span>: <span class="n">While trying to delete a submodel at position `3` of property `storagemodels` of the main model `sw1d_channel`, the following error occurred: list assignment index out of range</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubmodelsProperty.append_submodel">
<span class="sig-name descname"><span class="pre">append_submodel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">submodel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">TypeSubmodelInterface</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">typeid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#SubmodelsProperty.append_submodel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.SubmodelsProperty.append_submodel" title="Link to this definition">¶</a></dt>
<dd><p>Append a submodel and its relevant type ID to the already available ones.</p>
<p>We prepare the main model and its submodel in Cython and pure Python mode to
test that <a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.append_submodel" title="hydpy.core.modeltools.SubmodelsProperty.append_submodel"><code class="xref py py-func docutils literal notranslate"><span class="pre">append_submodel()</span></code></a> works for all possible
combinations:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">prepare_model</span><span class="p">,</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">main_py</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_channel&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">sub_py</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_storage&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">(</span><span class="kc">True</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">main_cy</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_channel&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">sub_cy</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_storage&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For two pure Python models, there is no need to bother with synchronising
cythonized models:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">append_submodel</span><span class="p">(</span><span class="n">submodel</span><span class="o">=</span><span class="n">sub_py</span><span class="p">,</span> <span class="n">typeid</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">number</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="n">sub_py</span>
</pre></div>
</div>
<p>If both models are initialised in Cython mode,
<a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.append_submodel" title="hydpy.core.modeltools.SubmodelsProperty.append_submodel"><code class="xref py py-func docutils literal notranslate"><span class="pre">append_submodel()</span></code></a> updates <a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.typeids" title="hydpy.core.modeltools.SubmodelsProperty.typeids"><code class="xref py py-const docutils literal notranslate"><span class="pre">typeids</span></code></a> and
<a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.submodels" title="hydpy.core.modeltools.SubmodelsProperty.submodels"><code class="xref py py-const docutils literal notranslate"><span class="pre">submodels</span></code></a> as well as the corresponding vectors of the
cythonized models:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">append_submodel</span><span class="p">(</span><span class="n">submodel</span><span class="o">=</span><span class="n">sub_cy</span><span class="p">,</span> <span class="n">typeid</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">number</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">_get_typeid</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="n">sub_cy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">_get_submodel</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="ow">is</span> <span class="n">sub_cy</span><span class="o">.</span><span class="n">cymodel</span>
</pre></div>
</div>
<p>Connecting a pure Python mode main model with a Cython mode submodel causes no
harm:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">append_submodel</span><span class="p">(</span><span class="n">submodel</span><span class="o">=</span><span class="n">sub_cy</span><span class="p">,</span> <span class="n">typeid</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">number</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="n">sub_py</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="n">sub_cy</span>
</pre></div>
</div>
<p>However, connecting a Cython mode main model with a pure Python mode submodel
would result in erroneous calculations and thus raises the following error:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">append_submodel</span><span class="p">(</span><span class="n">submodel</span><span class="o">=</span><span class="n">sub_py</span><span class="p">,</span> <span class="n">typeid</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">While trying to append submodel `sw1d_storage` to property `storagemodels` of the main model `sw1d_channel`, the following error occurred: The main model is initialised in Cython mode, but the submodel is initialised in pure Python mode so that the main model&#39;s cythonized methods could apply the submodel&#39;s methods.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">number</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">_get_typeid</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="n">sub_cy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_cy</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">_get_submodel</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="ow">is</span> <span class="n">sub_cy</span><span class="o">.</span><span class="n">cymodel</span>
</pre></div>
</div>
<p>Method <a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.append_submodel" title="hydpy.core.modeltools.SubmodelsProperty.append_submodel"><code class="xref py py-func docutils literal notranslate"><span class="pre">append_submodel()</span></code></a> checks if the given submodel follows
at least one supported interface:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sub_wrong</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_lias&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">append_submodel</span><span class="p">(</span><span class="n">submodel</span><span class="o">=</span><span class="n">sub_wrong</span><span class="p">,</span> <span class="n">typeid</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to append submodel `sw1d_lias` to property `storagemodels` of the main model `sw1d_channel`, the following error occurred: The given submodel is not an instance of any of the following supported interfaces: StorageModel_V1.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">number</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="n">sub_py</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">typeids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">storagemodels</span><span class="o">.</span><span class="n">submodels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="n">sub_cy</span>
</pre></div>
</div>
<p>For convenience, you can omit to pass the type ID.
<a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.append_submodel" title="hydpy.core.modeltools.SubmodelsProperty.append_submodel"><code class="xref py py-func docutils literal notranslate"><span class="pre">append_submodel()</span></code></a> then detects the first suitable ID
automatically:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">main_py</span><span class="o">.</span><span class="n">routingmodels</span><span class="o">.</span><span class="n">append_submodel</span><span class="p">(</span><span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_weir_out&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main_py</span><span class="o">.</span><span class="n">routingmodels</span><span class="o">.</span><span class="n">append_submodel</span><span class="p">(</span><span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_q_in&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main_py</span><span class="o">.</span><span class="n">routingmodels</span><span class="o">.</span><span class="n">append_submodel</span><span class="p">(</span><span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_lias&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">routingmodels</span><span class="o">.</span><span class="n">number</span> <span class="o">==</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main_py</span><span class="o">.</span><span class="n">routingmodels</span><span class="o">.</span><span class="n">typeids</span> <span class="o">==</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Method <a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty.append_submodel" title="hydpy.core.modeltools.SubmodelsProperty.append_submodel"><code class="xref py py-func docutils literal notranslate"><span class="pre">append_submodel()</span></code></a> checks if the given submodel follows
at least one supported interface:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">main_py</span><span class="o">.</span><span class="n">routingmodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">routingmodelsupstream</span><span class="o">.</span><span class="n">append_submodel</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_q_out&quot;</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to append submodel `sw1d_q_out` to property `routingmodelsupstream` of the main model `sw1d_weir_out`, the following error occurred: The given submodel is not an instance of any of the following supported interfaces: RoutingModel_V1 and RoutingModel_V2.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubmodelsProperty.submodels">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">submodels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><span class="pre">TypeSubmodelInterface</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.modeltools.SubmodelsProperty.submodels" title="Link to this definition">¶</a></dt>
<dd><p>The currently handled submodels.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">prepare_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_channel&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sub1</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_q_in&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sub2</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_lias&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main</span><span class="o">.</span><span class="n">routingmodels</span><span class="o">.</span><span class="n">append_submodel</span><span class="p">(</span><span class="n">submodel</span><span class="o">=</span><span class="n">sub1</span><span class="p">,</span> <span class="n">typeid</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main</span><span class="o">.</span><span class="n">routingmodels</span><span class="o">.</span><span class="n">append_submodel</span><span class="p">(</span><span class="n">submodel</span><span class="o">=</span><span class="n">sub2</span><span class="p">,</span> <span class="n">typeid</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main</span><span class="o">.</span><span class="n">routingmodels</span><span class="o">.</span><span class="n">submodels</span> <span class="o">==</span> <span class="p">(</span><span class="n">sub1</span><span class="p">,</span> <span class="n">sub2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubmodelsProperty.typeids">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">typeids</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.modeltools.SubmodelsProperty.typeids" title="Link to this definition">¶</a></dt>
<dd><p>The interface-specific type IDs of the currently handled submodels.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">prepare_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_channel&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sub1</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_q_in&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sub2</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_lias&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main</span><span class="o">.</span><span class="n">routingmodels</span><span class="o">.</span><span class="n">append_submodel</span><span class="p">(</span><span class="n">submodel</span><span class="o">=</span><span class="n">sub1</span><span class="p">,</span> <span class="n">typeid</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">main</span><span class="o">.</span><span class="n">routingmodels</span><span class="o">.</span><span class="n">append_submodel</span><span class="p">(</span><span class="n">submodel</span><span class="o">=</span><span class="n">sub2</span><span class="p">,</span> <span class="n">typeid</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">main</span><span class="o">.</span><span class="n">routingmodels</span><span class="o">.</span><span class="n">typeids</span> <span class="o">==</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubmodelIsMainmodelProperty">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">SubmodelIsMainmodelProperty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">doc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#SubmodelIsMainmodelProperty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.SubmodelIsMainmodelProperty" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Descriptor for boolean “submodel_is_mainmodel” attributes.</p>
<p><a class="reference internal" href="#hydpy.core.modeltools.SubmodelIsMainmodelProperty" title="hydpy.core.modeltools.SubmodelIsMainmodelProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubmodelIsMainmodelProperty</span></code></a> instances work like simple boolean attributes but
silently synchronise the equally named boolean attributes of the corresponding
cython model, if available:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">prepare_model</span><span class="p">,</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">(</span><span class="kc">True</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;hland_96&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">model</span><span class="p">)</span><span class="o">.</span><span class="n">aetmodel_is_mainmodel</span><span class="o">.</span><span class="n">_name</span>
<span class="go">&#39;aetmodel_is_mainmodel&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel_is_mainmodel</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">aetmodel_is_mainmodel</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel_is_mainmodel</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel_is_mainmodel</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">aetmodel_is_mainmodel</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubmodelTypeIDProperty">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">SubmodelTypeIDProperty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">doc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#SubmodelTypeIDProperty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.SubmodelTypeIDProperty" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Descriptor for integer “submodel_typeid” attributes.</p>
<p><a class="reference internal" href="#hydpy.core.modeltools.SubmodelTypeIDProperty" title="hydpy.core.modeltools.SubmodelTypeIDProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubmodelTypeIDProperty</span></code></a> instances work like simple integer attributes but silently
synchronise the equally named integer attributes of the corresponding cython model,
if available:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">prepare_model</span><span class="p">,</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">(</span><span class="kc">True</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;hland_96&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">model</span><span class="p">)</span><span class="o">.</span><span class="n">aetmodel_typeid</span><span class="o">.</span><span class="n">_name</span>
<span class="go">&#39;aetmodel_typeid&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel_typeid</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">aetmodel_typeid</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel_typeid</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel_typeid</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">cymodel</span><span class="o">.</span><span class="n">aetmodel_typeid</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.IndexProperty">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">IndexProperty</span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#IndexProperty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.IndexProperty" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base class for index descriptors like <a class="reference internal" href="#hydpy.core.modeltools.Idx_Sim" title="hydpy.core.modeltools.Idx_Sim"><code class="xref py py-class docutils literal notranslate"><span class="pre">Idx_Sim</span></code></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.IndexProperty.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.IndexProperty.name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Idx_Sim">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">Idx_Sim</span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Idx_Sim"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Idx_Sim" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hydpy.core.modeltools.IndexProperty" title="hydpy.core.modeltools.IndexProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">IndexProperty</span></code></a></p>
<p>The simulation step index.</p>
<p>Some model methods require knowing the index of the current simulation step (with
respect to the initialisation period), which one usually updates by passing it to
<a class="reference internal" href="#hydpy.core.modeltools.Model.simulate" title="hydpy.core.modeltools.Model.simulate"><code class="xref py py-func docutils literal notranslate"><span class="pre">simulate()</span></code></a>.  However, you can change it manually via the <a class="reference internal" href="#hydpy.core.modeltools.Idx_Sim" title="hydpy.core.modeltools.Idx_Sim"><code class="xref py py-class docutils literal notranslate"><span class="pre">Idx_Sim</span></code></a>
descriptor, which is often beneficial during testing:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.hland_96</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">(</span><span class="s2">&quot;1d&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">idx_sim</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">idx_sim</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">idx_sim</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Like other objects of <a class="reference internal" href="#hydpy.core.modeltools.IndexProperty" title="hydpy.core.modeltools.IndexProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">IndexProperty</span></code></a> subclasses, <a class="reference internal" href="#hydpy.core.modeltools.Idx_Sim" title="hydpy.core.modeltools.Idx_Sim"><code class="xref py py-class docutils literal notranslate"><span class="pre">Idx_Sim</span></code></a> objects are aware of
their name:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Model</span><span class="o">.</span><span class="n">idx_sim</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;idx_sim&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Idx_HRU">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">Idx_HRU</span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Idx_HRU"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Idx_HRU" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hydpy.core.modeltools.IndexProperty" title="hydpy.core.modeltools.IndexProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">IndexProperty</span></code></a></p>
<p>The hydrological response unit index.</p>
<p>The documentation on class <a class="reference internal" href="#hydpy.core.modeltools.Idx_Sim" title="hydpy.core.modeltools.Idx_Sim"><code class="xref py py-class docutils literal notranslate"><span class="pre">Idx_Sim</span></code></a> explains the general purpose and handling of
<a class="reference internal" href="#hydpy.core.modeltools.IndexProperty" title="hydpy.core.modeltools.IndexProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">IndexProperty</span></code></a> instances.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Idx_Segment">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">Idx_Segment</span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Idx_Segment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Idx_Segment" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hydpy.core.modeltools.IndexProperty" title="hydpy.core.modeltools.IndexProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">IndexProperty</span></code></a></p>
<p>The segment index.</p>
<p>The documentation on class <a class="reference internal" href="#hydpy.core.modeltools.Idx_Sim" title="hydpy.core.modeltools.Idx_Sim"><code class="xref py py-class docutils literal notranslate"><span class="pre">Idx_Sim</span></code></a> explains the general purpose and handling of
<a class="reference internal" href="#hydpy.core.modeltools.IndexProperty" title="hydpy.core.modeltools.IndexProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">IndexProperty</span></code></a> instances.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Idx_Run">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">Idx_Run</span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Idx_Run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Idx_Run" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hydpy.core.modeltools.IndexProperty" title="hydpy.core.modeltools.IndexProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">IndexProperty</span></code></a></p>
<p>The run index.</p>
<p>The documentation on class <a class="reference internal" href="#hydpy.core.modeltools.Idx_Sim" title="hydpy.core.modeltools.Idx_Sim"><code class="xref py py-class docutils literal notranslate"><span class="pre">Idx_Sim</span></code></a> explains the general purpose and handling of
<a class="reference internal" href="#hydpy.core.modeltools.IndexProperty" title="hydpy.core.modeltools.IndexProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">IndexProperty</span></code></a> instances.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.DocName">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">DocName</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">short</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'base</span> <span class="pre">model'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#DocName"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.DocName" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.NamedTuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></a></p>
<p>Definitions for the documentation names of specific base or application
models.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.DocName.short">
<span class="sig-name descname"><span class="pre">short</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.DocName.short" title="Link to this definition">¶</a></dt>
<dd><p>Short name of a model, e.g. “W-Wag”.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.DocName.description">
<span class="sig-name descname"><span class="pre">description</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.DocName.description" title="Link to this definition">¶</a></dt>
<dd><p>Description of a model, e.g. “extended version of the original Wageningen WALRUS 
model”.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.modeltools.DocName.long">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">long</span></span><a class="headerlink" href="#hydpy.core.modeltools.DocName.long" title="Link to this definition">¶</a></dt>
<dd><p>Long name of a model.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.wland_wag</span><span class="w"> </span><span class="kn">import</span> <span class="n">Model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Model</span><span class="o">.</span><span class="n">DOCNAME</span><span class="o">.</span><span class="n">long</span>
<span class="go">&#39;HydPy-W-Wag&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.modeltools.DocName.complete">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">complete</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.DocName.complete" title="Link to this definition">¶</a></dt>
<dd><p>Complete presentation of a model.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.wland_wag</span><span class="w"> </span><span class="kn">import</span> <span class="n">Model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Model</span><span class="o">.</span><span class="n">DOCNAME</span><span class="o">.</span><span class="n">complete</span>
<span class="go">&#39;HydPy-W-Wag (extended version of the original Wageningen WALRUS model)&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.modeltools.DocName.family">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">family</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.DocName.family" title="Link to this definition">¶</a></dt>
<dd><p>Family name of a model.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.wland_wag</span><span class="w"> </span><span class="kn">import</span> <span class="n">Model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Model</span><span class="o">.</span><span class="n">DOCNAME</span><span class="o">.</span><span class="n">family</span>
<span class="go">&#39;HydPy-W&#39;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">Model</span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base class for all hydrological models.</p>
<p>Class <a class="reference internal" href="#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> provides everything to create a usable application model, except
method <a class="reference internal" href="#hydpy.core.modeltools.Model.simulate" title="hydpy.core.modeltools.Model.simulate"><code class="xref py py-func docutils literal notranslate"><span class="pre">simulate()</span></code></a>.  See classes <a class="reference internal" href="#hydpy.core.modeltools.AdHocModel" title="hydpy.core.modeltools.AdHocModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">AdHocModel</span></code></a> and <a class="reference internal" href="#hydpy.core.modeltools.ELSModel" title="hydpy.core.modeltools.ELSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ELSModel</span></code></a>, which implement
this method.</p>
<p>Class <a class="reference internal" href="#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> does not prepare the strongly required attributes <cite>parameters</cite> and
<cite>sequences</cite> during initialisation.  You need to add them manually whenever you want
to prepare a workable <a class="reference internal" href="#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> object on your own (see the factory functions
<a class="reference internal" href="importtools.html#hydpy.core.importtools.prepare_model" title="hydpy.core.importtools.prepare_model"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_model()</span></code></a> and <a class="reference internal" href="importtools.html#hydpy.core.importtools.parameterstep" title="hydpy.core.importtools.parameterstep"><code class="xref py py-func docutils literal notranslate"><span class="pre">parameterstep()</span></code></a>, which do this regularly).</p>
<p>Similar to <cite>parameters</cite> and <cite>sequences</cite>, there is also the dynamic <cite>masks</cite>
attribute, making all predefined masks of the actual model type available within a
<a class="reference internal" href="masktools.html#hydpy.core.masktools.Masks" title="hydpy.core.masktools.Masks"><code class="xref py py-class docutils literal notranslate"><span class="pre">Masks</span></code></a> object:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.hland_96</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">(</span><span class="s2">&quot;1d&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">masks</span>
<span class="go">complete of module hydpy.models.hland.hland_masks</span>
<span class="go">land of module hydpy.models.hland.hland_masks</span>
<span class="go">upperzone of module hydpy.models.hland.hland_masks</span>
<span class="go">snow of module hydpy.models.hland.hland_masks</span>
<span class="go">soil of module hydpy.models.hland.hland_masks</span>
<span class="go">field of module hydpy.models.hland.hland_masks</span>
<span class="go">forest of module hydpy.models.hland.hland_masks</span>
<span class="go">ilake of module hydpy.models.hland.hland_masks</span>
<span class="go">glacier of module hydpy.models.hland.hland_masks</span>
<span class="go">sealed of module hydpy.models.hland.hland_masks</span>
<span class="go">noglacier of module hydpy.models.hland.hland_masks</span>
</pre></div>
</div>
<p>You can use these masks, for example, to average the zone-specific precipitation
values handled by sequence <a class="reference internal" href="hland.html#hydpy.models.hland.hland_fluxes.PC" title="hydpy.models.hland.hland_fluxes.PC"><code class="xref py py-class docutils literal notranslate"><span class="pre">PC</span></code></a>.  When passing no argument, method
<a class="reference internal" href="variabletools.html#hydpy.core.variabletools.Variable.average_values" title="hydpy.core.variabletools.Variable.average_values"><code class="xref py py-func docutils literal notranslate"><span class="pre">average_values()</span></code></a> applies the <cite>complete</cite> mask.  For example, pass mask
<cite>land</cite> to average the values of all zones except those of type
<a class="reference internal" href="hland.html#hydpy.models.hland.hland_constants.ILAKE" title="hydpy.models.hland.hland_constants.ILAKE"><code class="xref py py-const docutils literal notranslate"><span class="pre">ILAKE</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">nmbzones</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zonetype</span><span class="p">(</span><span class="n">FIELD</span><span class="p">,</span> <span class="n">FOREST</span><span class="p">,</span> <span class="n">GLACIER</span><span class="p">,</span> <span class="n">ILAKE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zonearea</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">pc</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">7.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">pc</span><span class="o">.</span><span class="n">average_values</span><span class="p">()</span>
<span class="go">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">pc</span><span class="o">.</span><span class="n">average_values</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">masks</span><span class="o">.</span><span class="n">land</span><span class="p">)</span>
<span class="go">3.0</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.parameters">
<span class="sig-name descname"><span class="pre">parameters</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="parametertools.html#hydpy.core.parametertools.Parameters" title="hydpy.core.parametertools.Parameters"><span class="pre">parametertools.Parameters</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.Model.parameters" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.sequences">
<span class="sig-name descname"><span class="pre">sequences</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sequences" title="hydpy.core.sequencetools.Sequences"><span class="pre">sequencetools.Sequences</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.Model.sequences" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.masks">
<span class="sig-name descname"><span class="pre">masks</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="masktools.html#hydpy.core.masktools.Masks" title="hydpy.core.masktools.Masks"><span class="pre">masktools.Masks</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.Model.masks" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.idx_sim">
<span class="sig-name descname"><span class="pre">idx_sim</span></span><a class="headerlink" href="#hydpy.core.modeltools.Model.idx_sim" title="Link to this definition">¶</a></dt>
<dd><p>The simulation step index.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.METHOD_GROUPS">
<span class="sig-name descname"><span class="pre">METHOD_GROUPS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.modeltools.Model.METHOD_GROUPS" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.REUSABLE_METHODS">
<span class="sig-name descname"><span class="pre">REUSABLE_METHODS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.13)"><span class="pre">type</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#hydpy.core.modeltools.ReusableMethod" title="hydpy.core.modeltools.ReusableMethod"><span class="pre">ReusableMethod</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.modeltools.Model.REUSABLE_METHODS" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.COMPOSITE">
<span class="sig-name descname"><span class="pre">COMPOSITE</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#hydpy.core.modeltools.Model.COMPOSITE" title="Link to this definition">¶</a></dt>
<dd><p>Flag for informing whether the respective <a class="reference internal" href="#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> subclass is usually not 
directly applied by model users but behind the scenes for compositing all models 
owned by elements belonging to the same <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element.collective" title="hydpy.core.devicetools.Element.collective"><code class="xref py py-attr docutils literal notranslate"><span class="pre">collective</span></code></a> (see method 
<a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Elements.unite_collectives" title="hydpy.core.devicetools.Elements.unite_collectives"><code class="xref py py-func docutils literal notranslate"><span class="pre">unite_collectives()</span></code></a>).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.DOCNAME">
<span class="sig-name descname"><span class="pre">DOCNAME</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#hydpy.core.modeltools.DocName" title="hydpy.core.modeltools.DocName"><span class="pre">DocName</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.Model.DOCNAME" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.cymodel">
<span class="sig-name descname"><span class="pre">cymodel</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.CyModelProtocol" title="hydpy.core.typingtools.CyModelProtocol"><span class="pre">CyModelProtocol</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.Model.cymodel" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.element">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">element</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><span class="pre">Element</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.Model.element" title="Link to this definition">¶</a></dt>
<dd><p>The model instance’s master element.</p>
<p>Usually, one assigns a <a class="reference internal" href="#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> instance to an <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> instance, but the other
way round works as well (for more information, see the documentation on
property <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element.model" title="hydpy.core.devicetools.Element.model"><code class="xref py py-const docutils literal notranslate"><span class="pre">model</span></code></a> of class <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a>):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">Element</span><span class="p">,</span> <span class="n">prepare_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.modeltools</span><span class="w"> </span><span class="kn">import</span> <span class="n">Model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;musk_classic&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">element</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">hydpy.core.exceptiontools.AttributeNotReady</span>: <span class="n">Model `musk_classic` is not connected to an `Element` so far.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">element</span> <span class="o">=</span> <span class="n">e</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">While trying to build the node connection of the `outlet` sequences of the model handled by element `e`, the following error occurred: Sequence `q` of element `e` cannot be connected due to no available node handling variable `Q`.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">element</span>
<span class="go">Element(&quot;e&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;musk_classic&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">model</span><span class="o">.</span><span class="n">element</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">element</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">hydpy.core.exceptiontools.AttributeNotReady</span>: <span class="n">Model `musk_classic` is not connected to an `Element` so far.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span><span class="o">.</span><span class="n">model</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">hydpy.core.exceptiontools.AttributeNotReady</span>: <span class="n">The model object of element `e` has been requested but not been prepared so far.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.connect">
<span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.connect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.connect" title="Link to this definition">¶</a></dt>
<dd><p>Connect all <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.LinkSequence" title="hydpy.core.sequencetools.LinkSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinkSequence</span></code></a> objects and the selected <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.InputSequence" title="hydpy.core.sequencetools.InputSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">InputSequence</span></code></a> and
<a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.OutputSequence" title="hydpy.core.sequencetools.OutputSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">OutputSequence</span></code></a> objects of the actual model to the corresponding
<a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.NodeSequence" title="hydpy.core.sequencetools.NodeSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeSequence</span></code></a> objects.</p>
<p>You cannot connect any sequences until the <a class="reference internal" href="#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> object itself is connected
to an <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> object referencing the required <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> objects:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">prepare_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;musk_classic&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">hydpy.core.exceptiontools.AttributeNotReady</span>: <span class="n">While trying to build the node connection of the `input` sequences of the model handled by element `?`, the following error occurred: Model `musk_classic` is not connected to an `Element` so far.</span>
</pre></div>
</div>
<p>The application model <a class="reference internal" href="musk_classic.html#module-hydpy.models.musk_classic" title="hydpy.models.musk_classic"><code class="xref py py-mod docutils literal notranslate"><span class="pre">musk_classic</span></code></a> can receive inflow from an arbitrary
number of upstream nodes and passes its outflow to a single downstream node
(note that property <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element.model" title="hydpy.core.devicetools.Element.model"><code class="xref py py-const docutils literal notranslate"><span class="pre">model</span></code></a> of class <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> calls method
<a class="reference internal" href="#hydpy.core.modeltools.Model.connect" title="hydpy.core.modeltools.Model.connect"><code class="xref py py-func docutils literal notranslate"><span class="pre">connect()</span></code></a> automatically):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">Element</span><span class="p">,</span> <span class="n">Node</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">in1</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;in1&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="s2">&quot;Q&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">in2</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;in2&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="s2">&quot;Q&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out1</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;out1&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="s2">&quot;Q&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">element1</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;element1&quot;</span><span class="p">,</span> <span class="n">inlets</span><span class="o">=</span><span class="p">(</span><span class="n">in1</span><span class="p">,</span> <span class="n">in2</span><span class="p">),</span> <span class="n">outlets</span><span class="o">=</span><span class="n">out1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element1</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;musk_classic&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now all connections work as expected:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">in1</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">in2</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out1</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inlets</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(1.0, 2.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">outlets</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(3.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inlets</span><span class="o">.</span><span class="n">q</span> <span class="o">*=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">outlets</span><span class="o">.</span><span class="n">q</span> <span class="o">*=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">in1</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span>
<span class="go">sim(2.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">in2</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span>
<span class="go">sim(4.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out1</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span>
<span class="go">sim(6.0)</span>
</pre></div>
</div>
<p>To show some possible errors and related error messages, we define three
additional nodes, two handling variables different from discharge (<cite>Q</cite>):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">in3</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;in3&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="s2">&quot;X&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out2</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;out2&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="s2">&quot;Q&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out3</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;out3&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="s2">&quot;X&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Link sequence names must match the <cite>variable</cite> a node is handling:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">element2</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;element2&quot;</span><span class="p">,</span> <span class="n">inlets</span><span class="o">=</span><span class="p">(</span><span class="n">in1</span><span class="p">,</span> <span class="n">in2</span><span class="p">),</span> <span class="n">outlets</span><span class="o">=</span><span class="n">out3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element2</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;musk_classic&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">While trying to build the node connection of the `outlet` sequences of the model handled by element `element2`, the following error occurred: Sequence `q` of element `element2` cannot be connected due to no available node handling variable `Q`.</span>
</pre></div>
</div>
<p>One can connect a 0-dimensional link sequence to a single node sequence only:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">element3</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;element3&quot;</span><span class="p">,</span> <span class="n">inlets</span><span class="o">=</span><span class="p">(</span><span class="n">in1</span><span class="p">,</span> <span class="n">in2</span><span class="p">),</span> <span class="n">outlets</span><span class="o">=</span><span class="p">(</span><span class="n">out1</span><span class="p">,</span> <span class="n">out2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element3</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;musk_classic&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">While trying to build the node connection of the `outlet` sequences of the model handled by element `element3`, the following error occurred: Sequence `q` cannot be connected as it is 0-dimensional but multiple nodes are available which are handling variable `Q`.</span>
</pre></div>
</div>
<p>Method <a class="reference internal" href="#hydpy.core.modeltools.Model.connect" title="hydpy.core.modeltools.Model.connect"><code class="xref py py-func docutils literal notranslate"><span class="pre">connect()</span></code></a> generally reports about unusable node sequences:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">element4</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;element4&quot;</span><span class="p">,</span> <span class="n">inlets</span><span class="o">=</span><span class="p">(</span><span class="n">in1</span><span class="p">,</span> <span class="n">in2</span><span class="p">),</span> <span class="n">outlets</span><span class="o">=</span><span class="p">(</span><span class="n">out1</span><span class="p">,</span> <span class="n">out3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element4</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;musk_classic&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">While trying to build the node connection of the `outlet` sequences of the model handled by element `element4`, the following error occurred: The following nodes have not been connected to any sequences: out3.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">element5</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;element5&quot;</span><span class="p">,</span> <span class="n">inlets</span><span class="o">=</span><span class="p">(</span><span class="n">in1</span><span class="p">,</span> <span class="n">in2</span><span class="p">,</span> <span class="n">in3</span><span class="p">),</span> <span class="n">outlets</span><span class="o">=</span><span class="n">out1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element5</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;musk_classic&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">While trying to build the node connection of the `inlet` sequences of the model handled by element `element5`, the following error occurred: The following nodes have not been connected to any sequences: in3.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">element6</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;element6&quot;</span><span class="p">,</span> <span class="n">inlets</span><span class="o">=</span><span class="n">in1</span><span class="p">,</span> <span class="n">outlets</span><span class="o">=</span><span class="n">out1</span><span class="p">,</span> <span class="n">receivers</span><span class="o">=</span><span class="n">in2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element6</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;musk_classic&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">While trying to build the node connection of the `receiver` sequences of the model handled by element `element6`, the following error occurred: The following nodes have not been connected to any sequences: in2.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">element7</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;element7&quot;</span><span class="p">,</span> <span class="n">inlets</span><span class="o">=</span><span class="n">in1</span><span class="p">,</span> <span class="n">outlets</span><span class="o">=</span><span class="n">out1</span><span class="p">,</span> <span class="n">senders</span><span class="o">=</span><span class="n">in2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element7</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;musk_classic&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">While trying to build the node connection of the `sender` sequences of the model handled by element `element7`, the following error occurred: The following nodes have not been connected to any sequences: in2.</span>
</pre></div>
</div>
<p>The above examples explain how to connect link sequences to their nodes.  Such
connections are relatively hard requirements (<a class="reference internal" href="musk_classic.html#module-hydpy.models.musk_classic" title="hydpy.models.musk_classic"><code class="xref py py-mod docutils literal notranslate"><span class="pre">musk_classic</span></code></a> definitively needs
inflow provided from a node, which the node itself typically receives from
another model).  In contrast, connections between input or output sequences and
nodes are optional.  If one defines such a connection for an input sequence, it
receives data from the related node; otherwise, it uses its individually
managed data, usually read from a file.  If one defines such a connection for
an output sequence, it passes its internal data to the related node; otherwise,
nothing happens.</p>
<p>We demonstrate this functionality by focussing on the input sequences
<a class="reference internal" href="hland.html#hydpy.models.hland.hland_inputs.T" title="hydpy.models.hland.hland_inputs.T"><code class="xref py py-class docutils literal notranslate"><span class="pre">T</span></code></a> and <a class="reference internal" href="hland.html#hydpy.models.hland.hland_inputs.P" title="hydpy.models.hland.hland_inputs.P"><code class="xref py py-class docutils literal notranslate"><span class="pre">P</span></code></a> and the output sequences <a class="reference internal" href="hland.html#hydpy.models.hland.hland_fluxes.Q0" title="hydpy.models.hland.hland_fluxes.Q0"><code class="xref py py-class docutils literal notranslate"><span class="pre">Q0</span></code></a>
and <a class="reference internal" href="hland.html#hydpy.models.hland.hland_states.UZ" title="hydpy.models.hland.hland_states.UZ"><code class="xref py py-class docutils literal notranslate"><span class="pre">UZ</span></code></a> of application model <a class="reference internal" href="hland_96.html#module-hydpy.models.hland_96" title="hydpy.models.hland_96"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hland_96</span></code></a>.  <a class="reference internal" href="hland.html#hydpy.models.hland.hland_inputs.T" title="hydpy.models.hland.hland_inputs.T"><code class="xref py py-class docutils literal notranslate"><span class="pre">T</span></code></a> uses
its own data (which we define manually, but we could read it from a file as
well), whereas <a class="reference internal" href="hland.html#hydpy.models.hland.hland_inputs.P" title="hydpy.models.hland.hland_inputs.P"><code class="xref py py-class docutils literal notranslate"><span class="pre">P</span></code></a> gets its data from node <cite>inp1</cite>.  Flux sequence
<a class="reference internal" href="hland.html#hydpy.models.hland.hland_fluxes.Q0" title="hydpy.models.hland.hland_fluxes.Q0"><code class="xref py py-class docutils literal notranslate"><span class="pre">Q0</span></code></a> and state sequence <a class="reference internal" href="hland.html#hydpy.models.hland.hland_states.UZ" title="hydpy.models.hland.hland_states.UZ"><code class="xref py py-class docutils literal notranslate"><span class="pre">UZ</span></code></a> pass their data to two
separate output nodes, whereas all other fluxes and states do not.  This
functionality requires telling each node which sequence it should connect to,
which we do by passing the sequence types (or the globally available aliases
<cite>hland_inputs_P</cite>, <cite>hland_fluxes_Q0</cite>, and <cite>hland_states_UZ</cite>) to the <cite>variable</cite>
keyword of different node objects:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.aliases</span><span class="w"> </span><span class="kn">import</span> <span class="n">hland_inputs_P</span><span class="p">,</span> <span class="n">hland_fluxes_Q0</span><span class="p">,</span> <span class="n">hland_states_UZ</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span> <span class="o">=</span> <span class="s2">&quot;2000-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2000-01-06&quot;</span><span class="p">,</span> <span class="s2">&quot;1d&quot;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">inp1</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;inp1&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="n">hland_inputs_P</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outp1</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;outp1&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="n">hland_fluxes_Q0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outp2</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;outp2&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="n">hland_states_UZ</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element8</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;element8&quot;</span><span class="p">,</span> <span class="n">outlets</span><span class="o">=</span><span class="n">out1</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">inp1</span><span class="p">,</span>
<span class="gp">... </span>                   <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="n">outp1</span><span class="p">,</span> <span class="n">outp2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element8</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;hland_96&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element8</span><span class="o">.</span><span class="n">prepare_inputseries</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element8</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inp1</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="p">(</span><span class="mf">9.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element8</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element8</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">t</span>
<span class="go">t(3.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element8</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">p</span>
<span class="go">p(9.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element8</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">q0</span> <span class="o">=</span> <span class="mf">99.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element8</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">uz</span> <span class="o">=</span> <span class="mf">999.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element8</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">update_outputs</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outp1</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span>
<span class="go">sim(99.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outp2</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span>
<span class="go">sim(999.0)</span>
</pre></div>
</div>
<p>Instead of using single <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.InputSequence" title="hydpy.core.sequencetools.InputSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">InputSequence</span></code></a> and <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.OutputSequence" title="hydpy.core.sequencetools.OutputSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">OutputSequence</span></code></a> subclasses, one
can create and apply fused variables, combining multiple subclasses (see the
documentation on class <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.FusedVariable" title="hydpy.core.devicetools.FusedVariable"><code class="xref py py-class docutils literal notranslate"><span class="pre">FusedVariable</span></code></a> for more information and a more
realistic example):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">FusedVariable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.aliases</span><span class="w"> </span><span class="kn">import</span> <span class="n">lland_inputs_Nied</span><span class="p">,</span> <span class="n">lland_fluxes_QDGZ</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Precip</span> <span class="o">=</span> <span class="n">FusedVariable</span><span class="p">(</span><span class="s2">&quot;Precip&quot;</span><span class="p">,</span> <span class="n">hland_inputs_P</span><span class="p">,</span> <span class="n">lland_inputs_Nied</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inp2</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;inp2&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="n">Precip</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FastRunoff</span> <span class="o">=</span> <span class="n">FusedVariable</span><span class="p">(</span><span class="s2">&quot;FastRunoff&quot;</span><span class="p">,</span> <span class="n">hland_fluxes_Q0</span><span class="p">,</span> <span class="n">lland_fluxes_QDGZ</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outp3</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;outp3&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="n">FastRunoff</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element9</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;element9&quot;</span><span class="p">,</span> <span class="n">outlets</span><span class="o">=</span><span class="n">out1</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">inp2</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="n">outp3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element9</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;hland_96&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inp2</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="p">(</span><span class="mf">9.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element9</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element9</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">p</span>
<span class="go">p(9.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element9</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">q0</span> <span class="o">=</span> <span class="mf">99.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element9</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">update_outputs</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outp3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span>
<span class="go">sim(99.0)</span>
</pre></div>
</div>
<p>Method <a class="reference internal" href="#hydpy.core.modeltools.Model.connect" title="hydpy.core.modeltools.Model.connect"><code class="xref py py-func docutils literal notranslate"><span class="pre">connect()</span></code></a> reports if one of the given fused variables does not
find a fitting sequence:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.aliases</span><span class="w"> </span><span class="kn">import</span> <span class="n">lland_inputs_TemL</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Wrong</span> <span class="o">=</span> <span class="n">FusedVariable</span><span class="p">(</span><span class="s2">&quot;Wrong&quot;</span><span class="p">,</span> <span class="n">lland_inputs_Nied</span><span class="p">,</span> <span class="n">lland_inputs_TemL</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inp3</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;inp3&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="n">Wrong</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element10</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;element10&quot;</span><span class="p">,</span> <span class="n">outlets</span><span class="o">=</span><span class="n">out1</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">inp3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element10</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;hland_96&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">While trying to build the node connection of the `input` sequences of the model handled by element `element10`, the following error occurred: The following nodes have not been connected to any sequences: inp3.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">outp4</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;outp4&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="n">Wrong</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element11</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;element11&quot;</span><span class="p">,</span> <span class="n">outlets</span><span class="o">=</span><span class="n">out1</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="n">outp4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element11</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;hland_96&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">While trying to build the node connection of the `output` sequences of the model handled by element `element11`, the following error occurred: None of the output sequences of model `hland_96` is among the sequences of the fused variable `Wrong` of node `outp4`.</span>
</pre></div>
</div>
<p>Selecting the wrong sequences results in the following error messages:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">outp5</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;outp5&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="n">hland_fluxes_Q0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element12</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;element12&quot;</span><span class="p">,</span> <span class="n">outlets</span><span class="o">=</span><span class="n">out1</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">outp5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element12</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;hland_96&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">While trying to build the node connection of the `input` sequences of the model handled by element `element12`, the following error occurred: The following nodes have not been connected to any sequences: outp5.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">inp5</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;inp5&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="s2">&quot;P&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element13</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;element13&quot;</span><span class="p">,</span> <span class="n">outlets</span><span class="o">=</span><span class="n">out1</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="n">inp5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element13</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;hland_96&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">While trying to build the node connection of the `output` sequences of the model handled by element `element13`, the following error occurred: No factor, flux, or state sequence of model `hland_96` is named `p`.</span>
</pre></div>
</div>
<p>So far, you can build connections to 0-dimensional output sequences only:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.hland.hland_fluxes</span><span class="w"> </span><span class="kn">import</span> <span class="n">PC</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outp6</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;outp6&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="n">PC</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element14</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;element14&quot;</span><span class="p">,</span> <span class="n">outlets</span><span class="o">=</span><span class="n">out1</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="n">outp6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element14</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;hland_96&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">While trying to build the node connection of the `output` sequences of the model handled by element `element14`, the following error occurred: Only connections with 0-dimensional output sequences are supported, but sequence `pc` is 1-dimensional.</span>
</pre></div>
</div>
<p><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.FusedVariable" title="hydpy.core.devicetools.FusedVariable"><code class="xref py py-class docutils literal notranslate"><span class="pre">FusedVariable</span></code></a> also supports <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.ReceiverSequence" title="hydpy.core.sequencetools.ReceiverSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReceiverSequence</span></code></a> for passing information from
output nodes to receiver sequences (instead of input sequences, which we
demonstrated in the above examples).  We take the receiver sequences
<a class="reference internal" href="dam.html#hydpy.models.dam.dam_receivers.OWL" title="hydpy.models.dam.dam_receivers.OWL"><code class="xref py py-class docutils literal notranslate"><span class="pre">OWL</span></code></a> (outer water level) and <a class="reference internal" href="dam.html#hydpy.models.dam.dam_receivers.RWL" title="hydpy.models.dam.dam_receivers.RWL"><code class="xref py py-class docutils literal notranslate"><span class="pre">RWL</span></code></a> (remote water
level) used by the application model <a class="reference internal" href="dam_pump.html#module-hydpy.models.dam_pump" title="hydpy.models.dam_pump"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dam_pump</span></code></a> as an example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.aliases</span><span class="w"> </span><span class="kn">import</span> <span class="n">dam_receivers_OWL</span><span class="p">,</span> <span class="n">dam_receivers_RWL</span>
</pre></div>
</div>
<p>One <a class="reference internal" href="dam_pump.html#module-hydpy.models.dam_pump" title="hydpy.models.dam_pump"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dam_pump</span></code></a> instance (handled by element <cite>dam1</cite>) shall receive the water
level (<a class="reference internal" href="dam.html#hydpy.models.dam.dam_factors.WaterLevel" title="hydpy.models.dam.dam_factors.WaterLevel"><code class="xref py py-class docutils literal notranslate"><span class="pre">WaterLevel</span></code></a>) of two independent <a class="reference internal" href="dam_pump.html#module-hydpy.models.dam_pump" title="hydpy.models.dam_pump"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dam_pump</span></code></a> instances.
<cite>dam1</cite> interprets the water level of <cite>dam2</cite> as its outer water level and the
water level of <cite>dam3</cite> as its remote water level:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.aliases</span><span class="w"> </span><span class="kn">import</span> <span class="n">dam_factors_WaterLevel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">owl</span> <span class="o">=</span> <span class="n">FusedVariable</span><span class="p">(</span><span class="s2">&quot;OWL&quot;</span><span class="p">,</span> <span class="n">dam_receivers_OWL</span><span class="p">,</span> <span class="n">dam_factors_WaterLevel</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rwl</span> <span class="o">=</span> <span class="n">FusedVariable</span><span class="p">(</span><span class="s2">&quot;RWL&quot;</span><span class="p">,</span> <span class="n">dam_receivers_RWL</span><span class="p">,</span> <span class="n">dam_factors_WaterLevel</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n21</span><span class="p">,</span> <span class="n">n31</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;n21&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="n">owl</span><span class="p">),</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;n31&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="n">rwl</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="n">owl</span><span class="p">),</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="n">rwl</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dam1</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;dam1&quot;</span><span class="p">,</span> <span class="n">inlets</span><span class="o">=</span><span class="s2">&quot;n01&quot;</span><span class="p">,</span> <span class="n">outlets</span><span class="o">=</span><span class="s2">&quot;n12&quot;</span><span class="p">,</span>
<span class="gp">... </span>               <span class="n">receivers</span><span class="o">=</span><span class="p">(</span><span class="n">n21</span><span class="p">,</span> <span class="n">n31</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dam2</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;dam2&quot;</span><span class="p">,</span> <span class="n">inlets</span><span class="o">=</span><span class="s2">&quot;n12&quot;</span><span class="p">,</span> <span class="n">outlets</span><span class="o">=</span><span class="s2">&quot;n23&quot;</span><span class="p">,</span>
<span class="gp">... </span>               <span class="n">receivers</span><span class="o">=</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">),</span> <span class="n">outputs</span><span class="o">=</span><span class="n">n21</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dam3</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;dam3&quot;</span><span class="p">,</span> <span class="n">inlets</span><span class="o">=</span><span class="s2">&quot;n23&quot;</span><span class="p">,</span> <span class="n">outlets</span><span class="o">=</span><span class="s2">&quot;n34&quot;</span><span class="p">,</span>
<span class="gp">... </span>               <span class="n">receivers</span><span class="o">=</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="n">outputs</span><span class="o">=</span><span class="n">n31</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dam1</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;dam_pump&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dam2</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;dam_pump&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dam3</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;dam_pump&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>We confirm that all connections are correctly built by letting <cite>dam2</cite> and
<cite>dam3</cite> send different water levels:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dam2</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">factors</span><span class="o">.</span><span class="n">waterlevel</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dam2</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">update_outputs</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dam3</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">factors</span><span class="o">.</span><span class="n">waterlevel</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dam3</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">update_outputs</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dam1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">receivers</span><span class="o">.</span><span class="n">owl</span>
<span class="go">owl(2.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dam1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">receivers</span><span class="o">.</span><span class="n">rwl</span>
<span class="go">rwl(3.0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.name">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.Model.name" title="Link to this definition">¶</a></dt>
<dd><p>Name of the model type.</p>
<p>For base models, <a class="reference internal" href="#hydpy.core.modeltools.Model.name" title="hydpy.core.modeltools.Model.name"><code class="xref py py-const docutils literal notranslate"><span class="pre">name</span></code></a> corresponds to the package name:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">prepare_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hland</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;hland&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hland</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;hland&#39;</span>
</pre></div>
</div>
<p>For application models, <a class="reference internal" href="#hydpy.core.modeltools.Model.name" title="hydpy.core.modeltools.Model.name"><code class="xref py py-const docutils literal notranslate"><span class="pre">name</span></code></a> to corresponds the module name:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hland_96</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;hland_96&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hland_96</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;hland_96&#39;</span>
</pre></div>
</div>
<p>This last example has only technical reasons:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hland</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;hland&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.prepare_allseries">
<span class="sig-name descname"><span class="pre">prepare_allseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allocate_ram</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.prepare_allseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.prepare_allseries" title="Link to this definition">¶</a></dt>
<dd><p>Call method <a class="reference internal" href="#hydpy.core.modeltools.Model.prepare_inputseries" title="hydpy.core.modeltools.Model.prepare_inputseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_inputseries()</span></code></a> with <cite>read_jit=jit</cite> and methods
<a class="reference internal" href="#hydpy.core.modeltools.Model.prepare_factorseries" title="hydpy.core.modeltools.Model.prepare_factorseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_factorseries()</span></code></a>, <a class="reference internal" href="#hydpy.core.modeltools.Model.prepare_fluxseries" title="hydpy.core.modeltools.Model.prepare_fluxseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_fluxseries()</span></code></a>, and
<a class="reference internal" href="#hydpy.core.modeltools.Model.prepare_stateseries" title="hydpy.core.modeltools.Model.prepare_stateseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_stateseries()</span></code></a> with <cite>write_jit=jit</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.prepare_inputseries">
<span class="sig-name descname"><span class="pre">prepare_inputseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allocate_ram</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_jit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_jit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.prepare_inputseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.prepare_inputseries" title="Link to this definition">¶</a></dt>
<dd><p>Call method <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence.prepare_series" title="hydpy.core.sequencetools.IOSequence.prepare_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_series()</span></code></a> of all directly handled
<a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.InputSequence" title="hydpy.core.sequencetools.InputSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">InputSequence</span></code></a> objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.prepare_factorseries">
<span class="sig-name descname"><span class="pre">prepare_factorseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allocate_ram</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_jit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_jit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.prepare_factorseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.prepare_factorseries" title="Link to this definition">¶</a></dt>
<dd><p>Call method <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence.prepare_series" title="hydpy.core.sequencetools.IOSequence.prepare_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_series()</span></code></a> of all directly handled
<a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.FactorSequence" title="hydpy.core.sequencetools.FactorSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">FactorSequence</span></code></a> objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.prepare_fluxseries">
<span class="sig-name descname"><span class="pre">prepare_fluxseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allocate_ram</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_jit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_jit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.prepare_fluxseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.prepare_fluxseries" title="Link to this definition">¶</a></dt>
<dd><p>Call method <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence.prepare_series" title="hydpy.core.sequencetools.IOSequence.prepare_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_series()</span></code></a> of all directly handled
<a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.FluxSequence" title="hydpy.core.sequencetools.FluxSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">FluxSequence</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.prepare_stateseries">
<span class="sig-name descname"><span class="pre">prepare_stateseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allocate_ram</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_jit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_jit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.prepare_stateseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.prepare_stateseries" title="Link to this definition">¶</a></dt>
<dd><p>Call method <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence.prepare_series" title="hydpy.core.sequencetools.IOSequence.prepare_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_series()</span></code></a> of all directly handled
<a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.StateSequence" title="hydpy.core.sequencetools.StateSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateSequence</span></code></a> objects and.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.load_allseries">
<span class="sig-name descname"><span class="pre">load_allseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.load_allseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.load_allseries" title="Link to this definition">¶</a></dt>
<dd><p>Call method <a class="reference internal" href="#hydpy.core.modeltools.Model.load_inputseries" title="hydpy.core.modeltools.Model.load_inputseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_inputseries()</span></code></a>, <a class="reference internal" href="#hydpy.core.modeltools.Model.load_factorseries" title="hydpy.core.modeltools.Model.load_factorseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_factorseries()</span></code></a>,
<a class="reference internal" href="#hydpy.core.modeltools.Model.load_fluxseries" title="hydpy.core.modeltools.Model.load_fluxseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_fluxseries()</span></code></a>, and <a class="reference internal" href="#hydpy.core.modeltools.Model.load_stateseries" title="hydpy.core.modeltools.Model.load_stateseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_stateseries()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.load_inputseries">
<span class="sig-name descname"><span class="pre">load_inputseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.load_inputseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.load_inputseries" title="Link to this definition">¶</a></dt>
<dd><p>Call method <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence.load_series" title="hydpy.core.sequencetools.IOSequence.load_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_series()</span></code></a> of all directly handled <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.InputSequence" title="hydpy.core.sequencetools.InputSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">InputSequence</span></code></a>
objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.load_factorseries">
<span class="sig-name descname"><span class="pre">load_factorseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.load_factorseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.load_factorseries" title="Link to this definition">¶</a></dt>
<dd><p>Call method <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence.load_series" title="hydpy.core.sequencetools.IOSequence.load_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_series()</span></code></a> of all directly handled
<a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.FactorSequence" title="hydpy.core.sequencetools.FactorSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">FactorSequence</span></code></a> objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.load_fluxseries">
<span class="sig-name descname"><span class="pre">load_fluxseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.load_fluxseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.load_fluxseries" title="Link to this definition">¶</a></dt>
<dd><p>Call method <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence.load_series" title="hydpy.core.sequencetools.IOSequence.load_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_series()</span></code></a> of all directly handled <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.FluxSequence" title="hydpy.core.sequencetools.FluxSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">FluxSequence</span></code></a>
objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.load_stateseries">
<span class="sig-name descname"><span class="pre">load_stateseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.load_stateseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.load_stateseries" title="Link to this definition">¶</a></dt>
<dd><p>Call method <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence.load_series" title="hydpy.core.sequencetools.IOSequence.load_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_series()</span></code></a> of all directly handled <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.StateSequence" title="hydpy.core.sequencetools.StateSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateSequence</span></code></a>
objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.save_allseries">
<span class="sig-name descname"><span class="pre">save_allseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.save_allseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.save_allseries" title="Link to this definition">¶</a></dt>
<dd><p>Call method <a class="reference internal" href="#hydpy.core.modeltools.Model.save_inputseries" title="hydpy.core.modeltools.Model.save_inputseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_inputseries()</span></code></a>, <a class="reference internal" href="#hydpy.core.modeltools.Model.save_factorseries" title="hydpy.core.modeltools.Model.save_factorseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_factorseries()</span></code></a>,
<a class="reference internal" href="#hydpy.core.modeltools.Model.save_fluxseries" title="hydpy.core.modeltools.Model.save_fluxseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_fluxseries()</span></code></a>, and <a class="reference internal" href="#hydpy.core.modeltools.Model.save_stateseries" title="hydpy.core.modeltools.Model.save_stateseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_stateseries()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.save_inputseries">
<span class="sig-name descname"><span class="pre">save_inputseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.save_inputseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.save_inputseries" title="Link to this definition">¶</a></dt>
<dd><p>Call method <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence.save_series" title="hydpy.core.sequencetools.IOSequence.save_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_series()</span></code></a> of all directly handled <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.InputSequence" title="hydpy.core.sequencetools.InputSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">InputSequence</span></code></a>
objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.save_factorseries">
<span class="sig-name descname"><span class="pre">save_factorseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.save_factorseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.save_factorseries" title="Link to this definition">¶</a></dt>
<dd><p>Call method <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence.save_series" title="hydpy.core.sequencetools.IOSequence.save_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_series()</span></code></a> of all directly handled
<a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.FactorSequence" title="hydpy.core.sequencetools.FactorSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">FactorSequence</span></code></a> objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.save_fluxseries">
<span class="sig-name descname"><span class="pre">save_fluxseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.save_fluxseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.save_fluxseries" title="Link to this definition">¶</a></dt>
<dd><p>Call method <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence.save_series" title="hydpy.core.sequencetools.IOSequence.save_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_series()</span></code></a> of all directly handled <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.FluxSequence" title="hydpy.core.sequencetools.FluxSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">FluxSequence</span></code></a>
objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.save_stateseries">
<span class="sig-name descname"><span class="pre">save_stateseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.save_stateseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.save_stateseries" title="Link to this definition">¶</a></dt>
<dd><p>Call method <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence.save_series" title="hydpy.core.sequencetools.IOSequence.save_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_series()</span></code></a> of all directly handled <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.StateSequence" title="hydpy.core.sequencetools.StateSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateSequence</span></code></a>
objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.get_controlfileheader">
<span class="sig-name descname"><span class="pre">get_controlfileheader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">import_submodels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameterstep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">timetools.PeriodConstrArg</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulationstep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">timetools.PeriodConstrArg</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.get_controlfileheader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.get_controlfileheader" title="Link to this definition">¶</a></dt>
<dd><p>Return the header of a parameter control file.</p>
<p>The header contains the default coding information, the model import commands
and the actual parameter and simulation step sizes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">prepare_model</span><span class="p">,</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;hland_96&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;evap_aet_hbv96&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span> <span class="o">=</span> <span class="s2">&quot;2000.01.01&quot;</span><span class="p">,</span> <span class="s2">&quot;2001.01.01&quot;</span><span class="p">,</span> <span class="s2">&quot;1h&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">get_controlfileheader</span><span class="p">())</span>
<span class="go"># -*- coding: utf-8 -*-</span>

<span class="go">from hydpy.models.hland_96 import *</span>
<span class="go">from hydpy.models import evap_aet_hbv96</span>

<span class="go">simulationstep(&quot;1h&quot;)</span>
<span class="go">parameterstep(&quot;1d&quot;)</span>

</pre></div>
</div>
<p>Optionally, you can omit the submodel import lines and define alternative
parameter step and simulation step sizes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">get_controlfileheader</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">import_submodels</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">parameterstep</span><span class="o">=</span><span class="s2">&quot;2d&quot;</span><span class="p">,</span> <span class="n">simulationstep</span><span class="o">=</span><span class="s2">&quot;3d&quot;</span><span class="p">))</span>
<span class="go"># -*- coding: utf-8 -*-</span>

<span class="go">from hydpy.models.hland_96 import *</span>

<span class="go">simulationstep(&quot;3d&quot;)</span>
<span class="go">parameterstep(&quot;2d&quot;)</span>

</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.save_controls">
<span class="sig-name descname"><span class="pre">save_controls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameterstep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">timetools.PeriodConstrArg</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulationstep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">timetools.PeriodConstrArg</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auxfiler</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="auxfiletools.html#hydpy.core.auxfiletools.Auxfiler" title="hydpy.core.auxfiletools.Auxfiler"><span class="pre">auxfiletools.Auxfiler</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.save_controls"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.save_controls" title="Link to this definition">¶</a></dt>
<dd><p>Write the control parameters (and eventually some solver parameters) to a
control file.</p>
<p>Usually, a control file consists of a header (see the documentation on the
method <a class="reference internal" href="#hydpy.core.modeltools.Model.get_controlfileheader" title="hydpy.core.modeltools.Model.get_controlfileheader"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_controlfileheader()</span></code></a>) and the string representations of the
individual <a class="reference internal" href="parametertools.html#hydpy.core.parametertools.Parameter" title="hydpy.core.parametertools.Parameter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parameter</span></code></a> objects handled by the <cite>control</cite> <a class="reference internal" href="parametertools.html#hydpy.core.parametertools.SubParameters" title="hydpy.core.parametertools.SubParameters"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubParameters</span></code></a> object.</p>
<p>The main functionality of method <a class="reference internal" href="#hydpy.core.modeltools.Model.save_controls" title="hydpy.core.modeltools.Model.save_controls"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_controls()</span></code></a> is demonstrated in the
documentation on method <a class="reference internal" href="hydpytools.html#hydpy.core.hydpytools.HydPy.save_controls" title="hydpy.core.hydpytools.HydPy.save_controls"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_controls()</span></code></a> of class <a class="reference internal" href="hydpytools.html#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a>, which one
should apply to write the parameter information of complete <em>HydPy</em> projects.
However, calling <a class="reference internal" href="#hydpy.core.modeltools.Model.save_controls" title="hydpy.core.modeltools.Model.save_controls"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_controls()</span></code></a> on individual <a class="reference internal" href="#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> objects offers the
advantage of choosing an arbitrary file path, as shown in the following
example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff1d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">(</span><span class="s2">&quot;1d&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">simulationstep</span><span class="p">(</span><span class="s2">&quot;1h&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">k</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">Open</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">Open</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">model</span><span class="o">.</span><span class="n">save_controls</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;otherdir/otherfile.py&quot;</span><span class="p">)</span>
<span class="go">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="go">otherdir/otherfile.py</span>
<span class="go">---------------------------------------</span>
<span class="go"># -*- coding: utf-8 -*-</span>

<span class="go">from hydpy.models.test_stiff1d import *</span>

<span class="go">simulationstep(&quot;1h&quot;)</span>
<span class="go">parameterstep(&quot;1d&quot;)</span>

<span class="go">k(0.1)</span>
<span class="go">n(3)</span>

<span class="go">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
</pre></div>
</div>
<p>Method <a class="reference internal" href="#hydpy.core.modeltools.Model.save_controls" title="hydpy.core.modeltools.Model.save_controls"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_controls()</span></code></a> also writes the string representations of all
<a class="reference internal" href="parametertools.html#hydpy.core.parametertools.SolverParameter" title="hydpy.core.parametertools.SolverParameter"><code class="xref py py-class docutils literal notranslate"><span class="pre">SolverParameter</span></code></a> objects with non-default values into the control file:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">abserrormax</span><span class="p">(</span><span class="mf">1e-6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">Open</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">model</span><span class="o">.</span><span class="n">save_controls</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;otherdir/otherfile.py&quot;</span><span class="p">)</span>
<span class="go">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="go">otherdir/otherfile.py</span>
<span class="go">---------------------------------------</span>
<span class="go"># -*- coding: utf-8 -*-</span>

<span class="go">from hydpy.models.test_stiff1d import *</span>

<span class="go">simulationstep(&quot;1h&quot;)</span>
<span class="go">parameterstep(&quot;1d&quot;)</span>

<span class="go">k(0.1)</span>
<span class="go">n(3)</span>

<span class="go">solver.abserrormax(0.000001)</span>

<span class="go">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
</pre></div>
</div>
<p>Without a given file path and a proper project configuration, method
<a class="reference internal" href="#hydpy.core.modeltools.Model.save_controls" title="hydpy.core.modeltools.Model.save_controls"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_controls()</span></code></a> raises the following error:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">save_controls</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">To save the control parameters of a model to a file, its filename must be known.  This can be done, by passing a filename to function `save_controls` directly.  But in complete HydPy applications, it is usally assumed to be consistent with the name of the element handling the model.</span>
</pre></div>
</div>
<p>Submodels like <a class="reference internal" href="meteo_glob_fao56.html#module-hydpy.models.meteo_glob_fao56" title="hydpy.models.meteo_glob_fao56"><code class="xref py py-mod docutils literal notranslate"><span class="pre">meteo_glob_fao56</span></code></a> allow using their instances by multiple main
models.  We prepare such a case by selecting such an instance as the submodel
of the absolute main model <a class="reference internal" href="lland_knauf.html#module-hydpy.models.lland_knauf" title="hydpy.models.lland_knauf"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lland_knauf</span></code></a> and the the relative submodel
<a class="reference internal" href="evap_aet_morsim.html#module-hydpy.models.evap_aet_morsim" title="hydpy.models.evap_aet_morsim"><code class="xref py py-mod docutils literal notranslate"><span class="pre">evap_aet_morsim</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.importtools</span><span class="w"> </span><span class="kn">import</span> <span class="n">reverse_model_wildcard_import</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse_model_wildcard_import</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span> <span class="o">=</span> <span class="s2">&quot;2000-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2001-01-02&quot;</span><span class="p">,</span> <span class="s2">&quot;1d&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.lland_knauf</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nhru</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ft</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fhru</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lnk</span><span class="p">(</span><span class="n">ACKER</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">measuringheightwindspeed</span><span class="p">(</span><span class="mf">10.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lai</span><span class="p">(</span><span class="mf">3.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wmax</span><span class="p">(</span><span class="mf">300.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">model</span><span class="o">.</span><span class="n">add_radiationmodel_v1</span><span class="p">(</span><span class="s2">&quot;meteo_glob_fao56&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">meteo_glob_fao56</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">latitude</span><span class="p">(</span><span class="mf">50.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">model</span><span class="o">.</span><span class="n">add_aetmodel_v1</span><span class="p">(</span><span class="s2">&quot;evap_aet_morsim&quot;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">measuringheightwindspeed</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">model</span><span class="o">.</span><span class="n">add_radiationmodel_v1</span><span class="p">(</span><span class="n">meteo_glob_fao56</span><span class="p">)</span>
</pre></div>
</div>
<p>To avoid name collisions, <a class="reference internal" href="#hydpy.core.modeltools.Model.save_controls" title="hydpy.core.modeltools.Model.save_controls"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_controls()</span></code></a> prefixes the string <cite>submodel_</cite>
to the submodel name (which is identical to the submodel module’s name) to
create the name of the variable that references the shared model’s instance:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">Open</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">model</span><span class="o">.</span><span class="n">save_controls</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;otherdir/otherfile.py&quot;</span><span class="p">)</span>
<span class="go">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...</span>
<span class="go">otherdir/otherfile.py</span>
<span class="go">----------------------------------------------------------------------------...</span>
<span class="go"># -*- coding: utf-8 -*-</span>
<span class="go">...</span>
<span class="go">from hydpy.models.lland_knauf import *</span>
<span class="go">from hydpy.models import evap_aet_morsim</span>
<span class="go">from hydpy.models import meteo_glob_fao56</span>
<span class="go">...</span>
<span class="go">simulationstep(&quot;1d&quot;)</span>
<span class="go">parameterstep(&quot;1d&quot;)</span>
<span class="go">...</span>
<span class="go">ft(1.0)</span>
<span class="go">...</span>
<span class="go">measuringheightwindspeed(10.0)</span>
<span class="go">...</span>
<span class="go">with model.add_aetmodel_v1(evap_aet_morsim):</span>
<span class="go">    measuringheightwindspeed(2.0)</span>
<span class="go">    ...</span>
<span class="go">    with model.add_radiationmodel_v1(meteo_glob_fao56) as submodel_meteo_glob_fao56:</span>
<span class="go">        latitude(50.0)</span>
<span class="go">        ...</span>
<span class="go">model.add_radiationmodel_v1(submodel_meteo_glob_fao56)</span>
<span class="go">...</span>
<span class="go">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~...</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.define_conditions">
<span class="sig-name descname"><span class="pre">define_conditions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/types.html#types.ModuleType" title="(in Python v3.13)"><span class="pre">ModuleType</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Generator" title="(in Python v3.13)"><span class="pre">Generator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.define_conditions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.define_conditions" title="Link to this definition">¶</a></dt>
<dd><p>Allow defining the values of condition sequences in condition files
conveniently.</p>
<p><a class="reference internal" href="#hydpy.core.modeltools.Model.define_conditions" title="hydpy.core.modeltools.Model.define_conditions"><code class="xref py py-func docutils literal notranslate"><span class="pre">define_conditions()</span></code></a> works similar to the “add_submodel” methods wrapped
by instances of class <a class="reference internal" href="importtools.html#hydpy.core.importtools.SubmodelAdder" title="hydpy.core.importtools.SubmodelAdder"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubmodelAdder</span></code></a> but is much simpler.  In combination with
the <cite>with</cite> statement, it makes the all relevant state and log sequences
temporarily directly available:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span> <span class="o">=</span> <span class="s2">&quot;2000-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2001-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;6h&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.lland_knauf</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nhru</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ft</span><span class="p">(</span><span class="mf">10.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fhru</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lnk</span><span class="p">(</span><span class="n">ACKER</span><span class="p">,</span> <span class="n">MISCHW</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wmax</span><span class="p">(</span><span class="n">acker</span><span class="o">=</span><span class="mf">100.0</span><span class="p">,</span> <span class="n">mischw</span><span class="o">=</span><span class="mf">200.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">measuringheightwindspeed</span><span class="p">(</span><span class="mf">10.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">model</span><span class="o">.</span><span class="n">add_aetmodel_v1</span><span class="p">(</span><span class="s2">&quot;evap_aet_morsim&quot;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span><span class="o">.</span><span class="n">define_conditions</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">loggedwindspeed2m</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loggedwindspeed2m</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">NameError</span>: <span class="n">name &#39;loggedwindspeed2m&#39; is not defined</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">logs</span><span class="o">.</span><span class="n">loggedwindspeed2m</span>
<span class="go">loggedwindspeed2m(1.0, 3.0, 2.0, 4.0)</span>
</pre></div>
</div>
<p>One can pass the submodel’s module or name for documentation purposes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span><span class="o">.</span><span class="n">define_conditions</span><span class="p">(</span><span class="s2">&quot;evap_aet_morsim&quot;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">loggedwindspeed2m</span><span class="p">(</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loggedwindspeed2m</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">NameError</span>: <span class="n">name &#39;loggedwindspeed2m&#39; is not defined</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">logs</span><span class="o">.</span><span class="n">loggedwindspeed2m</span>
<span class="go">loggedwindspeed2m(4.0, 2.0, 3.0, 1.0)</span>
</pre></div>
</div>
<p>For misleading input, <a class="reference internal" href="#hydpy.core.modeltools.Model.define_conditions" title="hydpy.core.modeltools.Model.define_conditions"><code class="xref py py-func docutils literal notranslate"><span class="pre">define_conditions()</span></code></a> raises the following error:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">evap_aet_hbv96</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span><span class="o">.</span><span class="n">define_conditions</span><span class="p">(</span><span class="n">evap_aet_hbv96</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">loggedwindspeed2m</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">While trying to define the conditions of (sub)model `evap_aet_morsim`, the following error occurred: (Sub)model `evap_aet_morsim` is not of type `evap_aet_hbv96`.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loggedwindspeed2m</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">NameError</span>: <span class="n">name &#39;loggedwindspeed2m&#39; is not defined</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">logs</span><span class="o">.</span><span class="n">loggedwindspeed2m</span>
<span class="go">loggedwindspeed2m(4.0, 2.0, 3.0, 1.0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.load_conditions">
<span class="sig-name descname"><span class="pre">load_conditions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.load_conditions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.load_conditions" title="Link to this definition">¶</a></dt>
<dd><p>Read the initial conditions from a file and assign them to the respective
<a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.StateSequence" title="hydpy.core.sequencetools.StateSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateSequence</span></code></a> and <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.LogSequence" title="hydpy.core.sequencetools.LogSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">LogSequence</span></code></a> objects.</p>
<p>The documentation on method <a class="reference internal" href="hydpytools.html#hydpy.core.hydpytools.HydPy.load_conditions" title="hydpy.core.hydpytools.HydPy.load_conditions"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_conditions()</span></code></a> of class <a class="reference internal" href="hydpytools.html#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a> explains
how to read and write condition values for complete <em>HydPy</em> projects in the
most convenient manner.  However, using the underlying methods
<a class="reference internal" href="#hydpy.core.modeltools.Model.load_conditions" title="hydpy.core.modeltools.Model.load_conditions"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_conditions()</span></code></a> and <a class="reference internal" href="#hydpy.core.modeltools.Model.save_conditions" title="hydpy.core.modeltools.Model.save_conditions"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_conditions()</span></code></a> directly offers the
advantage of specifying alternative filenames.  We demonstrate this by using
the state sequence <a class="reference internal" href="hland.html#hydpy.models.hland.hland_states.SM" title="hydpy.models.hland.hland_states.SM"><code class="xref py py-class docutils literal notranslate"><span class="pre">SM</span></code></a> if the <cite>land_dill_assl</cite> <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> object
of the <cite>HydPy-H-Lahn</cite> example project:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.testtools</span><span class="w"> </span><span class="kn">import</span> <span class="n">prepare_full_example_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="p">,</span> <span class="n">pub</span><span class="p">,</span> <span class="n">TestIO</span> <span class="o">=</span> <span class="n">prepare_full_example_2</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dill_assl</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">land_dill_assl</span><span class="o">.</span><span class="n">model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dill_assl</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">sm</span>
<span class="go">sm(185.13164, 181.18755, 199.80432, 196.55888, 212.04018, 209.48859,</span>
<span class="go">   222.12115, 220.12671, 230.30756, 228.70779, 236.91943, 235.64427)</span>
</pre></div>
</div>
<p>We work in the freshly created condition directory <cite>test</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">pub</span><span class="o">.</span><span class="n">conditionmanager</span><span class="o">.</span><span class="n">currentdir</span> <span class="o">=</span> <span class="s2">&quot;test&quot;</span>
</pre></div>
</div>
<p>We set all soil moisture values to zero and write the updated values to file
<cite>cold_start.py</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dill_assl</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">sm</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">dill_assl</span><span class="o">.</span><span class="n">save_conditions</span><span class="p">(</span><span class="s2">&quot;cold_start.py&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Trying to reload from the written file (after changing the soil moisture values
again) without passing the file name fails due to the wrong assumption that the
element’s name serves as the file name base:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dill_assl</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">sm</span><span class="p">(</span><span class="mf">100.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">dill_assl</span><span class="o">.</span><span class="n">load_conditions</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">FileNotFoundError</span>: <span class="n">While trying to load the initial conditions of element `land_dill_assl`, the following error occurred: [Errno 2] No such file or directory: &#39;...land_dill_assl.py&#39;</span>
</pre></div>
</div>
<p>One does not need to explicitly state the file extensions (<cite>.py</cite>):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">dill_assl</span><span class="o">.</span><span class="n">load_conditions</span><span class="p">(</span><span class="s2">&quot;cold_start&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dill_assl</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">sm</span>
<span class="go">sm(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)</span>
</pre></div>
</div>
<p>Automatically determining the file name requires a proper reference to the
related <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> object:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">dill_assl</span><span class="o">.</span><span class="n">element</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">dill_assl</span><span class="o">.</span><span class="n">save_conditions</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">While trying to save the actual conditions of element `?`, the following error occurred: To load or save the conditions of a model from or to a file, its filename must be known.  This can be done, by passing filename to method `load_conditions` or `save_conditions` directly.  But in complete HydPy applications, it is usally assumed to be consistent with the name of the element handling the model.  Actually, neither a filename is given nor does the model know its master element.</span>
</pre></div>
</div>
<p>The submodels selected in the <cite>HydPy-H-Lahn</cite> example project do not require any
condition sequences.  Hence, we replace the combination of <a class="reference internal" href="evap_aet_hbv96.html#module-hydpy.models.evap_aet_hbv96" title="hydpy.models.evap_aet_hbv96"><code class="xref py py-mod docutils literal notranslate"><span class="pre">evap_aet_hbv96</span></code></a> and
<a class="reference internal" href="evap_pet_hbv96.html#module-hydpy.models.evap_pet_hbv96" title="hydpy.models.evap_pet_hbv96"><code class="xref py py-mod docutils literal notranslate"><span class="pre">evap_pet_hbv96</span></code></a> with a plain <a class="reference internal" href="evap_aet_morsim.html#module-hydpy.models.evap_aet_morsim" title="hydpy.models.evap_aet_morsim"><code class="xref py py-mod docutils literal notranslate"><span class="pre">evap_aet_morsim</span></code></a> instance, which relies on some
log sequences:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">dill_assl</span><span class="o">.</span><span class="n">add_aetmodel_v1</span><span class="p">(</span><span class="s2">&quot;evap_aet_morsim&quot;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
</pre></div>
</div>
<p>The following code demonstrates that reading and writing of condition sequences
also works for submodels:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">logs</span> <span class="o">=</span> <span class="n">dill_assl</span><span class="o">.</span><span class="n">aetmodel</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">logs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logs</span><span class="o">.</span><span class="n">loggedairtemperature</span> <span class="o">=</span> <span class="mf">20.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logs</span><span class="o">.</span><span class="n">loggedwindspeed2m</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">dill_assl</span><span class="o">.</span><span class="n">save_conditions</span><span class="p">(</span><span class="s2">&quot;submodel_conditions.py&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logs</span><span class="o">.</span><span class="n">loggedairtemperature</span> <span class="o">=</span> <span class="mf">10.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logs</span><span class="o">.</span><span class="n">loggedwindspeed2m</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">dill_assl</span><span class="o">.</span><span class="n">load_conditions</span><span class="p">(</span><span class="s2">&quot;submodel_conditions.py&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logs</span><span class="o">.</span><span class="n">loggedairtemperature</span>
<span class="go">loggedairtemperature(20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0, 20.0,</span>
<span class="go">                     20.0, 20.0, 20.0, 20.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logs</span><span class="o">.</span><span class="n">loggedwindspeed2m</span>
<span class="go">loggedwindspeed2m(2.0)</span>
</pre></div>
</div>
<p>Method <a class="reference internal" href="#hydpy.core.modeltools.Model.save_conditions" title="hydpy.core.modeltools.Model.save_conditions"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_conditions()</span></code></a> writes lines that use function <a class="reference internal" href="importtools.html#hydpy.core.importtools.controlcheck" title="hydpy.core.importtools.controlcheck"><code class="xref py py-func docutils literal notranslate"><span class="pre">controlcheck()</span></code></a>.
It, therefore, must know the control directory related to the written
conditions, for which it relies on the <a class="reference internal" href="filetools.html#hydpy.core.filetools.FileManager.currentdir" title="hydpy.core.filetools.FileManager.currentdir"><code class="xref py py-const docutils literal notranslate"><span class="pre">currentdir</span></code></a> property of the
control manager instance of module <code class="xref py py-mod docutils literal notranslate"><span class="pre">pub</span></code>.  So, make sure this property points
to the correct directory.  Otherwise, errors like the following might occur:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">pub</span><span class="o">.</span><span class="n">controlmanager</span><span class="o">.</span><span class="n">currentdir</span>
<span class="gp">... </span>    <span class="n">pub</span><span class="o">.</span><span class="n">controlmanager</span><span class="o">.</span><span class="n">currentdir</span> <span class="o">=</span> <span class="s2">&quot;calib_1&quot;</span>
<span class="gp">... </span>    <span class="n">pub</span><span class="o">.</span><span class="n">controlmanager</span><span class="o">.</span><span class="n">currentdir</span> <span class="o">=</span> <span class="s2">&quot;calib_2&quot;</span>
<span class="gp">... </span>    <span class="n">pub</span><span class="o">.</span><span class="n">controlmanager</span><span class="o">.</span><span class="n">currentdir</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">... </span>    <span class="n">dill_assl</span><span class="o">.</span><span class="n">save_conditions</span><span class="p">(</span><span class="s2">&quot;submodel_conditions.py&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">While trying to save the actual conditions of element `?`, the following error occurred: While trying to determine the related control file directory for configuring the `controlcheck` function, the following error occurred: The current working directory of the ControlManager object has not been defined manually and cannot be determined automatically: The default directory (default) is not among the available directories (calib_1 and calib_2).</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.save_conditions">
<span class="sig-name descname"><span class="pre">save_conditions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.save_conditions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.save_conditions" title="Link to this definition">¶</a></dt>
<dd><p>Query the actual conditions of the <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.StateSequence" title="hydpy.core.sequencetools.StateSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateSequence</span></code></a> and <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.LogSequence" title="hydpy.core.sequencetools.LogSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">LogSequence</span></code></a> objects
and write them into an initial condition file.</p>
<p>See the documentation on method <a class="reference internal" href="#hydpy.core.modeltools.Model.load_conditions" title="hydpy.core.modeltools.Model.load_conditions"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_conditions()</span></code></a> for further
information.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.trim_conditions">
<span class="sig-name descname"><span class="pre">trim_conditions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.trim_conditions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.trim_conditions" title="Link to this definition">¶</a></dt>
<dd><p>Call method <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sequences.trim_conditions" title="hydpy.core.sequencetools.Sequences.trim_conditions"><code class="xref py py-func docutils literal notranslate"><span class="pre">trim_conditions()</span></code></a> of the handled <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sequences" title="hydpy.core.sequencetools.Sequences"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequences</span></code></a> object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.reset_conditions">
<span class="sig-name descname"><span class="pre">reset_conditions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.reset_conditions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.reset_conditions" title="Link to this definition">¶</a></dt>
<dd><p>Call method <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sequences.reset" title="hydpy.core.sequencetools.Sequences.reset"><code class="xref py py-func docutils literal notranslate"><span class="pre">reset()</span></code></a> of the handled <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sequences" title="hydpy.core.sequencetools.Sequences"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequences</span></code></a> object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.simulate">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">simulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.simulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.simulate" title="Link to this definition">¶</a></dt>
<dd><p>Perform a simulation run over a single simulation time step.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.reset_reuseflags">
<span class="sig-name descname"><span class="pre">reset_reuseflags</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.reset_reuseflags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.reset_reuseflags" title="Link to this definition">¶</a></dt>
<dd><p>Reset all <a class="reference internal" href="#hydpy.core.modeltools.ReusableMethod.REUSEMARKER" title="hydpy.core.modeltools.ReusableMethod.REUSEMARKER"><code class="xref py py-attr docutils literal notranslate"><span class="pre">REUSEMARKER</span></code></a> attributes of the current model
instance and its submodels (usually at the beginning of a simulation step).</p>
<p>When working in Cython mode, the standard model import overrides this generic
Python version with a model-specific Cython version.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.load_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.load_data" title="Link to this definition">¶</a></dt>
<dd><p>Call method <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sequences.load_data" title="hydpy.core.sequencetools.Sequences.load_data"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_data()</span></code></a> of the attribute <cite>sequences</cite> of the
current model instance and its submodels.</p>
<p>When working in Cython mode, the standard model import overrides this generic
Python version with a model-specific Cython version.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.save_data">
<span class="sig-name descname"><span class="pre">save_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.save_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.save_data" title="Link to this definition">¶</a></dt>
<dd><p>Call method <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sequences.save_data" title="hydpy.core.sequencetools.Sequences.save_data"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_data()</span></code></a> of the attribute <cite>sequences</cite> of the
current model instance and its submodels.</p>
<p>When working in Cython mode, the standard model import overrides this generic
Python version with a model-specific Cython version.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.update_inlets">
<span class="sig-name descname"><span class="pre">update_inlets</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.update_inlets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.update_inlets" title="Link to this definition">¶</a></dt>
<dd><p>Call all methods defined as “INLET_METHODS” in the defined order.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.modeltools</span><span class="w"> </span><span class="kn">import</span> <span class="n">AdHocModel</span><span class="p">,</span> <span class="n">Method</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">print_1</span><span class="p">(</span><span class="n">Method</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@staticmethod</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">print_2</span><span class="p">(</span><span class="n">Method</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@staticmethod</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">Test</span><span class="p">(</span><span class="n">AdHocModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">INLET_METHODS</span> <span class="o">=</span> <span class="n">print_1</span><span class="p">,</span> <span class="n">print_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Test</span><span class="p">()</span><span class="o">.</span><span class="n">update_inlets</span><span class="p">()</span>
<span class="go">1</span>
<span class="go">2</span>
</pre></div>
</div>
<p>When working in Cython mode, the standard model import overrides this generic
Python version with a model-specific Cython version.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.update_outlets">
<span class="sig-name descname"><span class="pre">update_outlets</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.update_outlets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.update_outlets" title="Link to this definition">¶</a></dt>
<dd><p>Call all methods defined as “OUTLET_METHODS” in the defined order.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.modeltools</span><span class="w"> </span><span class="kn">import</span> <span class="n">AdHocModel</span><span class="p">,</span> <span class="n">Method</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">print_1</span><span class="p">(</span><span class="n">Method</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@staticmethod</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">print_2</span><span class="p">(</span><span class="n">Method</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@staticmethod</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">Test</span><span class="p">(</span><span class="n">AdHocModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">OUTLET_METHODS</span> <span class="o">=</span> <span class="n">print_1</span><span class="p">,</span> <span class="n">print_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Test</span><span class="p">()</span><span class="o">.</span><span class="n">update_outlets</span><span class="p">()</span>
<span class="go">1</span>
<span class="go">2</span>
</pre></div>
</div>
<p>When working in Cython mode, the standard model import overrides this generic
Python version with a model-specific Cython version.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.update_receivers">
<span class="sig-name descname"><span class="pre">update_receivers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.update_receivers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.update_receivers" title="Link to this definition">¶</a></dt>
<dd><p>Call all methods defined as “RECEIVER_METHODS” in the defined order.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.modeltools</span><span class="w"> </span><span class="kn">import</span> <span class="n">AdHocModel</span><span class="p">,</span> <span class="n">Method</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">print_1</span><span class="p">(</span><span class="n">Method</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@staticmethod</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>       <span class="nb">print</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">idx_sim</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">print_2</span><span class="p">(</span><span class="n">Method</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@staticmethod</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">idx_sim</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">Test</span><span class="p">(</span><span class="n">AdHocModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">RECEIVER_METHODS</span> <span class="o">=</span> <span class="n">print_1</span><span class="p">,</span> <span class="n">print_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span> <span class="o">=</span> <span class="n">Test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="o">.</span><span class="n">update_receivers</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">2</span>
<span class="go">3</span>
</pre></div>
</div>
<p>When working in Cython mode, the standard model import overrides this generic
Python version with a model-specific Cython version.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.update_senders">
<span class="sig-name descname"><span class="pre">update_senders</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.update_senders"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.update_senders" title="Link to this definition">¶</a></dt>
<dd><p>Call all methods defined as “SENDER_METHODS” in the defined order.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.modeltools</span><span class="w"> </span><span class="kn">import</span> <span class="n">AdHocModel</span><span class="p">,</span> <span class="n">Method</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">print_1</span><span class="p">(</span><span class="n">Method</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@staticmethod</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>       <span class="nb">print</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">idx_sim</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">print_2</span><span class="p">(</span><span class="n">Method</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@staticmethod</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">idx_sim</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">Test</span><span class="p">(</span><span class="n">AdHocModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">SENDER_METHODS</span> <span class="o">=</span> <span class="n">print_1</span><span class="p">,</span> <span class="n">print_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span> <span class="o">=</span> <span class="n">Test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="o">.</span><span class="n">update_senders</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">2</span>
<span class="go">3</span>
</pre></div>
</div>
<p>When working in Cython mode, the standard model import overrides this generic
Python version with a model-specific Cython version.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.new2old">
<span class="sig-name descname"><span class="pre">new2old</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.new2old"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.new2old" title="Link to this definition">¶</a></dt>
<dd><p>Call method <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.StateSequences.new2old" title="hydpy.core.sequencetools.StateSequences.new2old"><code class="xref py py-func docutils literal notranslate"><span class="pre">new2old()</span></code></a> of subattribute <cite>sequences.states</cite>.</p>
<p>When working in Cython mode, the standard model import overrides this generic
Python version with a model-specific Cython version.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.update_outputs">
<span class="sig-name descname"><span class="pre">update_outputs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.update_outputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.update_outputs" title="Link to this definition">¶</a></dt>
<dd><p>Call method <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sequences.update_outputs" title="hydpy.core.sequencetools.Sequences.update_outputs"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_outputs()</span></code></a> of attribute <a class="reference internal" href="#hydpy.core.modeltools.Model.sequences" title="hydpy.core.modeltools.Model.sequences"><code class="xref py py-attr docutils literal notranslate"><span class="pre">sequences</span></code></a>.</p>
<p>When working in Cython mode, the standard model import overrides this generic
Python version with a model-specific Cython version.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.get_methods">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_methods</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'RECEIVER_METHODS'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'INLET_METHODS'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'RUN_METHODS'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'PART_ODE_METHODS'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'FULL_ODE_METHODS'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ADD_METHODS'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'INTERFACE_METHODS'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'OUTLET_METHODS'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'SENDER_METHODS'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterator" title="(in Python v3.13)"><span class="pre">Iterator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.13)"><span class="pre">type</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#hydpy.core.modeltools.Method" title="hydpy.core.modeltools.Method"><span class="pre">Method</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.get_methods"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.get_methods" title="Link to this definition">¶</a></dt>
<dd><p>Convenience method for iterating through all methods selected by a <a class="reference internal" href="#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>
subclass.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">hland_96</span><span class="p">,</span> <span class="n">ga_garto_submodel1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">hland_96</span><span class="o">.</span><span class="n">Model</span><span class="o">.</span><span class="n">get_methods</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">method</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<span class="go">Calc_TC_V1</span>
<span class="go">...</span>
<span class="go">Pass_Q_V1</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">ga_garto_submodel1</span><span class="o">.</span><span class="n">Model</span><span class="o">.</span><span class="n">get_methods</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">method</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<span class="go">Set_InitialSurfaceWater_V1</span>
<span class="go">...</span>
<span class="go">Get_SoilWaterContent_V1</span>
<span class="go">Return_RelativeMoisture_V1</span>
<span class="go">...</span>
<span class="go">Withdraw_AllBins_V1</span>
</pre></div>
</div>
<p>One can skip all methods that belong to specific groups:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">hland_96</span><span class="o">.</span><span class="n">Model</span><span class="o">.</span><span class="n">get_methods</span><span class="p">(</span><span class="n">skip</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;OUTLET_METHODS&quot;</span><span class="p">,)):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">method</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<span class="go">Calc_TC_V1</span>
<span class="go">...</span>
<span class="go">Calc_OutRC_RConcModel_V1</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">hland_96</span><span class="o">.</span><span class="n">Model</span><span class="o">.</span><span class="n">get_methods</span><span class="p">((</span><span class="s2">&quot;OUTLET_METHODS&quot;</span><span class="p">,</span> <span class="s2">&quot;ADD_METHODS&quot;</span><span class="p">)):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">method</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<span class="go">Calc_TC_V1</span>
<span class="go">...</span>
<span class="go">Calc_QT_V1</span>
</pre></div>
</div>
<p>Note that function <a class="reference internal" href="#hydpy.core.modeltools.Model.get_methods" title="hydpy.core.modeltools.Model.get_methods"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_methods()</span></code></a> returns the “raw” <a class="reference internal" href="#hydpy.core.modeltools.Method" title="hydpy.core.modeltools.Method"><code class="xref py py-class docutils literal notranslate"><span class="pre">Method</span></code></a> objects
instead of the modified Python or Cython functions used for performing
calculations.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.find_submodels">
<span class="sig-name descname"><span class="pre">find_submodels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_subsubmodels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_mainmodel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_sidemodels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_optional</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_feedbacks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregate_vectors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repeat_sharedmodels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">0</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">-</span></span><span class="m"><span class="pre">1</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><span class="pre">Model</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><span class="pre">Model</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.find_submodels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.find_submodels" title="Link to this definition">¶</a></dt>
<dd><p>Find the (sub)submodel instances of the current main model instance.</p>
<p>Method <a class="reference internal" href="#hydpy.core.modeltools.Model.find_submodels" title="hydpy.core.modeltools.Model.find_submodels"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_submodels()</span></code></a> returns an empty dictionary by default if no
submodel is available:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">prepare_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;lland_knauf&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">find_submodels</span><span class="p">()</span>
<span class="go">{}</span>
</pre></div>
</div>
<p>The <cite>include_mainmodel</cite> parameter allows the addition of the main model:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">find_submodels</span><span class="p">(</span><span class="n">include_mainmodel</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">{&#39;model&#39;: lland_knauf}</span>
</pre></div>
</div>
<p>The <cite>include_optional</cite> parameter allows considering prepared and unprepared
submodels:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">find_submodels</span><span class="p">(</span><span class="n">include_optional</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">{&#39;model.aetmodel&#39;: None, &#39;model.radiationmodel&#39;: None, &#39;model.soilmodel&#39;: None}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;evap_aet_minhas&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span><span class="o">.</span><span class="n">petmodel</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;evap_pet_mlc&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span><span class="o">.</span><span class="n">petmodel</span><span class="o">.</span><span class="n">retmodel</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;evap_ret_tw2002&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pprint</span><span class="w"> </span><span class="kn">import</span> <span class="n">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">find_submodels</span><span class="p">(</span><span class="n">include_optional</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">{&#39;model.aetmodel&#39;: evap_aet_minhas...,</span>
<span class="go"> &#39;model.aetmodel.intercmodel&#39;: None,</span>
<span class="go"> &#39;model.aetmodel.petmodel&#39;: evap_pet_mlc...,</span>
<span class="go"> &#39;model.aetmodel.petmodel.retmodel&#39;: evap_ret_tw2002,</span>
<span class="go"> &#39;model.aetmodel.petmodel.retmodel.radiationmodel&#39;: None,</span>
<span class="go"> &#39;model.aetmodel.petmodel.retmodel.tempmodel&#39;: None,</span>
<span class="go"> &#39;model.aetmodel.soilwatermodel&#39;: None,</span>
<span class="go"> &#39;model.radiationmodel&#39;: None,</span>
<span class="go"> &#39;model.soilmodel&#39;: None}</span>
</pre></div>
</div>
<p>By default, <a class="reference internal" href="#hydpy.core.modeltools.Model.find_submodels" title="hydpy.core.modeltools.Model.find_submodels"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_submodels()</span></code></a> does not return an additional entry when a
main model serves as a sub-submodel:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span><span class="o">.</span><span class="n">soilwatermodel</span> <span class="o">=</span> <span class="n">model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span><span class="o">.</span><span class="n">soilwatermodel_is_mainmodel</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">find_submodels</span><span class="p">(</span><span class="n">include_optional</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">{&#39;model.aetmodel&#39;: evap_aet_minhas...,</span>
<span class="go"> &#39;model.aetmodel.intercmodel&#39;: None,</span>
<span class="go"> &#39;model.aetmodel.petmodel&#39;: evap_pet_mlc...,</span>
<span class="go"> &#39;model.aetmodel.petmodel.retmodel&#39;: evap_ret_tw2002,</span>
<span class="go"> &#39;model.aetmodel.petmodel.retmodel.radiationmodel&#39;: None,</span>
<span class="go"> &#39;model.aetmodel.petmodel.retmodel.tempmodel&#39;: None,</span>
<span class="go"> &#39;model.radiationmodel&#39;: None,</span>
<span class="go"> &#39;model.soilmodel&#39;: None}</span>
</pre></div>
</div>
<p>Use the <cite>include_feedbacks</cite> parameter to make such feedback connections
transparent:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">find_submodels</span><span class="p">(</span><span class="n">include_mainmodel</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">include_optional</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">include_feedbacks</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">{&#39;model&#39;: lland_knauf...,</span>
<span class="go"> &#39;model.aetmodel&#39;: evap_aet_minhas...,</span>
<span class="go"> &#39;model.aetmodel.intercmodel&#39;: None,</span>
<span class="go"> &#39;model.aetmodel.petmodel&#39;: evap_pet_mlc...,</span>
<span class="go"> &#39;model.aetmodel.petmodel.retmodel&#39;: evap_ret_tw2002,</span>
<span class="go"> &#39;model.aetmodel.petmodel.retmodel.radiationmodel&#39;: None,</span>
<span class="go"> &#39;model.aetmodel.petmodel.retmodel.tempmodel&#39;: None,</span>
<span class="go"> &#39;model.aetmodel.soilwatermodel&#39;: lland_knauf...,</span>
<span class="go"> &#39;model.radiationmodel&#39;: None,</span>
<span class="go"> &#39;model.soilmodel&#39;: None}</span>
</pre></div>
</div>
<p><a class="reference internal" href="#hydpy.core.modeltools.Model.find_submodels" title="hydpy.core.modeltools.Model.find_submodels"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_submodels()</span></code></a> includes only one reference to shared model instances by
default:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">radiationmodel</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;meteo_glob_fao56&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;evap_aet_morsim&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span><span class="o">.</span><span class="n">radiationmodel</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">radiationmodel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">find_submodels</span><span class="p">(</span><span class="n">include_optional</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">{&#39;model.aetmodel&#39;: evap_aet_morsim...,</span>
<span class="go"> &#39;model.aetmodel.intercmodel&#39;: None,</span>
<span class="go"> &#39;model.aetmodel.snowalbedomodel&#39;: None,</span>
<span class="go"> &#39;model.aetmodel.snowcovermodel&#39;: None,</span>
<span class="go"> &#39;model.aetmodel.snowycanopymodel&#39;: None,</span>
<span class="go"> &#39;model.aetmodel.soilwatermodel&#39;: None,</span>
<span class="go"> &#39;model.aetmodel.tempmodel&#39;: None,</span>
<span class="go"> &#39;model.radiationmodel&#39;: meteo_glob_fao56,</span>
<span class="go"> &#39;model.soilmodel&#39;: None}</span>
</pre></div>
</div>
<p>Use the <cite>repeat_sharedmodels</cite> parameter to change this behaviour:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">find_submodels</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">repeat_sharedmodels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">include_optional</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">{&#39;model.aetmodel&#39;: evap_aet_morsim...,</span>
<span class="go"> &#39;model.aetmodel.intercmodel&#39;: None,</span>
<span class="go"> &#39;model.aetmodel.radiationmodel&#39;: meteo_glob_fao56,</span>
<span class="go"> &#39;model.aetmodel.snowalbedomodel&#39;: None,</span>
<span class="go"> &#39;model.aetmodel.snowcovermodel&#39;: None,</span>
<span class="go"> &#39;model.aetmodel.snowycanopymodel&#39;: None,</span>
<span class="go"> &#39;model.aetmodel.soilwatermodel&#39;: None,</span>
<span class="go"> &#39;model.aetmodel.tempmodel&#39;: None,</span>
<span class="go"> &#39;model.radiationmodel&#39;: meteo_glob_fao56,</span>
<span class="go"> &#39;model.soilmodel&#39;: None}</span>
</pre></div>
</div>
<p>All previous examples dealt with scalar submodel references handled by
<a class="reference internal" href="#hydpy.core.modeltools.SubmodelProperty" title="hydpy.core.modeltools.SubmodelProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubmodelProperty</span></code></a>.  Now we will focus on vectors of submodel references
handled by <a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty" title="hydpy.core.modeltools.SubmodelsProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubmodelsProperty</span></code></a> and take <a class="reference internal" href="sw1d_channel.html#module-hydpy.models.sw1d_channel" title="hydpy.models.sw1d_channel"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sw1d_channel</span></code></a> as an example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">channel</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_channel&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">channel</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">nmbsegments</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Again, method <a class="reference internal" href="#hydpy.core.modeltools.Model.find_submodels" title="hydpy.core.modeltools.Model.find_submodels"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_submodels()</span></code></a> returns by default an empty dictionary if
no submodel is available:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">channel</span><span class="o">.</span><span class="n">find_submodels</span><span class="p">()</span>
<span class="go">{}</span>
</pre></div>
</div>
<p>The <cite>include_optional</cite> parameter works as shown for the scalar case.  But for
scalar cases, the names contain an additional suffix to indicate the position
of the respective submodel:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="p">(</span><span class="n">channel</span><span class="o">.</span><span class="n">find_submodels</span><span class="p">(</span><span class="n">include_optional</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">{&#39;model.routingmodels_0&#39;: None,</span>
<span class="go"> &#39;model.routingmodels_1&#39;: None,</span>
<span class="go"> &#39;model.routingmodels_2&#39;: None,</span>
<span class="go"> &#39;model.storagemodels_0&#39;: None,</span>
<span class="go"> &#39;model.storagemodels_1&#39;: None}</span>
</pre></div>
</div>
<p>We now add some possible submodels to the <a class="reference internal" href="sw1d_channel.html#module-hydpy.models.sw1d_channel" title="hydpy.models.sw1d_channel"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sw1d_channel</span></code></a> main model:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">channel</span><span class="o">.</span><span class="n">add_routingmodel_v1</span><span class="p">(</span><span class="s2">&quot;sw1d_q_in&quot;</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">channel</span><span class="o">.</span><span class="n">add_storagemodel_v1</span><span class="p">(</span><span class="s2">&quot;sw1d_storage&quot;</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">channel</span><span class="o">.</span><span class="n">add_routingmodel_v2</span><span class="p">(</span><span class="s2">&quot;sw1d_lias&quot;</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">channel</span><span class="o">.</span><span class="n">add_storagemodel_v1</span><span class="p">(</span><span class="s2">&quot;sw1d_storage&quot;</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">channel</span><span class="o">.</span><span class="n">add_routingmodel_v3</span><span class="p">(</span><span class="s2">&quot;sw1d_weir_out&quot;</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
</pre></div>
</div>
<p>Method <a class="reference internal" href="#hydpy.core.modeltools.Model.find_submodels" title="hydpy.core.modeltools.Model.find_submodels"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_submodels()</span></code></a> associates them with the correct positions:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="p">(</span><span class="n">channel</span><span class="o">.</span><span class="n">find_submodels</span><span class="p">())</span>
<span class="go">{&#39;model.routingmodels_0&#39;: sw1d_q_in,</span>
<span class="go"> &#39;model.routingmodels_1&#39;: sw1d_lias,</span>
<span class="go"> &#39;model.routingmodels_2&#39;: sw1d_weir_out,</span>
<span class="go"> &#39;model.storagemodels_0&#39;: sw1d_storage,</span>
<span class="go"> &#39;model.storagemodels_1&#39;: sw1d_storage}</span>
</pre></div>
</div>
<p>One can use the <cite>aggregate_vectors</cite> parameter to gain a better overview.
Then, <a class="reference internal" href="#hydpy.core.modeltools.Model.find_submodels" title="hydpy.core.modeltools.Model.find_submodels"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_submodels()</span></code></a> reports only the names of the respective
<a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty" title="hydpy.core.modeltools.SubmodelsProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubmodelsProperty</span></code></a> instances with a suffixed wildcard to distinguish them
from <a class="reference internal" href="#hydpy.core.modeltools.SubmodelProperty" title="hydpy.core.modeltools.SubmodelProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubmodelProperty</span></code></a> instances:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">channel</span><span class="o">.</span><span class="n">find_submodels</span><span class="p">(</span><span class="n">aggregate_vectors</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">{&#39;model.routingmodels_*&#39;: None, &#39;model.storagemodels_*&#39;: None}</span>
</pre></div>
</div>
<p>Another option is to include side models.  However, this does not work in
combination with including sub-submodels and thus cannot give further insight
into the configuration of a <a class="reference internal" href="sw1d_channel.html#module-hydpy.models.sw1d_channel" title="hydpy.models.sw1d_channel"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sw1d_channel</span></code></a> model:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="p">(</span><span class="n">channel</span><span class="o">.</span><span class="n">find_submodels</span><span class="p">(</span><span class="n">include_sidemodels</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Including sub-submodels and side-models leads to ambiguous results.</span>
</pre></div>
</div>
<p>So, one needs to apply it to the respective submodels directly:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="p">(</span><span class="n">channel</span><span class="o">.</span><span class="n">storagemodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find_submodels</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">include_subsubmodels</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">include_sidemodels</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">{&#39;model.routingmodelsdownstream_0&#39;: sw1d_lias,</span>
<span class="go"> &#39;model.routingmodelsupstream_0&#39;: sw1d_q_in}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="p">(</span><span class="n">channel</span><span class="o">.</span><span class="n">routingmodels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">find_submodels</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">include_subsubmodels</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">include_sidemodels</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">{&#39;model.routingmodelsdownstream_0&#39;: sw1d_weir_out,</span>
<span class="go"> &#39;model.routingmodelsupstream_0&#39;: sw1d_q_in,</span>
<span class="go"> &#39;model.storagemodeldownstream&#39;: sw1d_storage,</span>
<span class="go"> &#39;model.storagemodelupstream&#39;: sw1d_storage}</span>
</pre></div>
</div>
<p>When dealing with submodel arrays handled by <a class="reference internal" href="#hydpy.core.modeltools.SubmodelsProperty" title="hydpy.core.modeltools.SubmodelsProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubmodelsProperty</span></code></a> instances, one
might be interested in only querying the first or the last model, which is
supported by the <cite>position</cite> parameter:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="p">(</span><span class="n">channel</span><span class="o">.</span><span class="n">find_submodels</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="go">{&#39;model.routingmodels_0&#39;: sw1d_q_in, &#39;model.storagemodels_0&#39;: sw1d_storage}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="p">(</span><span class="n">channel</span><span class="o">.</span><span class="n">find_submodels</span><span class="p">(</span><span class="n">position</span><span class="o">=-</span><span class="mi">1</span><span class="p">))</span>
<span class="go">{&#39;model.routingmodels_2&#39;: sw1d_weir_out, &#39;model.storagemodels_1&#39;: sw1d_storage}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="p">(</span><span class="n">channel</span><span class="o">.</span><span class="n">find_submodels</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">The `position` argument requires the integer value `0´ or `-1`, but the value `1` of type `int` is given.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.query_submodels">
<span class="sig-name descname"><span class="pre">query_submodels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/types.html#types.ModuleType" title="(in Python v3.13)"><span class="pre">ModuleType</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="positional-only-separator o"><abbr title="Positional-only parameter separator (PEP 570)"><span class="pre">/</span></abbr></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><span class="pre">Model</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.query_submodels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.query_submodels" title="Link to this definition">¶</a></dt>
<dd><p>Use <a class="reference internal" href="#hydpy.core.modeltools.Model.find_submodels" title="hydpy.core.modeltools.Model.find_submodels"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_submodels()</span></code></a> to query all (sub)models of the given type.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">prepare_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;lland_knauf&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">query_submodels</span><span class="p">(</span><span class="s2">&quot;meteo_glob_fao56&quot;</span><span class="p">)</span>
<span class="go">[]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">radiationmodel</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;meteo_glob_fao56&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">query_submodels</span><span class="p">(</span><span class="s2">&quot;meteo_glob_fao56&quot;</span><span class="p">)</span>
<span class="go">[meteo_glob_fao56]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;evap_aet_morsim&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span><span class="o">.</span><span class="n">radiationmodel</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">radiationmodel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">query_submodels</span><span class="p">(</span><span class="s2">&quot;meteo_glob_fao56&quot;</span><span class="p">)</span>
<span class="go">[meteo_glob_fao56]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">meteo_glob_fao56</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span><span class="o">.</span><span class="n">radiationmodel</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="n">meteo_glob_fao56</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">query_submodels</span><span class="p">(</span><span class="n">meteo_glob_fao56</span><span class="p">)</span>
<span class="go">[meteo_glob_fao56, meteo_glob_fao56]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.update_parameters">
<span class="sig-name descname"><span class="pre">update_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore_errors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Model.update_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Model.update_parameters" title="Link to this definition">¶</a></dt>
<dd><p>Use the control parameter values of the current model for updating its
derived parameters and the control and derived parameters of all its submodels.</p>
<p>We use the combination of <a class="reference internal" href="hland_96.html#module-hydpy.models.hland_96" title="hydpy.models.hland_96"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hland_96</span></code></a>, <a class="reference internal" href="evap_aet_hbv96.html#module-hydpy.models.evap_aet_hbv96" title="hydpy.models.evap_aet_hbv96"><code class="xref py py-mod docutils literal notranslate"><span class="pre">evap_aet_hbv96</span></code></a>, and <a class="reference internal" href="evap_pet_hbv96.html#module-hydpy.models.evap_pet_hbv96" title="hydpy.models.evap_pet_hbv96"><code class="xref py py-mod docutils literal notranslate"><span class="pre">evap_pet_hbv96</span></code></a>
used by the <cite>HydPy-H-Lahn</cite> project for modelling the Dill catchment as an
example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.testtools</span><span class="w"> </span><span class="kn">import</span> <span class="n">prepare_full_example_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span> <span class="o">=</span> <span class="n">prepare_full_example_2</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">land_dill_assl</span><span class="o">.</span><span class="n">model</span>
</pre></div>
</div>
<p>First, all zones of the Dill catchment are either of type
<a class="reference internal" href="hland.html#hydpy.models.hland.hland_constants.FIELD" title="hydpy.models.hland.hland_constants.FIELD"><code class="xref py py-const docutils literal notranslate"><span class="pre">FIELD</span></code></a> or <a class="reference internal" href="hland.html#hydpy.models.hland.hland_constants.FOREST" title="hydpy.models.hland.hland_constants.FOREST"><code class="xref py py-const docutils literal notranslate"><span class="pre">FOREST</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">zonetype</span>
<span class="go">zonetype(FIELD, FOREST, FIELD, FOREST, FIELD, FOREST, FIELD, FOREST,</span>
<span class="go">         FIELD, FOREST, FIELD, FOREST)</span>
</pre></div>
</div>
<p>Hence, the <a class="reference internal" href="evap.html#hydpy.models.evap.evap_control.Soil" title="hydpy.models.evap.evap_control.Soil"><code class="xref py py-class docutils literal notranslate"><span class="pre">Soil</span></code></a> parameter of <a class="reference internal" href="evap_aet_hbv96.html#module-hydpy.models.evap_aet_hbv96" title="hydpy.models.evap_aet_hbv96"><code class="xref py py-mod docutils literal notranslate"><span class="pre">evap_aet_hbv96</span></code></a> must be <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code> for
the entire basin, as both zone types possess a soil module which
requires soil evapotranspiration estimates:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">soil</span>
<span class="go">soil(True)</span>
</pre></div>
</div>
<p>Second, <a class="reference internal" href="hland_96.html#module-hydpy.models.hland_96" title="hydpy.models.hland_96"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hland_96</span></code></a> requires definitions for the zones’ altitude
(<a class="reference internal" href="hland.html#hydpy.models.hland.hland_control.ZoneZ" title="hydpy.models.hland.hland_control.ZoneZ"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZoneZ</span></code></a>) and determines the average basin altitude
(<a class="reference internal" href="hland.html#hydpy.models.hland.hland_derived.Z" title="hydpy.models.hland.hland_derived.Z"><code class="xref py py-class docutils literal notranslate"><span class="pre">Z</span></code></a>) automatically:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">zonez</span>
<span class="go">zonez(2.0, 2.0, 3.0, 3.0, 4.0, 4.0, 5.0, 5.0, 6.0, 6.0, 7.0, 7.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">derived</span><span class="o">.</span><span class="n">z</span>
<span class="go">z(4.205345)</span>
</pre></div>
</div>
<p><a class="reference internal" href="evap_aet_hbv96.html#module-hydpy.models.evap_aet_hbv96" title="hydpy.models.evap_aet_hbv96"><code class="xref py py-mod docutils literal notranslate"><span class="pre">evap_aet_hbv96</span></code></a> handles its altitude data similarly but relies on the unit 1 m
instead of 100 m:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span><span class="o">.</span><span class="n">petmodel</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">hrualtitude</span>
<span class="go">hrualtitude(200.0, 200.0, 300.0, 300.0, 400.0, 400.0, 500.0, 500.0,</span>
<span class="go">            600.0, 600.0, 700.0, 700.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span><span class="o">.</span><span class="n">petmodel</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">derived</span><span class="o">.</span><span class="n">altitude</span>
<span class="go">altitude(420.53445)</span>
</pre></div>
</div>
<p>We now set the first zone to type <a class="reference internal" href="hland.html#hydpy.models.hland.hland_constants.ILAKE" title="hydpy.models.hland.hland_constants.ILAKE"><code class="xref py py-const docutils literal notranslate"><span class="pre">ILAKE</span></code></a> and the altitude of
all zones to 400 m:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.hland_96</span><span class="w"> </span><span class="kn">import</span> <span class="n">ILAKE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">zonetype</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ILAKE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">zonez</span><span class="p">(</span><span class="mf">4.0</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference internal" href="#hydpy.core.modeltools.Model.update_parameters" title="hydpy.core.modeltools.Model.update_parameters"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_parameters()</span></code></a> uses the appropriate interface methods to transfer
the updated control parameter values from the main model to all its submodels.
So, parameter <a class="reference internal" href="evap.html#hydpy.models.evap.evap_control.Soil" title="hydpy.models.evap.evap_control.Soil"><code class="xref py py-class docutils literal notranslate"><span class="pre">Soil</span></code></a> parameter of <a class="reference internal" href="evap_aet_hbv96.html#module-hydpy.models.evap_aet_hbv96" title="hydpy.models.evap_aet_hbv96"><code class="xref py py-mod docutils literal notranslate"><span class="pre">evap_aet_hbv96</span></code></a> becomes aware
of the introduced internal lake zone, which does not include a soil module and
hence needs no soil evapotranspiration estimates:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">update_parameters</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">soil</span>
<span class="go">soil(field=True, forest=True, ilake=False)</span>
</pre></div>
</div>
<p>Additionally, <a class="reference internal" href="#hydpy.core.modeltools.Model.update_parameters" title="hydpy.core.modeltools.Model.update_parameters"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_parameters()</span></code></a> uses method <a class="reference internal" href="parametertools.html#hydpy.core.parametertools.Parameters.update" title="hydpy.core.parametertools.Parameters.update"><code class="xref py py-func docutils literal notranslate"><span class="pre">update()</span></code></a> of
class <a class="reference internal" href="parametertools.html#hydpy.core.parametertools.Parameters" title="hydpy.core.parametertools.Parameters"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parameters</span></code></a> for updating the derived parameters <a class="reference internal" href="hland.html#hydpy.models.hland.hland_derived.Z" title="hydpy.models.hland.hland_derived.Z"><code class="xref py py-class docutils literal notranslate"><span class="pre">Z</span></code></a> of the
<a class="reference internal" href="hland_96.html#module-hydpy.models.hland_96" title="hydpy.models.hland_96"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hland_96</span></code></a> main model and <a class="reference internal" href="evap.html#hydpy.models.evap.evap_derived.Altitude" title="hydpy.models.evap.evap_derived.Altitude"><code class="xref py py-class docutils literal notranslate"><span class="pre">Altitude</span></code></a> of the <a class="reference internal" href="evap_pet_hbv96.html#module-hydpy.models.evap_pet_hbv96" title="hydpy.models.evap_pet_hbv96"><code class="xref py py-mod docutils literal notranslate"><span class="pre">evap_pet_hbv96</span></code></a>
submodel:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">derived</span><span class="o">.</span><span class="n">z</span>
<span class="go">z(4.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span><span class="o">.</span><span class="n">petmodel</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">hrualtitude</span>
<span class="go">hrualtitude(400.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">aetmodel</span><span class="o">.</span><span class="n">petmodel</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">derived</span><span class="o">.</span><span class="n">altitude</span>
<span class="go">altitude(400.0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.conditions">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">conditions</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.2)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v2.2)"><span class="pre">dtype</span></a><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.modeltools.Model.conditions" title="Link to this definition">¶</a></dt>
<dd><p>A nested dictionary that contains the values of all condition sequences of
a model and its submodels.</p>
<p>See the documentation on property <a class="reference internal" href="hydpytools.html#hydpy.core.hydpytools.HydPy.conditions" title="hydpy.core.hydpytools.HydPy.conditions"><code class="xref py py-const docutils literal notranslate"><span class="pre">conditions</span></code></a> for further information.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Model.couple_models">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">couple_models</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#hydpy.core.modeltools.ModelCoupler" title="hydpy.core.modeltools.ModelCoupler"><span class="pre">ModelCoupler</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.Model.couple_models" title="Link to this definition">¶</a></dt>
<dd><p>If available, return a function object for coupling models to a composite
model suitable at least for the actual model subclass (see method
<a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Elements.unite_collectives" title="hydpy.core.devicetools.Elements.unite_collectives"><code class="xref py py-func docutils literal notranslate"><span class="pre">unite_collectives()</span></code></a>).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.RunModel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">RunModel</span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#RunModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.RunModel" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a></p>
<p>Base class for <a class="reference internal" href="#hydpy.core.modeltools.AdHocModel" title="hydpy.core.modeltools.AdHocModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">AdHocModel</span></code></a> and <a class="reference internal" href="#hydpy.core.modeltools.SegmentModel" title="hydpy.core.modeltools.SegmentModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">SegmentModel</span></code></a> that introduces so-called “run
methods”, which need to be executed in the order of their positions in the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">RUN_METHODS</span></code> tuple.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.RunModel.METHOD_GROUPS">
<span class="sig-name descname"><span class="pre">METHOD_GROUPS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('RECEIVER_METHODS',</span> <span class="pre">'INLET_METHODS',</span> <span class="pre">'RUN_METHODS',</span> <span class="pre">'ADD_METHODS',</span> <span class="pre">'OUTLET_METHODS',</span> <span class="pre">'SENDER_METHODS')</span></em><a class="headerlink" href="#hydpy.core.modeltools.RunModel.METHOD_GROUPS" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.RunModel.run">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#RunModel.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.RunModel.run" title="Link to this definition">¶</a></dt>
<dd><p>Call all methods defined as “run methods” in the defined order.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.RunModel.simulate">
<span class="sig-name descname"><span class="pre">simulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#RunModel.simulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.RunModel.simulate" title="Link to this definition">¶</a></dt>
<dd><p>Perform a simulation run over a single simulation time step.</p>
<p>The required argument <cite>idx</cite> corresponds to property <cite>idx_sim</cite>
(see the main documentation on class <a class="reference internal" href="#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>).</p>
<p>You can integrate method <a class="reference internal" href="#hydpy.core.modeltools.Model.simulate" title="hydpy.core.modeltools.Model.simulate"><code class="xref py py-func docutils literal notranslate"><span class="pre">simulate()</span></code></a> into your workflows for
tailor-made simulation runs.  Method <a class="reference internal" href="#hydpy.core.modeltools.Model.simulate" title="hydpy.core.modeltools.Model.simulate"><code class="xref py py-func docutils literal notranslate"><span class="pre">simulate()</span></code></a> is complete
enough to allow for consecutive calls.  However, note that it
does neither call <a class="reference internal" href="#hydpy.core.modeltools.Model.save_data" title="hydpy.core.modeltools.Model.save_data"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_data()</span></code></a>, <a class="reference internal" href="#hydpy.core.modeltools.Model.update_receivers" title="hydpy.core.modeltools.Model.update_receivers"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_receivers()</span></code></a>,
nor <a class="reference internal" href="#hydpy.core.modeltools.Model.update_senders" title="hydpy.core.modeltools.Model.update_senders"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_senders()</span></code></a>.  Also, one would have to reset the
related node sequences, as done in the following example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.testtools</span><span class="w"> </span><span class="kn">import</span> <span class="n">prepare_full_example_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="p">,</span> <span class="n">pub</span><span class="p">,</span> <span class="n">TestIO</span> <span class="o">=</span> <span class="n">prepare_full_example_2</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">land_dill_assl</span><span class="o">.</span><span class="n">model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">model</span><span class="o">.</span><span class="n">simulate</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill_assl</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill_assl</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="go">sim(11.757526)</span>
<span class="go">sim(8.865079)</span>
<span class="go">sim(7.101815)</span>
<span class="go">sim(5.994195)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill_assl</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span>
<span class="go">InfoArray([nan, nan, nan, nan])</span>
</pre></div>
</div>
<p>The results above are identical to those of method <a class="reference internal" href="hydpytools.html#hydpy.core.hydpytools.HydPy.simulate" title="hydpy.core.hydpytools.HydPy.simulate"><code class="xref py py-func docutils literal notranslate"><span class="pre">simulate()</span></code></a>
of class <a class="reference internal" href="hydpytools.html#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a>, which is the standard method to perform simulation
runs (except that method <a class="reference internal" href="hydpytools.html#hydpy.core.hydpytools.HydPy.simulate" title="hydpy.core.hydpytools.HydPy.simulate"><code class="xref py py-func docutils literal notranslate"><span class="pre">simulate()</span></code></a> of class <a class="reference internal" href="hydpytools.html#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a> also
performs the steps neglected by method <a class="reference internal" href="#hydpy.core.modeltools.Model.simulate" title="hydpy.core.modeltools.Model.simulate"><code class="xref py py-func docutils literal notranslate"><span class="pre">simulate()</span></code></a> of class
<a class="reference internal" href="#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> mentioned above):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">reset_conditions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill_assl</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">11.757526, 8.865079, 7.101815, 5.994195</span>
</pre></div>
</div>
<p>When working in Cython mode, the standard model import overrides
this generic Python version with a model-specific Cython version.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.AdHocModel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">AdHocModel</span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#AdHocModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.AdHocModel" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hydpy.core.modeltools.RunModel" title="hydpy.core.modeltools.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a></p>
<p>Base class for models solving the underlying differential equations in an “ad
hoc manner”.</p>
<p>“Ad hoc” stands for the classical approaches in hydrology to calculate individual
fluxes separately (often sequentially) and without error control
<span id="id2">(<a class="reference internal" href="zbibliography.html#id32" title="Martyn P. Clark and Dimitri Kavetski. Ancient numerical daemons of conceptual hydrological modeling: 1. fidelity and efficiency of time stepping schemes. Water Resources Research, 2010. doi:10.1029/2009WR008894.">Clark and Kavetski, 2010</a>)</span>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.AdHocModel.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#AdHocModel.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.AdHocModel.run" title="Link to this definition">¶</a></dt>
<dd><p>Call all methods defined as “run methods” in the defined order.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.modeltools</span><span class="w"> </span><span class="kn">import</span> <span class="n">AdHocModel</span><span class="p">,</span> <span class="n">Method</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">print_1</span><span class="p">(</span><span class="n">Method</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@staticmethod</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">print_2</span><span class="p">(</span><span class="n">Method</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@staticmethod</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">Test</span><span class="p">(</span><span class="n">AdHocModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">RUN_METHODS</span> <span class="o">=</span> <span class="n">print_1</span><span class="p">,</span> <span class="n">print_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Test</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="go">1</span>
<span class="go">2</span>
</pre></div>
</div>
<p>When working in Cython mode, the standard model import overrides this generic
Python version with a model-specific Cython version.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SegmentModel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">SegmentModel</span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#SegmentModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.SegmentModel" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hydpy.core.modeltools.RunModel" title="hydpy.core.modeltools.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a></p>
<p>Base class for (routing) models that solve the underlying differential equations
“segment-wise”.</p>
<p>“segment-wise” means that <a class="reference internal" href="#hydpy.core.modeltools.SegmentModel" title="hydpy.core.modeltools.SegmentModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">SegmentModel</span></code></a> first runs the “run methods” for the
first segment (by setting <a class="reference internal" href="#hydpy.core.modeltools.SegmentModel.idx_segment" title="hydpy.core.modeltools.SegmentModel.idx_segment"><code class="xref py py-const docutils literal notranslate"><span class="pre">idx_segment</span></code></a> to zero), then for the
second segment (by setting <a class="reference internal" href="#hydpy.core.modeltools.SegmentModel.idx_segment" title="hydpy.core.modeltools.SegmentModel.idx_segment"><code class="xref py py-const docutils literal notranslate"><span class="pre">idx_segment</span></code></a> to one), and so on.
Therefore, it requires the concrete model subclass to provide a control
parameter named “NmbSegments”.  Additionally, it requires the concrete
model to implement a solver parameter named “NmbRuns” that defines how many
times the “run methods” need to be (repeatedly) executed for each segment.
See <a class="reference internal" href="musk_classic.html#module-hydpy.models.musk_classic" title="hydpy.models.musk_classic"><code class="xref py py-mod docutils literal notranslate"><span class="pre">musk_classic</span></code></a> and <a class="reference internal" href="musk_mct.html#module-hydpy.models.musk_mct" title="hydpy.models.musk_mct"><code class="xref py py-mod docutils literal notranslate"><span class="pre">musk_mct</span></code></a> as examples.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SegmentModel.idx_segment">
<span class="sig-name descname"><span class="pre">idx_segment</span></span><a class="headerlink" href="#hydpy.core.modeltools.SegmentModel.idx_segment" title="Link to this definition">¶</a></dt>
<dd><p>The segment index.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SegmentModel.idx_run">
<span class="sig-name descname"><span class="pre">idx_run</span></span><a class="headerlink" href="#hydpy.core.modeltools.SegmentModel.idx_run" title="Link to this definition">¶</a></dt>
<dd><p>The run index.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SegmentModel.nmb_segments">
<span class="sig-name descname"><span class="pre">nmb_segments</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#hydpy.core.modeltools.SegmentModel.nmb_segments" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SegmentModel.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#SegmentModel.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.SegmentModel.run" title="Link to this definition">¶</a></dt>
<dd><p>Call all methods defined as “run methods” “segment-wise”.</p>
<p>When working in Cython mode, the standard model import overrides this generic
Python version with a model-specific Cython version.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SegmentModel.run_segments">
<span class="sig-name descname"><span class="pre">run_segments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#hydpy.core.modeltools.Method" title="hydpy.core.modeltools.Method"><span class="pre">Method</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#SegmentModel.run_segments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.SegmentModel.run_segments" title="Link to this definition">¶</a></dt>
<dd><p>Run the given methods for all segments.</p>
<p>Method <a class="reference internal" href="#hydpy.core.modeltools.SegmentModel.run_segments" title="hydpy.core.modeltools.SegmentModel.run_segments"><code class="xref py py-func docutils literal notranslate"><span class="pre">run_segments()</span></code></a> is mainly thought for testing purposes.
See the documentation on method <a class="reference internal" href="musk.html#hydpy.models.musk.musk_model.Calc_Discharge_V1" title="hydpy.models.musk.musk_model.Calc_Discharge_V1"><code class="xref py py-class docutils literal notranslate"><span class="pre">Calc_Discharge_V1</span></code></a> on how to apply
it.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubstepModel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">SubstepModel</span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#SubstepModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.SubstepModel" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hydpy.core.modeltools.RunModel" title="hydpy.core.modeltools.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a></p>
<p>Base class for (routing) models that solve the underlying differential equations
“substep-wise”.</p>
<p>“substep-wise” means method <a class="reference internal" href="#hydpy.core.modeltools.SubstepModel.run" title="hydpy.core.modeltools.SubstepModel.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> repeatedly calls all “run methods”
in the usual order within each simulation step until the <a class="reference internal" href="#hydpy.core.modeltools.SubstepModel.timeleft" title="hydpy.core.modeltools.SubstepModel.timeleft"><code class="xref py py-const docutils literal notranslate"><span class="pre">timeleft</span></code></a>
attribute is not larger than zero anymore.  The concrete model subclass is up to
reduce <a class="reference internal" href="#hydpy.core.modeltools.SubstepModel.timeleft" title="hydpy.core.modeltools.SubstepModel.timeleft"><code class="xref py py-const docutils literal notranslate"><span class="pre">timeleft</span></code></a>.  This mechanism allows the concrete model to
adjust the internal calculation time step depending on its current accuracy and
stability requirements.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubstepModel.cymodel">
<span class="sig-name descname"><span class="pre">cymodel</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.CySubstepModelProtocol" title="hydpy.core.typingtools.CySubstepModelProtocol"><span class="pre">CySubstepModelProtocol</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.SubstepModel.cymodel" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubstepModel.timeleft">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">timeleft</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.SubstepModel.timeleft" title="Link to this definition">¶</a></dt>
<dd><p>The time left within the current simulation step [s].</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubstepModel.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#SubstepModel.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.SubstepModel.run" title="Link to this definition">¶</a></dt>
<dd><p>Call all methods defined as “run methods” repeatedly.</p>
<p>When working in Cython mode, the standard model import overrides this generic
Python version with a model-specific Cython version.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SolverModel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">SolverModel</span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#SolverModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.SolverModel" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a></p>
<p>Base class for hydrological models, which solve ordinary differential equations
with numerical integration algorithms.</p>
<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SolverModel.solve">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">solve</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#SolverModel.solve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.SolverModel.solve" title="Link to this definition">¶</a></dt>
<dd><p>Solve all <cite>FULL_ODE_METHODS</cite> in parallel.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.NumConstsELS">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">NumConstsELS</span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#NumConstsELS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.NumConstsELS" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Configuration options for using the “Explicit Lobatto Sequence” implemented by
class <a class="reference internal" href="#hydpy.core.modeltools.ELSModel" title="hydpy.core.modeltools.ELSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ELSModel</span></code></a>.</p>
<p>You can change the following solver options at your own risk.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.modeltools</span><span class="w"> </span><span class="kn">import</span> <span class="n">NumConstsELS</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">consts</span> <span class="o">=</span> <span class="n">NumConstsELS</span><span class="p">()</span>
</pre></div>
</div>
<p>The maximum number of Runge Kutta submethods to be applied (the higher, the better
the theoretical accuracy, but also the worse the time spent unsuccessful when the
theory does not apply):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">consts</span><span class="o">.</span><span class="n">nmb_methods</span>
<span class="go">10</span>
</pre></div>
</div>
<p>The number of entries to handle the stages of the highest order method (must agree
with the maximum number of methods):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">consts</span><span class="o">.</span><span class="n">nmb_stages</span>
<span class="go">11</span>
</pre></div>
</div>
<p>The maximum increase of the integration step size in case of success:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">consts</span><span class="o">.</span><span class="n">dt_increase</span>
<span class="go">2.0</span>
</pre></div>
</div>
<p>The maximum decrease of the integration step size in case of failure:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">consts</span><span class="o">.</span><span class="n">dt_decrease</span>
<span class="go">10.0</span>
</pre></div>
</div>
<p>The Runge Kutta coefficients, one matrix for each submethod:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">consts</span><span class="o">.</span><span class="n">a_coefs</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(11, 12, 11)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.NumConstsELS.a_coeffs">
<span class="sig-name descname"><span class="pre">a_coeffs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.2)"><span class="pre">ndarray</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.NumConstsELS.a_coeffs" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.NumConstsELS.nmb_methods">
<span class="sig-name descname"><span class="pre">nmb_methods</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.NumConstsELS.nmb_methods" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.NumConstsELS.nmb_stages">
<span class="sig-name descname"><span class="pre">nmb_stages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.NumConstsELS.nmb_stages" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.NumConstsELS.dt_increase">
<span class="sig-name descname"><span class="pre">dt_increase</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.NumConstsELS.dt_increase" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.NumConstsELS.dt_decrease">
<span class="sig-name descname"><span class="pre">dt_decrease</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.NumConstsELS.dt_decrease" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.NumVarsELS">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">NumVarsELS</span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#NumVarsELS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.NumVarsELS" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Intermediate results of the “Explicit Lobatto Sequence” implemented by class
<a class="reference internal" href="#hydpy.core.modeltools.ELSModel" title="hydpy.core.modeltools.ELSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ELSModel</span></code></a>.</p>
<p>Class <a class="reference internal" href="#hydpy.core.modeltools.NumVarsELS" title="hydpy.core.modeltools.NumVarsELS"><code class="xref py py-class docutils literal notranslate"><span class="pre">NumVarsELS</span></code></a> should be of relevance for model developers, as it helps to
evaluate how efficient newly implemented models are solved (see the documentation
on method <a class="reference internal" href="#hydpy.core.modeltools.ELSModel.solve" title="hydpy.core.modeltools.ELSModel.solve"><code class="xref py py-func docutils literal notranslate"><span class="pre">solve()</span></code></a> of class <a class="reference internal" href="#hydpy.core.modeltools.ELSModel" title="hydpy.core.modeltools.ELSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ELSModel</span></code></a> as an example).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.NumVarsELS.use_relerror">
<span class="sig-name descname"><span class="pre">use_relerror</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.NumVarsELS.use_relerror" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.NumVarsELS.nmb_calls">
<span class="sig-name descname"><span class="pre">nmb_calls</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.NumVarsELS.nmb_calls" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.NumVarsELS.t0">
<span class="sig-name descname"><span class="pre">t0</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.NumVarsELS.t0" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.NumVarsELS.t1">
<span class="sig-name descname"><span class="pre">t1</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.NumVarsELS.t1" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.NumVarsELS.dt_est">
<span class="sig-name descname"><span class="pre">dt_est</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.NumVarsELS.dt_est" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.NumVarsELS.dt">
<span class="sig-name descname"><span class="pre">dt</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.NumVarsELS.dt" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.NumVarsELS.idx_method">
<span class="sig-name descname"><span class="pre">idx_method</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.NumVarsELS.idx_method" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.NumVarsELS.idx_stage">
<span class="sig-name descname"><span class="pre">idx_stage</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.NumVarsELS.idx_stage" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.NumVarsELS.abserror">
<span class="sig-name descname"><span class="pre">abserror</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.NumVarsELS.abserror" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.NumVarsELS.relerror">
<span class="sig-name descname"><span class="pre">relerror</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.NumVarsELS.relerror" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.NumVarsELS.last_abserror">
<span class="sig-name descname"><span class="pre">last_abserror</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.NumVarsELS.last_abserror" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.NumVarsELS.last_relerror">
<span class="sig-name descname"><span class="pre">last_relerror</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.NumVarsELS.last_relerror" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.NumVarsELS.extrapolated_abserror">
<span class="sig-name descname"><span class="pre">extrapolated_abserror</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.NumVarsELS.extrapolated_abserror" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.NumVarsELS.extrapolated_relerror">
<span class="sig-name descname"><span class="pre">extrapolated_relerror</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.NumVarsELS.extrapolated_relerror" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.NumVarsELS.f0_ready">
<span class="sig-name descname"><span class="pre">f0_ready</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.NumVarsELS.f0_ready" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ELSModel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">ELSModel</span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#ELSModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.ELSModel" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hydpy.core.modeltools.SolverModel" title="hydpy.core.modeltools.SolverModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">SolverModel</span></code></a></p>
<p>Base class for hydrological models using the “Explicit Lobatto Sequence” for
solving ordinary differential equations.</p>
<p>The “Explicit Lobatto Sequence” is a variable order Runge Kutta method combining
different Lobatto methods.  Its main idea is to first calculate a solution with a
lower order method, then use these results to apply the next higher-order method,
and to compare both results.  If they are close enough, the latter results are
accepted.  If not, the next higher-order method is applied (or, if no higher-order
method is available, the step size is decreased, and the algorithm restarts with
the method of the lowest order).  So far, a thorough description of the algorithm
is available in German only <span id="id3">(<a class="reference internal" href="zbibliography.html#id33" title="Christoph Tyralla. Identifikation und Reduktion struktureller Unsicherheiten in hydrologischen Modellen. Ruhr-University Bochum, 2016. URL: https://hss-opus.ub.ruhr-uni-bochum.de/opus4/frontdoor/index/index/docId/5056.">Tyralla, 2016</a>)</span>.</p>
<p>Note the strengths and weaknesses of class <a class="reference internal" href="#hydpy.core.modeltools.ELSModel" title="hydpy.core.modeltools.ELSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ELSModel</span></code></a> discussed in the
documentation on method <a class="reference internal" href="#hydpy.core.modeltools.ELSModel.solve" title="hydpy.core.modeltools.ELSModel.solve"><code class="xref py py-func docutils literal notranslate"><span class="pre">solve()</span></code></a>.  Model developers should not derive from
class <a class="reference internal" href="#hydpy.core.modeltools.ELSModel" title="hydpy.core.modeltools.ELSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ELSModel</span></code></a> when trying to implement models with a high potential for stiff
parameterisations.  Discontinuities should be regularised, for example, by the
“smoothing functions” provided by module <a class="reference internal" href="smoothtools.html#module-hydpy.auxs.smoothtools" title="hydpy.auxs.smoothtools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">smoothtools</span></code></a>.  Model users should be
careful not to define two small smoothing factors, to avoid needlessly long
simulation times.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ELSModel.METHOD_GROUPS">
<span class="sig-name descname"><span class="pre">METHOD_GROUPS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('RECEIVER_METHODS',</span> <span class="pre">'INLET_METHODS',</span> <span class="pre">'PART_ODE_METHODS',</span> <span class="pre">'FULL_ODE_METHODS',</span> <span class="pre">'ADD_METHODS',</span> <span class="pre">'OUTLET_METHODS',</span> <span class="pre">'SENDER_METHODS')</span></em><a class="headerlink" href="#hydpy.core.modeltools.ELSModel.METHOD_GROUPS" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ELSModel.numconsts">
<span class="sig-name descname"><span class="pre">numconsts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#hydpy.core.modeltools.NumConstsELS" title="hydpy.core.modeltools.NumConstsELS"><span class="pre">NumConstsELS</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.ELSModel.numconsts" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ELSModel.numvars">
<span class="sig-name descname"><span class="pre">numvars</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#hydpy.core.modeltools.NumVarsELS" title="hydpy.core.modeltools.NumVarsELS"><span class="pre">NumVarsELS</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.ELSModel.numvars" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ELSModel.simulate">
<span class="sig-name descname"><span class="pre">simulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#ELSModel.simulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.ELSModel.simulate" title="Link to this definition">¶</a></dt>
<dd><p>Similar to method <a class="reference internal" href="#hydpy.core.modeltools.Model.simulate" title="hydpy.core.modeltools.Model.simulate"><code class="xref py py-func docutils literal notranslate"><span class="pre">simulate()</span></code></a> of class <a class="reference internal" href="#hydpy.core.modeltools.AdHocModel" title="hydpy.core.modeltools.AdHocModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">AdHocModel</span></code></a> but calls method
<a class="reference internal" href="#hydpy.core.modeltools.ELSModel.solve" title="hydpy.core.modeltools.ELSModel.solve"><code class="xref py py-func docutils literal notranslate"><span class="pre">solve()</span></code></a> instead of <a class="reference internal" href="#hydpy.core.modeltools.AdHocModel.run" title="hydpy.core.modeltools.AdHocModel.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a>.</p>
<p>When working in Cython mode, the standard model import overrides this generic
Python version with a model-specific Cython version.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ELSModel.solve">
<span class="sig-name descname"><span class="pre">solve</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#ELSModel.solve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.ELSModel.solve" title="Link to this definition">¶</a></dt>
<dd><p>Solve all <cite>FULL_ODE_METHODS</cite> in parallel.</p>
<p>Implementing numerical integration algorithms that (hopefully) always work well
in practice is a tricky task.  The following exhaustive examples show how well
our “Explicit Lobatto Sequence” algorithm performs for the numerical test
models <a class="reference internal" href="test_stiff0d.html#module-hydpy.models.test_stiff0d" title="hydpy.models.test_stiff0d"><code class="xref py py-mod docutils literal notranslate"><span class="pre">test_stiff0d</span></code></a> and <a class="reference internal" href="test_discontinous.html#module-hydpy.models.test_discontinous" title="hydpy.models.test_discontinous"><code class="xref py py-mod docutils literal notranslate"><span class="pre">test_discontinous</span></code></a>.  We hope to cover all possible
corner cases.  Please tell us if you find one we missed.</p>
<p>First, we set the value of parameter <a class="reference internal" href="test.html#hydpy.models.test.test_control.K" title="hydpy.models.test.test_control.K"><code class="xref py py-class docutils literal notranslate"><span class="pre">K</span></code></a> to zero, resulting in no
changes at all and thus defining the simplest test case possible:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff0d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">k</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
</pre></div>
</div>
<p>Second, we assign values to the solver parameters <a class="reference internal" href="test.html#hydpy.models.test.test_solver.AbsErrorMax" title="hydpy.models.test.test_solver.AbsErrorMax"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbsErrorMax</span></code></a>,
<a class="reference internal" href="test.html#hydpy.models.test.test_solver.RelDTMin" title="hydpy.models.test.test_solver.RelDTMin"><code class="xref py py-class docutils literal notranslate"><span class="pre">RelDTMin</span></code></a>, and <a class="reference internal" href="test.html#hydpy.models.test.test_solver.RelDTMax" title="hydpy.models.test.test_solver.RelDTMax"><code class="xref py py-class docutils literal notranslate"><span class="pre">RelDTMax</span></code></a> to specify the required
numerical accuracy and the smallest and largest internal integration step size
allowed:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">abserrormax</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">reldtmin</span><span class="p">(</span><span class="mf">0.001</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">reldtmax</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
<p>Additionally, we set <a class="reference internal" href="test.html#hydpy.models.test.test_solver.RelErrorMax" title="hydpy.models.test.test_solver.RelErrorMax"><code class="xref py py-class docutils literal notranslate"><span class="pre">RelErrorMax</span></code></a> to <code class="xref py py-const docutils literal notranslate"><span class="pre">nan</span></code>, which disables
taking relative errors into account:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">relerrormax</span><span class="p">(</span><span class="n">nan</span><span class="p">)</span>
</pre></div>
</div>
<p>Calling method <a class="reference internal" href="#hydpy.core.modeltools.ELSModel.solve" title="hydpy.core.modeltools.ELSModel.solve"><code class="xref py py-func docutils literal notranslate"><span class="pre">solve()</span></code></a> correctly calculates zero discharge
(<a class="reference internal" href="test.html#hydpy.models.test.test_fluxes.Q" title="hydpy.models.test.test_fluxes.Q"><code class="xref py py-class docutils literal notranslate"><span class="pre">Q</span></code></a>) and thus does not change the water storage (<a class="reference internal" href="test.html#hydpy.models.test.test_states.S" title="hydpy.models.test.test_states.S"><code class="xref py py-class docutils literal notranslate"><span class="pre">S</span></code></a>):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span>
<span class="go">s(1.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(0.0)</span>
</pre></div>
</div>
<p>The achieve the above result, <a class="reference internal" href="#hydpy.core.modeltools.ELSModel" title="hydpy.core.modeltools.ELSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ELSModel</span></code></a> requires two function calls, one for
the initial guess (using the Explicit Euler Method) and the other one
(extending the Explicit Euler method to the Explicit Heun method) to confirm
the first guess meets the required accuracy:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_method</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">dt</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span>
<span class="go">2</span>
</pre></div>
</div>
<p>With moderate changes due to setting the value of parameter <a class="reference internal" href="test.html#hydpy.models.test.test_control.K" title="hydpy.models.test.test_control.K"><code class="xref py py-class docutils literal notranslate"><span class="pre">K</span></code></a>
to 0.1, two method calls are still sufficient:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">k</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span>
<span class="go">s(0.905)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(0.095)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_method</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span>
<span class="go">2</span>
</pre></div>
</div>
<p>Calculating the analytical solution shows <a class="reference internal" href="#hydpy.core.modeltools.ELSModel" title="hydpy.core.modeltools.ELSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ELSModel</span></code></a> did not exceed the given
tolerance value:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">k</span><span class="p">))</span>
<span class="go">0.904837</span>
</pre></div>
</div>
<p>After decreasing the allowed error by one order of magnitude, <a class="reference internal" href="#hydpy.core.modeltools.ELSModel" title="hydpy.core.modeltools.ELSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ELSModel</span></code></a>
requires four method calls (again, one for the first order and one for the
second-order method, and two additional calls for the third-order method):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">abserrormax</span><span class="p">(</span><span class="mf">0.001</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span>
<span class="go">s(0.904833)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(0.095167)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_method</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span>
<span class="go">4</span>
</pre></div>
</div>
<p>After decreasing <a class="reference internal" href="test.html#hydpy.models.test.test_solver.AbsErrorMax" title="hydpy.models.test.test_solver.AbsErrorMax"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbsErrorMax</span></code></a> by ten again, <a class="reference internal" href="#hydpy.core.modeltools.ELSModel" title="hydpy.core.modeltools.ELSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ELSModel</span></code></a> needs one
further higher-order method, which requires three additional calls, making a
sum of seven:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">abserrormax</span><span class="p">(</span><span class="mf">0.0001</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span>
<span class="go">s(0.904837)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(0.095163)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_method</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span>
<span class="go">7</span>
</pre></div>
</div>
<p><a class="reference internal" href="#hydpy.core.modeltools.ELSModel" title="hydpy.core.modeltools.ELSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ELSModel</span></code></a> achieves even a very extreme numerical precision (just for testing,
way beyond hydrological requirements) in one single step but now requires 29
method calls:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">abserrormax</span><span class="p">(</span><span class="mf">1e-12</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span>
<span class="go">s(0.904837)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(0.095163)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">dt</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_method</span>
<span class="go">8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span>
<span class="go">29</span>
</pre></div>
</div>
<p>With a more dynamical parameterisation, where the storage decreases by about
40 % per time step, <a class="reference internal" href="#hydpy.core.modeltools.ELSModel" title="hydpy.core.modeltools.ELSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ELSModel</span></code></a> needs seven method calls to meet a “normal”
error tolerance:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">abserrormax</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">k</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span>
<span class="go">s(0.606771)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(0.393229)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_method</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span>
<span class="go">7</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">k</span><span class="p">))</span>
<span class="go">0.606531</span>
</pre></div>
</div>
<p>Being an explicit integration method, the “Explicit Lobatto Sequence” can be
inefficient for solving stiff initial value problems.  Setting <a class="reference internal" href="test.html#hydpy.models.test.test_control.K" title="hydpy.models.test.test_control.K"><code class="xref py py-class docutils literal notranslate"><span class="pre">K</span></code></a>
to 2.0 forces <a class="reference internal" href="#hydpy.core.modeltools.ELSModel" title="hydpy.core.modeltools.ELSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ELSModel</span></code></a> to solve the problem in two substeps, requiring a
total of 22 method calls:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">k</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">k</span><span class="p">))</span>
<span class="go">0.135335</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span>
<span class="go">s(0.134658)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(0.865342)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">dt</span><span class="p">)</span>
<span class="go">0.3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span>
<span class="go">22</span>
</pre></div>
</div>
<p>Increasing the stiffness of the initial value problem further can increase
computation times rapidly:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">k</span><span class="p">(</span><span class="mf">4.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">k</span><span class="p">))</span>
<span class="go">0.018316</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span>
<span class="go">s(0.019774)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(0.980226)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">dt</span><span class="p">)</span>
<span class="go">0.3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span>
<span class="go">44</span>
</pre></div>
</div>
<p>If we prevent <a class="reference internal" href="#hydpy.core.modeltools.ELSModel" title="hydpy.core.modeltools.ELSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ELSModel</span></code></a> from compensatingf or its problems by disallowing it
to reduce its integration step size, it does not achieve satisfying results:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">reldtmin</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span>
<span class="go">s(0.09672)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(0.90328)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">dt</span><span class="p">)</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span>
<span class="go">46</span>
</pre></div>
</div>
<p>You can restrict the allowed maximum integration step size, which can help to
prevent from loosing to much performance due to trying to solve too stiff
problems, repeatedly:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">reldtmin</span><span class="p">(</span><span class="mf">0.001</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">reldtmax</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span>
<span class="go">s(0.016806)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(0.983194)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">dt</span><span class="p">)</span>
<span class="go">0.25</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span>
<span class="go">33</span>
</pre></div>
</div>
<p>Alternatively, you can restrict the available number of Lobatto methods.  Using
two methods only is an inefficient choice for the given initial value problem
but at least solves it with the required accuracy:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">reldtmax</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numconsts</span><span class="o">.</span><span class="n">nmb_methods</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span>
<span class="go">s(0.020284)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(0.979716)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">dt</span><span class="p">)</span>
<span class="go">0.156698</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span>
<span class="go">74</span>
</pre></div>
</div>
<p>In the above examples, we control numerical accuracies based on absolute error
estimates only via parameter <a class="reference internal" href="test.html#hydpy.models.test.test_solver.AbsErrorMax" title="hydpy.models.test.test_solver.AbsErrorMax"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbsErrorMax</span></code></a>.  After assigning an
actual value to parameter <a class="reference internal" href="test.html#hydpy.models.test.test_solver.RelErrorMax" title="hydpy.models.test.test_solver.RelErrorMax"><code class="xref py py-class docutils literal notranslate"><span class="pre">RelErrorMax</span></code></a>, <a class="reference internal" href="#hydpy.core.modeltools.ELSModel" title="hydpy.core.modeltools.ELSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ELSModel</span></code></a> also takes
relative errors into account.  We modify some of the above examples to show how
this works.</p>
<p>Generally, it is sufficient to meet one of both criteria.  If we repeat the
second example with a relaxed absolute but a strict relative tolerance, we
reproduce the original result due to our absolute criteria being the relevant
one:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">abserrormax</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">relerrormax</span><span class="p">(</span><span class="mf">0.000001</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">k</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span>
<span class="go">s(0.905)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(0.095)</span>
</pre></div>
</div>
<p>The same holds for the opposite case of a strict absolute but a relaxed
relative tolerance:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">abserrormax</span><span class="p">(</span><span class="mf">0.000001</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">relerrormax</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">k</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span>
<span class="go">s(0.905)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(0.095)</span>
</pre></div>
</div>
<p>Reiterating the “more dynamical parameterisation” example results in slightly
different but also correct results:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">k</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span>
<span class="go">s(0.607196)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(0.392804)</span>
</pre></div>
</div>
<p>Reiterating the stiffest example with a relative instead of an absolute error
tolerance of 0.1 achieves higher accuracy, as to be expected due to the value
of <a class="reference internal" href="test.html#hydpy.models.test.test_states.S" title="hydpy.models.test.test_states.S"><code class="xref py py-class docutils literal notranslate"><span class="pre">S</span></code></a> being far below 1.0 for some time:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">k</span><span class="p">(</span><span class="mf">4.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span>
<span class="go">s(0.0185)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(0.9815)</span>
</pre></div>
</div>
<p>Besides its weaknesses with stiff problems, <a class="reference internal" href="#hydpy.core.modeltools.ELSModel" title="hydpy.core.modeltools.ELSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ELSModel</span></code></a> cannot solve
discontinuous problems well.  We use the <a class="reference internal" href="test_stiff0d.html#module-hydpy.models.test_stiff0d" title="hydpy.models.test_stiff0d"><code class="xref py py-mod docutils literal notranslate"><span class="pre">test_stiff0d</span></code></a> example model to
demonstrate how <a class="reference internal" href="#hydpy.core.modeltools.ELSModel" title="hydpy.core.modeltools.ELSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ELSModel</span></code></a> behaves when confronted with such a problem.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">reverse_model_wildcard_import</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse_model_wildcard_import</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_discontinous</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
</pre></div>
</div>
<p>Everything works fine as long as the discontinuity does not affect the
considered simulation step:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">k</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">abserrormax</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">reldtmin</span><span class="p">(</span><span class="mf">0.001</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">reldtmax</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solver</span><span class="o">.</span><span class="n">relerrormax</span><span class="p">(</span><span class="n">nan</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span>
<span class="go">s(0.5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(0.5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_method</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">dt</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span>
<span class="go">2</span>
</pre></div>
</div>
<p>The occurrence of a discontinuity within the simulation step often increases
computation times more than a stiff parameterisation:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">k</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span>
<span class="go">s(-0.006827)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(1.006827)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span>
<span class="go">58</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">k</span><span class="p">(</span><span class="mf">2.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span>
<span class="go">s(-0.00072)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(1.00072)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">nmb_calls</span>
<span class="go">50</span>
</pre></div>
</div>
<p>When working in Cython mode, the standard model import overrides this generic
Python version with a model-specific Cython version.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ELSModel.calculate_single_terms">
<span class="sig-name descname"><span class="pre">calculate_single_terms</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#ELSModel.calculate_single_terms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.ELSModel.calculate_single_terms" title="Link to this definition">¶</a></dt>
<dd><p>Apply all methods stored in the <cite>PART_ODE_METHODS</cite> tuple.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff0d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">k</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">calculate_single_terms</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(0.25)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ELSModel.calculate_full_terms">
<span class="sig-name descname"><span class="pre">calculate_full_terms</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#ELSModel.calculate_full_terms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.ELSModel.calculate_full_terms" title="Link to this definition">¶</a></dt>
<dd><p>Apply all methods stored in the <cite>FULL_ODE_METHODS</cite> tuple.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff0d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">k</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">old</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span> <span class="o">=</span> <span class="mf">0.25</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">calculate_full_terms</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">old</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">new</span>
<span class="go">0.75</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ELSModel.get_point_states">
<span class="sig-name descname"><span class="pre">get_point_states</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#ELSModel.get_point_states"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.ELSModel.get_point_states" title="Link to this definition">¶</a></dt>
<dd><p>Load the states corresponding to the actual stage.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff0d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">old</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">new</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_stage</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">states</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_s_points</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">get_point_states</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">old</span><span class="p">)</span>
<span class="go">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">new</span><span class="p">)</span>
<span class="go">1.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">reverse_model_wildcard_import</span><span class="p">,</span> <span class="n">print_vector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse_model_wildcard_import</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff1d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">sv</span><span class="o">.</span><span class="n">old</span> <span class="o">=</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">sv</span><span class="o">.</span><span class="n">new</span> <span class="o">=</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_stage</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">states</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_sv_points</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span><span class="p">[:</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span><span class="p">[:</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">get_point_states</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">states</span><span class="o">.</span><span class="n">sv</span><span class="o">.</span><span class="n">old</span><span class="p">)</span>
<span class="go">3.0, 3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">states</span><span class="o">.</span><span class="n">sv</span><span class="o">.</span><span class="n">new</span><span class="p">)</span>
<span class="go">1.0, 2.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ELSModel.set_point_states">
<span class="sig-name descname"><span class="pre">set_point_states</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#ELSModel.set_point_states"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.ELSModel.set_point_states" title="Link to this definition">¶</a></dt>
<dd><p>Save the states corresponding to the actual stage.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">print_vector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff0d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">old</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">new</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_stage</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">states</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_s_points</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span><span class="p">[:]</span> <span class="o">=</span> <span class="mf">0.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">set_point_states</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">points</span><span class="p">[:</span><span class="mi">4</span><span class="p">])</span>
<span class="go">0.0, 0.0, 1.0, 0.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">reverse_model_wildcard_import</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse_model_wildcard_import</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff1d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">sv</span><span class="o">.</span><span class="n">old</span> <span class="o">=</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">sv</span><span class="o">.</span><span class="n">new</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_stage</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">states</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_sv_points</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span><span class="p">[:]</span> <span class="o">=</span> <span class="mf">0.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">set_point_states</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">points</span><span class="p">[:</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">0.0, 0.0, 1.0, 0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">points</span><span class="p">[:</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="go">0.0, 0.0, 2.0, 0.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ELSModel.set_result_states">
<span class="sig-name descname"><span class="pre">set_result_states</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#ELSModel.set_result_states"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.ELSModel.set_result_states" title="Link to this definition">¶</a></dt>
<dd><p>Save the final states of the actual method.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">print_vector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff0d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">old</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">new</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_method</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">states</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_s_results</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span><span class="p">[:]</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">set_result_states</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">results</span><span class="p">[:</span><span class="mi">4</span><span class="p">])</span>
<span class="go">0.0, 0.0, 1.0, 0.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">reverse_model_wildcard_import</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse_model_wildcard_import</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff1d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">sv</span><span class="o">.</span><span class="n">old</span> <span class="o">=</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">sv</span><span class="o">.</span><span class="n">new</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_method</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">states</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_sv_results</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span><span class="p">[:]</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">set_result_states</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">results</span><span class="p">[:</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">0.0, 0.0, 1.0, 0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">results</span><span class="p">[:</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="go">0.0, 0.0, 2.0, 0.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ELSModel.get_sum_fluxes">
<span class="sig-name descname"><span class="pre">get_sum_fluxes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#ELSModel.get_sum_fluxes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.ELSModel.get_sum_fluxes" title="Link to this definition">¶</a></dt>
<dd><p>Get the sum of the fluxes calculated so far.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff0d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_q_sum</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">get_sum_fluxes</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(1.0)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">reverse_model_wildcard_import</span><span class="p">,</span> <span class="n">print_vector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse_model_wildcard_import</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff1d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">qv</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">fluxes</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_qv_sum</span><span class="p">)[:]</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">get_sum_fluxes</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">qv</span>
<span class="go">qv(1.0, 2.0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ELSModel.set_point_fluxes">
<span class="sig-name descname"><span class="pre">set_point_fluxes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#ELSModel.set_point_fluxes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.ELSModel.set_point_fluxes" title="Link to this definition">¶</a></dt>
<dd><p>Save the fluxes corresponding to the actual stage.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">print_vector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff0d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_stage</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">fluxes</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_q_points</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span><span class="p">[:]</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">set_point_fluxes</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">points</span><span class="p">[:</span><span class="mi">4</span><span class="p">])</span>
<span class="go">0.0, 0.0, 1.0, 0.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">reverse_model_wildcard_import</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse_model_wildcard_import</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff1d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">qv</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_stage</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">fluxes</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_qv_points</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span><span class="p">[:]</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">set_point_fluxes</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">points</span><span class="p">[:</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">0.0, 0.0, 1.0, 0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">points</span><span class="p">[:</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="go">0.0, 0.0, 2.0, 0.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ELSModel.set_result_fluxes">
<span class="sig-name descname"><span class="pre">set_result_fluxes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#ELSModel.set_result_fluxes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.ELSModel.set_result_fluxes" title="Link to this definition">¶</a></dt>
<dd><p>Save the final fluxes of the actual method.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">print_vector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff0d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_method</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">fluxes</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_q_results</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span><span class="p">[:]</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">set_result_fluxes</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">results</span><span class="p">[:</span><span class="mi">4</span><span class="p">])</span>
<span class="go">0.0, 0.0, 1.0, 0.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">reverse_model_wildcard_import</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse_model_wildcard_import</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff1d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">qv</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_method</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">fluxes</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_qv_results</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span><span class="p">[:]</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">set_result_fluxes</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">results</span><span class="p">[:</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">0.0, 0.0, 1.0, 0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">results</span><span class="p">[:</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="go">0.0, 0.0, 2.0, 0.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ELSModel.integrate_fluxes">
<span class="sig-name descname"><span class="pre">integrate_fluxes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#ELSModel.integrate_fluxes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.ELSModel.integrate_fluxes" title="Link to this definition">¶</a></dt>
<dd><p>Perform a dot multiplication between the fluxes and the A coefficients
associated with the different stages of the actual method.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">print_vector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff0d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_method</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_stage</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">dt</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">fluxes</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_q_points</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mf">15.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">999.0</span><span class="p">,</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">integrate_fluxes</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numconsts</span><span class="o">.</span><span class="n">a_coefs</span><span class="p">)[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">:</span><span class="mi">2</span><span class="p">])</span>
<span class="go">0.375, 0.125</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span>
<span class="go">q(2.9375)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">reverse_model_wildcard_import</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse_model_wildcard_import</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff1d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_method</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_stage</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">dt</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">fluxes</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_qv_points</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span><span class="p">[:</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">999.0</span><span class="p">,</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span><span class="p">[:</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">15.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">999.0</span><span class="p">,</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">integrate_fluxes</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numconsts</span><span class="o">.</span><span class="n">a_coefs</span><span class="p">)[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">:</span><span class="mi">2</span><span class="p">])</span>
<span class="go">0.375, 0.125</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">qv</span>
<span class="go">qv(0.25, 2.9375)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ELSModel.reset_sum_fluxes">
<span class="sig-name descname"><span class="pre">reset_sum_fluxes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#ELSModel.reset_sum_fluxes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.ELSModel.reset_sum_fluxes" title="Link to this definition">¶</a></dt>
<dd><p>Set the sum of the fluxes calculated so far to zero.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff0d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_q_sum</span> <span class="o">=</span> <span class="mf">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">reset_sum_fluxes</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_q_sum</span>
<span class="go">0.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">reverse_model_wildcard_import</span><span class="p">,</span> <span class="n">print_vector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse_model_wildcard_import</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff1d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sums</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">fluxes</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_qv_sum</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sums</span><span class="p">[:]</span> <span class="o">=</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">reset_sum_fluxes</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">fluxes</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_qv_sum</span><span class="p">)</span>
<span class="go">0.0, 0.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ELSModel.addup_fluxes">
<span class="sig-name descname"><span class="pre">addup_fluxes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#ELSModel.addup_fluxes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.ELSModel.addup_fluxes" title="Link to this definition">¶</a></dt>
<dd><p>Add up the sum of the fluxes calculated so far.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff0d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_q_sum</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">addup_fluxes</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_q_sum</span>
<span class="go">3.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">reverse_model_wildcard_import</span><span class="p">,</span> <span class="n">print_vector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse_model_wildcard_import</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff1d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sums</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">fluxes</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_qv_sum</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sums</span><span class="p">[:]</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fluxes</span><span class="o">.</span><span class="n">qv</span><span class="p">(</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">addup_fluxes</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">sums</span><span class="p">)</span>
<span class="go">4.0, 6.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ELSModel.calculate_error">
<span class="sig-name descname"><span class="pre">calculate_error</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#ELSModel.calculate_error"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.ELSModel.calculate_error" title="Link to this definition">¶</a></dt>
<dd><p>Estimate the numerical error based on the relevant fluxes calculated by the
current and the last method.</p>
<p>“Relevant fluxes” are those contained within the <cite>SOLVERSEQUENCES</cite> tuple.  If
this tuple is empty, method <a class="reference internal" href="#hydpy.core.modeltools.ELSModel.calculate_error" title="hydpy.core.modeltools.ELSModel.calculate_error"><code class="xref py py-func docutils literal notranslate"><span class="pre">calculate_error()</span></code></a> selects all flux
sequences of the respective model with a <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code> <cite>NUMERIC</cite> attribute.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff0d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">fluxes</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_q_results</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">use_relerror</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_method</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">calculate_error</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">abserror</span><span class="p">)</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">relerror</span><span class="p">)</span>
<span class="go">inf</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">use_relerror</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">calculate_error</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">abserror</span><span class="p">)</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">relerror</span><span class="p">)</span>
<span class="go">0.25</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_method</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">calculate_error</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">abserror</span><span class="p">)</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">relerror</span><span class="p">)</span>
<span class="go">0.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_method</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">calculate_error</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">abserror</span><span class="p">)</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">relerror</span><span class="p">)</span>
<span class="go">inf</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">reverse_model_wildcard_import</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse_model_wildcard_import</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff1d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">use_relerror</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_method</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">fluxes</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">_qv_results</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span><span class="p">[:</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span><span class="p">[:</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">8.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">calculate_error</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">abserror</span><span class="p">)</span>
<span class="go">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">relerror</span><span class="p">)</span>
<span class="go">1.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_method</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">calculate_error</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">abserror</span><span class="p">)</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">relerror</span><span class="p">)</span>
<span class="go">0.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_method</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">calculate_error</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">abserror</span><span class="p">)</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">relerror</span><span class="p">)</span>
<span class="go">inf</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ELSModel.extrapolate_error">
<span class="sig-name descname"><span class="pre">extrapolate_error</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#ELSModel.extrapolate_error"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.ELSModel.extrapolate_error" title="Link to this definition">¶</a></dt>
<dd><p>Estimate the numerical error expected when applying all methods available
based on the results of the current and the last method.</p>
<p>Note that you cannot apply this extrapolation strategy to the first method.  If
the current method is the first one, method <a class="reference internal" href="#hydpy.core.modeltools.ELSModel.extrapolate_error" title="hydpy.core.modeltools.ELSModel.extrapolate_error"><code class="xref py py-func docutils literal notranslate"><span class="pre">extrapolate_error()</span></code></a>
returns <cite>-999.9</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.test_stiff0d</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">use_relerror</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">abserror</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">last_abserror</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_method</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">extrapolate_error</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">extrapolated_abserror</span><span class="p">)</span>
<span class="go">0.01</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">extrapolated_relerror</span>
<span class="go">inf</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">use_relerror</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">relerror</span> <span class="o">=</span> <span class="mf">0.001</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">last_relerror</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">extrapolate_error</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">extrapolated_abserror</span><span class="p">)</span>
<span class="go">0.01</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">extrapolated_relerror</span><span class="p">)</span>
<span class="go">0.001</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">idx_method</span> <span class="o">=</span> <span class="mi">9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">extrapolate_error</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">extrapolated_abserror</span><span class="p">)</span>
<span class="go">0.001</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">extrapolated_relerror</span><span class="p">)</span>
<span class="go">0.0001</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">relerror</span> <span class="o">=</span> <span class="n">inf</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">extrapolate_error</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">extrapolated_relerror</span><span class="p">)</span>
<span class="go">inf</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">abserror</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">extrapolate_error</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">extrapolated_abserror</span><span class="p">)</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">numvars</span><span class="o">.</span><span class="n">extrapolated_relerror</span><span class="p">)</span>
<span class="go">0.0</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubmodelInterface">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">SubmodelInterface</span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#SubmodelInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.SubmodelInterface" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a></p>
<p>Base class for defining interfaces for submodels.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubmodelInterface.typeid">
<span class="sig-name descname"><span class="pre">typeid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.modeltools.SubmodelInterface.typeid" title="Link to this definition">¶</a></dt>
<dd><p>Type identifier that we use for differentiating submodels that target the same 
process group (e.g. infiltration) but follow different interfaces.</p>
<p>For <cite>Submodel_V1</cite>, <a class="reference internal" href="#hydpy.core.modeltools.SubmodelInterface.typeid" title="hydpy.core.modeltools.SubmodelInterface.typeid"><code class="xref py py-attr docutils literal notranslate"><span class="pre">typeid</span></code></a> is 1, for <cite>Submodel_V2</cite> 2, and so on.</p>
<p>We prefer using <a class="reference internal" href="#hydpy.core.modeltools.SubmodelInterface.typeid" title="hydpy.core.modeltools.SubmodelInterface.typeid"><code class="xref py py-attr docutils literal notranslate"><span class="pre">typeid</span></code></a> over the standard <a class="reference external" href="https://docs.python.org/3/library/functions.html#isinstance" title="(in Python v3.13)"><code class="xref py py-func docutils literal notranslate"><span class="pre">isinstance()</span></code></a> checks in 
model equations as it allows releasing Python’s Globel Interpreter Lock in Cython.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubmodelInterface.preparemethod2arguments">
<span class="sig-name descname"><span class="pre">preparemethod2arguments</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.modeltools.SubmodelInterface.preparemethod2arguments" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubmodelInterface.share_configuration">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">share_configuration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sharable_configuration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.SharableConfiguration" title="hydpy.core.typingtools.SharableConfiguration"><span class="pre">SharableConfiguration</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Generator" title="(in Python v3.13)"><span class="pre">Generator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#SubmodelInterface.share_configuration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.SubmodelInterface.share_configuration" title="Link to this definition">¶</a></dt>
<dd><p>Share class-level configurations between a main model and a submodel
temporarily.</p>
<p>The default implementation of method <a class="reference internal" href="#hydpy.core.modeltools.SubmodelInterface.share_configuration" title="hydpy.core.modeltools.SubmodelInterface.share_configuration"><code class="xref py py-func docutils literal notranslate"><span class="pre">share_configuration()</span></code></a>
does nothing.  Submodels can overwrite it to adjust their classes to the
current main model during initialisation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SubmodelInterface.add_mainmodel_as_subsubmodel">
<span class="sig-name descname"><span class="pre">add_mainmodel_as_subsubmodel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mainmodel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><span class="pre">Model</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#SubmodelInterface.add_mainmodel_as_subsubmodel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.SubmodelInterface.add_mainmodel_as_subsubmodel" title="Link to this definition">¶</a></dt>
<dd><p>If appropriate, add the given main model as a sub-submodel of the current
submodel.</p>
<p>The default implementation of method
<a class="reference internal" href="#hydpy.core.modeltools.SubmodelInterface.add_mainmodel_as_subsubmodel" title="hydpy.core.modeltools.SubmodelInterface.add_mainmodel_as_subsubmodel"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_mainmodel_as_subsubmodel()</span></code></a> just returns <code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code>.
Submodels can overwrite it to enable them to query data from their main models
actively.  If a submodel accepts a main model as a sub-submodel, it must return
<code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code>; otherwise, <code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SharableSubmodelInterface">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">SharableSubmodelInterface</span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#SharableSubmodelInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.SharableSubmodelInterface" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hydpy.core.modeltools.SubmodelInterface" title="hydpy.core.modeltools.SubmodelInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubmodelInterface</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a></p>
<p>Base class for defining interfaces for submodels designed as “sharable”.</p>
<p>Currently, <a class="reference internal" href="#hydpy.core.modeltools.SharableSubmodelInterface" title="hydpy.core.modeltools.SharableSubmodelInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">SharableSubmodelInterface</span></code></a>  implements no functionality.  Its sole
purpose is to allow model developers to mark a submodel as sharable, meaning
multiple main model instances can share the same submodel instance.  It is more of
a safety mechanism to prevent reusing submodels that are not designed for this
purpose.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SharableSubmodelInterface.preparemethod2arguments">
<span class="sig-name descname"><span class="pre">preparemethod2arguments</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.modeltools.SharableSubmodelInterface.preparemethod2arguments" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SharableSubmodelInterface.typeid">
<span class="sig-name descname"><span class="pre">typeid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.modeltools.SharableSubmodelInterface.typeid" title="Link to this definition">¶</a></dt>
<dd><p>Type identifier that we use for differentiating submodels that target the same 
process group (e.g. infiltration) but follow different interfaces.</p>
<p>For <cite>Submodel_V1</cite>, <a class="reference internal" href="#hydpy.core.modeltools.SubmodelInterface.typeid" title="hydpy.core.modeltools.SubmodelInterface.typeid"><code class="xref py py-attr docutils literal notranslate"><span class="pre">typeid</span></code></a> is 1, for <cite>Submodel_V2</cite> 2, and so on.</p>
<p>We prefer using <a class="reference internal" href="#hydpy.core.modeltools.SubmodelInterface.typeid" title="hydpy.core.modeltools.SubmodelInterface.typeid"><code class="xref py py-attr docutils literal notranslate"><span class="pre">typeid</span></code></a> over the standard <a class="reference external" href="https://docs.python.org/3/library/functions.html#isinstance" title="(in Python v3.13)"><code class="xref py py-func docutils literal notranslate"><span class="pre">isinstance()</span></code></a> checks in 
model equations as it allows releasing Python’s Globel Interpreter Lock in Cython.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SharableSubmodelInterface.cymodel">
<span class="sig-name descname"><span class="pre">cymodel</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.CyModelProtocol" title="hydpy.core.typingtools.CyModelProtocol"><span class="pre">CyModelProtocol</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.SharableSubmodelInterface.cymodel" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SharableSubmodelInterface.parameters">
<span class="sig-name descname"><span class="pre">parameters</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="parametertools.html#hydpy.core.parametertools.Parameters" title="hydpy.core.parametertools.Parameters"><span class="pre">parametertools.Parameters</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.SharableSubmodelInterface.parameters" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SharableSubmodelInterface.sequences">
<span class="sig-name descname"><span class="pre">sequences</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sequences" title="hydpy.core.sequencetools.Sequences"><span class="pre">sequencetools.Sequences</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.SharableSubmodelInterface.sequences" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SharableSubmodelInterface.masks">
<span class="sig-name descname"><span class="pre">masks</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="masktools.html#hydpy.core.masktools.Masks" title="hydpy.core.masktools.Masks"><span class="pre">masktools.Masks</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.SharableSubmodelInterface.masks" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SharableSubmodelInterface.METHOD_GROUPS">
<span class="sig-name descname"><span class="pre">METHOD_GROUPS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.modeltools.SharableSubmodelInterface.METHOD_GROUPS" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SharableSubmodelInterface.REUSABLE_METHODS">
<span class="sig-name descname"><span class="pre">REUSABLE_METHODS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.13)"><span class="pre">type</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#hydpy.core.modeltools.ReusableMethod" title="hydpy.core.modeltools.ReusableMethod"><span class="pre">ReusableMethod</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.modeltools.SharableSubmodelInterface.REUSABLE_METHODS" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.SharableSubmodelInterface.DOCNAME">
<span class="sig-name descname"><span class="pre">DOCNAME</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#hydpy.core.modeltools.DocName" title="hydpy.core.modeltools.DocName"><span class="pre">DocName</span></a></em><a class="headerlink" href="#hydpy.core.modeltools.SharableSubmodelInterface.DOCNAME" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Submodel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">Submodel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><span class="pre">Model</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#Submodel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.Submodel" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base class for implementing “submodels” that serve to deal with (possibly
complicated) general mathematical algorithms (e.g. root-finding algorithms) within
hydrological model methods.</p>
<p>You might find class <a class="reference internal" href="#hydpy.core.modeltools.Submodel" title="hydpy.core.modeltools.Submodel"><code class="xref py py-class docutils literal notranslate"><span class="pre">Submodel</span></code></a> useful when trying to implement algorithms
requiring some interaction with the respective model without any Python overhead.
See the modules <a class="reference internal" href="roottools.html#module-hydpy.auxs.roottools" title="hydpy.auxs.roottools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">roottools</span></code></a> and <cite>rootutils</cite> as an example, implementing Python
interfaces and Cython implementations of a root-finding algorithms, respectively.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Submodel.METHODS">
<span class="sig-name descname"><span class="pre">METHODS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.ClassVar" title="(in Python v3.13)"><span class="pre">ClassVar</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.13)"><span class="pre">type</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#hydpy.core.modeltools.Method" title="hydpy.core.modeltools.Method"><span class="pre">Method</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.modeltools.Submodel.METHODS" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Submodel.CYTHONBASECLASS">
<span class="sig-name descname"><span class="pre">CYTHONBASECLASS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.ClassVar" title="(in Python v3.13)"><span class="pre">ClassVar</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.13)"><span class="pre">type</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><span class="pre">object</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.modeltools.Submodel.CYTHONBASECLASS" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Submodel.PYTHONCLASS">
<span class="sig-name descname"><span class="pre">PYTHONCLASS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.ClassVar" title="(in Python v3.13)"><span class="pre">ClassVar</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.13)"><span class="pre">type</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><span class="pre">object</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.modeltools.Submodel.PYTHONCLASS" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.modeltools.Submodel.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.ClassVar" title="(in Python v3.13)"><span class="pre">ClassVar</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.modeltools.Submodel.name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.CoupleModels">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">CoupleModels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#CoupleModels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.CoupleModels" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Protocol" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Protocol</span></code></a>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">TypeModel_co</span></code>]</p>
<p>Specification for defining custom “couple_models” functions to be wrapped by
function <a class="reference internal" href="#hydpy.core.modeltools.define_modelcoupler" title="hydpy.core.modeltools.define_modelcoupler"><code class="xref py py-func docutils literal notranslate"><span class="pre">define_modelcoupler()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.core.modeltools.define_modelcoupler">
<span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">define_modelcoupler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputtypes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.13)"><span class="pre">type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">TypeModel_contra</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputtype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.13)"><span class="pre">type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">TypeModel_co</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable" title="(in Python v3.13)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#hydpy.core.modeltools.CoupleModels" title="hydpy.core.modeltools.CoupleModels"><span class="pre">CoupleModels</span></a><span class="p"><span class="pre">[</span></span><span class="pre">TypeModel_co</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#hydpy.core.modeltools.ModelCoupler" title="hydpy.core.modeltools.ModelCoupler"><span class="pre">ModelCoupler</span></a><span class="p"><span class="pre">[</span></span><span class="pre">TypeModel_co</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">TypeModel_contra</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#define_modelcoupler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.define_modelcoupler" title="Link to this definition">¶</a></dt>
<dd><p>Wrap a model-specific function for creating a composite model based given on
<a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> and <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> objects and their handled “normal” <a class="reference internal" href="#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> instances.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.modeltools.ModelCoupler">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.modeltools.</span></span><span class="sig-name descname"><span class="pre">ModelCoupler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputtypes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.13)"><span class="pre">type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">TypeModel_contra</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputtype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.13)"><span class="pre">type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">TypeModel_co</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrapped</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#hydpy.core.modeltools.CoupleModels" title="hydpy.core.modeltools.CoupleModels"><span class="pre">CoupleModels</span></a><span class="p"><span class="pre">[</span></span><span class="pre">TypeModel_co</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/core/modeltools.html#ModelCoupler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.modeltools.ModelCoupler" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Generic" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generic</span></code></a>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">TypeModel_co</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">TypeModel_contra</span></code>]</p>
<p>Wrapper that extends the functionality of model-specific functions for coupling
“normal” models to composite models.</p>
<p>One benefit of using <a class="reference internal" href="#hydpy.core.modeltools.ModelCoupler" title="hydpy.core.modeltools.ModelCoupler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelCoupler</span></code></a> over raw “couple_models” is that it
alternatively accepts <a class="reference internal" href="selectiontools.html#hydpy.core.selectiontools.Selection" title="hydpy.core.selectiontools.Selection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selection</span></code></a> objects instead of <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Nodes" title="hydpy.core.devicetools.Nodes"><code class="xref py py-class docutils literal notranslate"><span class="pre">Nodes</span></code></a> and <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Elements" title="hydpy.core.devicetools.Elements"><code class="xref py py-class docutils literal notranslate"><span class="pre">Elements</span></code></a>
objects:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">Element</span><span class="p">,</span> <span class="n">Elements</span><span class="p">,</span> <span class="n">Node</span><span class="p">,</span> <span class="n">Nodes</span><span class="p">,</span> <span class="n">prepare_model</span><span class="p">,</span> <span class="n">Selection</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n12</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;n12&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="s2">&quot;LongQ&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e1</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;e1&quot;</span><span class="p">,</span> <span class="n">outlets</span><span class="o">=</span><span class="n">n12</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">channel1</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_channel&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">channel1</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">nmbsegments</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">channel1</span><span class="o">.</span><span class="n">add_storagemodel_v1</span><span class="p">(</span><span class="s2">&quot;sw1d_storage&quot;</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">channel1</span><span class="o">.</span><span class="n">add_routingmodel_v2</span><span class="p">(</span><span class="s2">&quot;sw1d_lias&quot;</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e1</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">channel1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e2</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;e2&quot;</span><span class="p">,</span> <span class="n">inlets</span><span class="o">=</span><span class="n">n12</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">channel2</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;sw1d_channel&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">channel2</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">nmbsegments</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">channel2</span><span class="o">.</span><span class="n">add_storagemodel_v1</span><span class="p">(</span><span class="s2">&quot;sw1d_storage&quot;</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e2</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">channel2</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">network1</span> <span class="o">=</span> <span class="n">e1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">couple_models</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">Nodes</span><span class="p">(</span><span class="n">n12</span><span class="p">),</span> <span class="n">elements</span><span class="o">=</span><span class="n">Elements</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">network1</span><span class="o">.</span><span class="n">storagemodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="n">channel1</span><span class="o">.</span><span class="n">storagemodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">network1</span><span class="o">.</span><span class="n">storagemodels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="n">channel2</span><span class="o">.</span><span class="n">storagemodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">network1</span><span class="o">.</span><span class="n">routingmodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="n">channel1</span><span class="o">.</span><span class="n">routingmodels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">network1</span><span class="o">.</span><span class="n">storagemodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">routingmodelsdownstream</span><span class="o">.</span><span class="n">number</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">network1</span><span class="o">.</span><span class="n">storagemodels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">routingmodelsupstream</span><span class="o">.</span><span class="n">number</span> <span class="o">==</span> <span class="mi">1</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">selection</span> <span class="o">=</span> <span class="n">Selection</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="n">nodes</span><span class="o">=</span><span class="n">n12</span><span class="p">,</span> <span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">network2</span> <span class="o">=</span> <span class="n">e1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">couple_models</span><span class="p">(</span><span class="n">selection</span><span class="o">=</span><span class="n">selection</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">network2</span><span class="o">.</span><span class="n">storagemodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="n">channel1</span><span class="o">.</span><span class="n">storagemodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">network2</span><span class="o">.</span><span class="n">storagemodels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="n">channel2</span><span class="o">.</span><span class="n">storagemodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">network2</span><span class="o">.</span><span class="n">routingmodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="n">channel1</span><span class="o">.</span><span class="n">routingmodels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">network2</span><span class="o">.</span><span class="n">storagemodels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">routingmodelsdownstream</span><span class="o">.</span><span class="n">number</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">network2</span><span class="o">.</span><span class="n">storagemodels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">routingmodelsupstream</span><span class="o">.</span><span class="n">number</span> <span class="o">==</span> <span class="mi">1</span>
</pre></div>
</div>
<p>It additionally checks if the wrapped “couple_models” function supports the types
of all passed model instances:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">e3</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;e3&quot;</span><span class="p">,</span> <span class="n">inlets</span><span class="o">=</span><span class="s2">&quot;n3_in&quot;</span><span class="p">,</span> <span class="n">outlets</span><span class="o">=</span><span class="s2">&quot;n3_out&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e3</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;musk_classic&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">couple_models</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">Nodes</span><span class="p">(</span><span class="n">n12</span><span class="p">),</span> <span class="n">elements</span><span class="o">=</span><span class="n">Elements</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">e3</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">While trying to couple the given model instances to a composite model of type `sw1d_network` based on function `combine_channels`, the following error occurred: `musk_classic` of element `e3` is not among the supported model types: sw1d_channel.</span>
</pre></div>
</div>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="netcdftools.html" title="netcdftools"
             >next</a> |</li>
        <li class="right" >
          <a href="masktools.html" title="masktools"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">HydPy 6.1.5 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="reference_manual.html" >Reference Manual</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="framework_tools.html" >Framework Tools</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="core.html" >Core Tools</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">modeltools</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2013-2025, HydPy Developers.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>
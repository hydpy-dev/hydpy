<?xml version="1.0" encoding="UTF-8"?>
<config
        xmlns="https://github.com/tyralla/hydpy/tree/master/hydpy/conf/HydPy2FEWS.xsd"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="https://github.com/tyralla/hydpy/tree/master/hydpy/conf/HydPy2FEWS.xsd HydPy2FEWS.xsd">

    <options>
        <printprogress>false</printprogress>
        <printincolor>true</printincolor>
        <reprdigits>6</reprdigits>
        <usecython>true</usecython>
        <usedefaultvalues>false</usedefaultvalues>
        <utcoffset>60</utcoffset>
        <warnmissingobsfile>true</warnmissingobsfile>
        <warnmissingsimfile>true</warnmissingsimfile>
        <warntrim>true</warntrim>
        <flattennetcdf>true</flattennetcdf>
        <isolatenetcdf>true</isolatenetcdf>
    </options>

    <timegrid>
        <firstdate>1996-01-01T00:00:00</firstdate>
        <lastdate>1996-01-06T00:00:00</lastdate>
        <stepsize>1d</stepsize>
    </timegrid>

    <selections>
        headwaters
        streams
    </selections>

    <devices>
        land_dill
        land_lahn_1
        dill
    </devices>

    <conditions_io>
        <inputdir>init_1996_01_01</inputdir>
        <outputdir>init_1996_01_06</outputdir>
    </conditions_io>
    
    <series_io>

        <filetype>
            <general>npy</general>
        </filetype>

        <overwrite>
            <general>true</general>
        </overwrite>

        <dirpath>
            <inputs>LahnHBV/series/input</inputs>
            <fluxes>LahnHBV/series/output</fluxes>
            <states>LahnHBV/series/output</states>
            <nodes>LahnHBV/series/node</nodes>
        </dirpath>

        <aggregation>
            <general>none</general>
        </aggregation>

        <readers>
            <reader info="all input data">
                <selections/>
                <devices>
                    catchment
                </devices>
                <sequences>
                    <hland_v1>
                        <inputs>
                            <p/>
                            <t/>
                            <tn/>
                            <epn/>
                        </inputs>
                    </hland_v1>
                </sequences>
                <filetype>
                    <inputs>nc</inputs>
                </filetype>
            </reader>
        </readers>

        <writers>

            <writer info="precipitation">
                <selections>
                    headwaters
                </selections>
                <devices>
                    land_lahn_1
                    land_lahn_2
                </devices>
                <sequences>
                    <hland_v1>
                        <inputs>
                            <p/>
                        </inputs>
                        <fluxes>
                            <pc/>
                            <tf/>
                        </fluxes>
                    </hland_v1>
                </sequences>
                <filetype>
                    <inputs>asc</inputs>
                    <fluxes>npy</fluxes>
                </filetype>
            </writer>

            <writer info="soilmoisture">
                <selections>
                    complete
                </selections>
                <sequences>
                    <hland_v1>
                        <states>
                            <sm/>
                        </states>
                    </hland_v1>
                </sequences>
                <filetype>
                    <general>nc</general>
                </filetype>
                <overwrite>
                    <states>false</states>
                </overwrite>
            </writer>

            <writer info="averaged">
                <devices/>
                <sequences>
                    <node>
                        <sim/>
                        <obs/>
                    </node>
                    <hland_v1>
                        <fluxes>
                            <pc/>
                            <tf/>
                        </fluxes>
                        <states>
                            <sm/>
                        </states>
                    </hland_v1>
                </sequences>
                <dirpath>
                    <nodes>LahnHBV/series/output</nodes>
                </dirpath>
                <aggregation>
                    <general>mean</general>
                </aggregation>
            </writer>

        </writers>

    </series_io>

</config>

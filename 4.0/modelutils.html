
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>modelutils &#8212; HydPy 4.0.1 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pointerutils" href="pointerutils.html" />
    <link rel="prev" title="configutils" href="configutils.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pointerutils.html" title="pointerutils"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="configutils.html" title="configutils"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">HydPy 4.0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="framework.html" >Framework Tools</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="cythons.html" accesskey="U">Cython Tools</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">modelutils</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="modelutils">
<span id="id1"></span><h1>modelutils<a class="headerlink" href="#modelutils" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-hydpy.cythons.modelutils"></span><p>This module provides utilities to build Cython models based on
Python models automatically.</p>
<p>Most model developers do not need to be aware of the features
implemented in module <a class="reference internal" href="#module-hydpy.cythons.modelutils" title="hydpy.cythons.modelutils"><code class="xref py py-mod docutils literal notranslate"><span class="pre">modelutils</span></code></a>, except that they need to
initialise class <a class="reference internal" href="#hydpy.cythons.modelutils.Cythonizer" title="hydpy.cythons.modelutils.Cythonizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cythonizer</span></code></a> within the main modules of their base
and application models (see, for example, the source code of base
model <a class="reference internal" href="hland.html#module-hydpy.models.hland" title="hydpy.models.hland"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hland</span></code></a> and application model <a class="reference internal" href="hland_v1.html#module-hydpy.models.hland_v1" title="hydpy.models.hland_v1"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hland_v1</span></code></a>).</p>
<p>However, when implementing models with functionalities not envisaged
so far, problems might arise.  Please contact the <em>HydPy</em>
developer team then, preferably by opening an <a class="reference external" href="https://github.com/hydpy-dev/hydpy/issues">issue</a> on GitHub.
Potentially, problems could occur when defining parameters or sequences
with larger dimensionality than anticipated.  The following
example shows the Cython code lines for the <a class="reference internal" href="modeltools.html#hydpy.core.modeltools.ELSModel.get_point_states" title="hydpy.core.modeltools.ELSModel.get_point_states"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_point_states()</span></code></a>
method of class <a class="reference internal" href="modeltools.html#hydpy.core.modeltools.ELSModel" title="hydpy.core.modeltools.ELSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ELSModel</span></code></a>, used for deriving the <a class="reference internal" href="test.html#module-hydpy.models.test" title="hydpy.models.test"><code class="xref py py-mod docutils literal notranslate"><span class="pre">test</span></code></a> model.  By
now, we did only implement 0-dimensional and 1-dimensional sequences
requiring this method.  After hackishly changing the dimensionality of
sequences <a class="reference internal" href="test.html#hydpy.models.test.test_states.S" title="hydpy.models.test.test_states.S"><code class="xref py py-class docutils literal notranslate"><span class="pre">S</span></code></a>, we still seem to get  plausible results, but
these are untested in model applications:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.models.test</span> <span class="kn">import</span> <span class="n">cythonizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span> <span class="o">=</span> <span class="n">cythonizer</span><span class="o">.</span><span class="n">pyxwriter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">get_point_states</span>
<span class="go">            . get_point_states</span>
<span class="go">    cpdef inline void get_point_states(self) nogil:</span>
<span class="go">        cdef int idx0</span>
<span class="go">        self.sequences.states.s = self.sequences.states._s_points[self.numvars.idx_stage]</span>
<span class="go">        for idx0 in range(self.sequences.states._sv_length):</span>
<span class="go">            self.sequences.states.sv[idx0] = self.sequences.states._sv_points[self.numvars.idx_stage][idx0]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">get_point_states</span>
<span class="go">            . get_point_states</span>
<span class="go">    cpdef inline void get_point_states(self) nogil:</span>
<span class="go">        cdef int idx0, idx1</span>
<span class="go">        for idx0 in range(self.sequences.states._s_length0):</span>
<span class="go">            for idx1 in range(self.sequences.states._s_length1):</span>
<span class="go">                self.sequences.states.s[idx0, idx1] = self.sequences.states._s_points[self.numvars.idx_stage][idx0, idx1]</span>
<span class="go">        for idx0 in range(self.sequences.states._sv_length):</span>
<span class="go">            self.sequences.states.sv[idx0] = self.sequences.states._sv_points[self.numvars.idx_stage][idx0]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">get_point_states</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">NotImplementedError</span>: <span class="n">NDIM of sequence `s` is higher than expected.</span>
</pre></div>
</div>
<p>The following examples show the results for some methods which are also
related to numerical integration but deal with <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.FluxSequence" title="hydpy.core.sequencetools.FluxSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">FluxSequence</span></code></a> objects.
We start with the method <a class="reference internal" href="modeltools.html#hydpy.core.modeltools.ELSModel.integrate_fluxes" title="hydpy.core.modeltools.ELSModel.integrate_fluxes"><code class="xref py py-func docutils literal notranslate"><span class="pre">integrate_fluxes()</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">integrate_fluxes</span>
<span class="go">            . integrate_fluxes</span>
<span class="go">    cpdef inline void integrate_fluxes(self) nogil:</span>
<span class="go">        cdef int jdx, idx0</span>
<span class="go">        self.sequences.fluxes.q = 0.</span>
<span class="go">        for jdx in range(self.numvars.idx_method):</span>
<span class="go">            self.sequences.fluxes.q = self.sequences.fluxes.q +self.numvars.dt * self.numconsts.a_coefs[self.numvars.idx_method-1, self.numvars.idx_stage, jdx]*self.sequences.fluxes._q_points[jdx]</span>
<span class="go">        for idx0 in range(self.sequences.fluxes._qv_length):</span>
<span class="go">            self.sequences.fluxes.qv[idx0] = 0.</span>
<span class="go">            for jdx in range(self.numvars.idx_method):</span>
<span class="go">                self.sequences.fluxes.qv[idx0] = self.sequences.fluxes.qv[idx0] + self.numvars.dt * self.numconsts.a_coefs[self.numvars.idx_method-1, self.numvars.idx_stage, jdx]*self.sequences.fluxes._qv_points[jdx, idx0]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">integrate_fluxes</span>
<span class="go">            . integrate_fluxes</span>
<span class="go">    cpdef inline void integrate_fluxes(self) nogil:</span>
<span class="go">        cdef int jdx, idx0, idx1</span>
<span class="go">        for idx0 in range(self.sequences.fluxes._q_length0):</span>
<span class="go">            for idx1 in range(self.sequences.fluxes._q_length1):</span>
<span class="go">                self.sequences.fluxes.q[idx0, idx1] = 0.</span>
<span class="go">                for jdx in range(self.numvars.idx_method):</span>
<span class="go">                    self.sequences.fluxes.q[idx0, idx1] = self.sequences.fluxes.q[idx0, idx1] + self.numvars.dt * self.numconsts.a_coefs[self.numvars.idx_method-1, self.numvars.idx_stage, jdx]*self.sequences.fluxes._q_points[jdx, idx0, idx1]</span>
<span class="go">        for idx0 in range(self.sequences.fluxes._qv_length):</span>
<span class="go">            self.sequences.fluxes.qv[idx0] = 0.</span>
<span class="go">            for jdx in range(self.numvars.idx_method):</span>
<span class="go">                self.sequences.fluxes.qv[idx0] = self.sequences.fluxes.qv[idx0] + self.numvars.dt * self.numconsts.a_coefs[self.numvars.idx_method-1, self.numvars.idx_stage, jdx]*self.sequences.fluxes._qv_points[jdx, idx0]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">integrate_fluxes</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">NotImplementedError</span>: <span class="n">NDIM of sequence `q` is higher than expected.</span>
</pre></div>
</div>
<p>Method <a class="reference internal" href="modeltools.html#hydpy.core.modeltools.ELSModel.reset_sum_fluxes" title="hydpy.core.modeltools.ELSModel.reset_sum_fluxes"><code class="xref py py-func docutils literal notranslate"><span class="pre">reset_sum_fluxes()</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">reset_sum_fluxes</span>
<span class="go">            . reset_sum_fluxes</span>
<span class="go">    cpdef inline void reset_sum_fluxes(self) nogil:</span>
<span class="go">        cdef int idx0</span>
<span class="go">        self.sequences.fluxes._q_sum = 0.</span>
<span class="go">        for idx0 in range(self.sequences.fluxes._qv_length):</span>
<span class="go">            self.sequences.fluxes._qv_sum[idx0] = 0.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">reset_sum_fluxes</span>
<span class="go">            . reset_sum_fluxes</span>
<span class="go">    cpdef inline void reset_sum_fluxes(self) nogil:</span>
<span class="go">        cdef int idx0, idx1</span>
<span class="go">        for idx0 in range(self.sequences.fluxes._q_length0):</span>
<span class="go">            for idx1 in range(self.sequences.fluxes._q_length1):</span>
<span class="go">                self.sequences.fluxes._q_sum[idx0, idx1] = 0.</span>
<span class="go">        for idx0 in range(self.sequences.fluxes._qv_length):</span>
<span class="go">            self.sequences.fluxes._qv_sum[idx0] = 0.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">reset_sum_fluxes</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">NotImplementedError</span>: <span class="n">NDIM of sequence `q` is higher than expected.</span>
</pre></div>
</div>
<p>Method <a class="reference internal" href="modeltools.html#hydpy.core.modeltools.ELSModel.addup_fluxes" title="hydpy.core.modeltools.ELSModel.addup_fluxes"><code class="xref py py-func docutils literal notranslate"><span class="pre">addup_fluxes()</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">addup_fluxes</span>
<span class="go">            . addup_fluxes</span>
<span class="go">    cpdef inline void addup_fluxes(self) nogil:</span>
<span class="go">        cdef int idx0</span>
<span class="go">        self.sequences.fluxes._q_sum = self.sequences.fluxes._q_sum + self.sequences.fluxes.q</span>
<span class="go">        for idx0 in range(self.sequences.fluxes._qv_length):</span>
<span class="go">            self.sequences.fluxes._qv_sum[idx0] = self.sequences.fluxes._qv_sum[idx0] + self.sequences.fluxes.qv[idx0]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">addup_fluxes</span>
<span class="go">            . addup_fluxes</span>
<span class="go">    cpdef inline void addup_fluxes(self) nogil:</span>
<span class="go">        cdef int idx0, idx1</span>
<span class="go">        for idx0 in range(self.sequences.fluxes._q_length0):</span>
<span class="go">            for idx1 in range(self.sequences.fluxes._q_length1):</span>
<span class="go">                self.sequences.fluxes._q_sum[idx0, idx1] = self.sequences.fluxes._q_sum[idx0, idx1] + self.sequences.fluxes.q[idx0, idx1]</span>
<span class="go">        for idx0 in range(self.sequences.fluxes._qv_length):</span>
<span class="go">            self.sequences.fluxes._qv_sum[idx0] = self.sequences.fluxes._qv_sum[idx0] + self.sequences.fluxes.qv[idx0]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">addup_fluxes</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">NotImplementedError</span>: <span class="n">NDIM of sequence `q` is higher than expected.</span>
</pre></div>
</div>
<p>Method <a class="reference internal" href="modeltools.html#hydpy.core.modeltools.ELSModel.calculate_error" title="hydpy.core.modeltools.ELSModel.calculate_error"><code class="xref py py-func docutils literal notranslate"><span class="pre">calculate_error()</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">calculate_error</span>
<span class="go">            . calculate_error</span>
<span class="go">    cpdef inline void calculate_error(self) nogil:</span>
<span class="go">        cdef int idx0</span>
<span class="go">        cdef double abserror</span>
<span class="go">        self.numvars.abserror = 0.</span>
<span class="go">        if self.numvars.use_relerror:</span>
<span class="go">            self.numvars.relerror = 0.</span>
<span class="go">        else:</span>
<span class="go">            self.numvars.relerror = inf</span>
<span class="go">        abserror = fabs(self.sequences.fluxes._q_results[self.numvars.idx_method]-self.sequences.fluxes._q_results[self.numvars.idx_method-1])</span>
<span class="go">        self.numvars.abserror = max(self.numvars.abserror, abserror)</span>
<span class="go">        if self.numvars.use_relerror:</span>
<span class="go">            if self.sequences.fluxes._q_results[self.numvars.idx_method] == 0.:</span>
<span class="go">                self.numvars.relerror = inf</span>
<span class="go">            else:</span>
<span class="go">                self.numvars.relerror = max(self.numvars.relerror, fabs(abserror/self.sequences.fluxes._q_results[self.numvars.idx_method]))</span>
<span class="go">        for idx0 in range(self.sequences.fluxes._qv_length):</span>
<span class="go">            abserror = fabs(self.sequences.fluxes._qv_results[self.numvars.idx_method, idx0]-self.sequences.fluxes._qv_results[self.numvars.idx_method-1, idx0])</span>
<span class="go">            self.numvars.abserror = max(self.numvars.abserror, abserror)</span>
<span class="go">            if self.numvars.use_relerror:</span>
<span class="go">                if self.sequences.fluxes._qv_results[self.numvars.idx_method, idx0] == 0.:</span>
<span class="go">                    self.numvars.relerror = inf</span>
<span class="go">                else:</span>
<span class="go">                    self.numvars.relerror = max(self.numvars.relerror, fabs(abserror/self.sequences.fluxes._qv_results[self.numvars.idx_method, idx0]))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">calculate_error</span>
<span class="go">            . calculate_error</span>
<span class="go">    cpdef inline void calculate_error(self) nogil:</span>
<span class="go">        cdef int idx0, idx1</span>
<span class="go">        cdef double abserror</span>
<span class="go">        self.numvars.abserror = 0.</span>
<span class="go">        if self.numvars.use_relerror:</span>
<span class="go">            self.numvars.relerror = 0.</span>
<span class="go">        else:</span>
<span class="go">            self.numvars.relerror = inf</span>
<span class="go">        for idx0 in range(self.sequences.fluxes._q_length0):</span>
<span class="go">            for idx1 in range(self.sequences.fluxes._q_length1):</span>
<span class="go">                abserror = fabs(self.sequences.fluxes._q_results[self.numvars.idx_method, idx0, idx1]-self.sequences.fluxes._q_results[self.numvars.idx_method-1, idx0, idx1])</span>
<span class="go">                self.numvars.abserror = max(self.numvars.abserror, abserror)</span>
<span class="go">                if self.numvars.use_relerror:</span>
<span class="go">                    if self.sequences.fluxes._q_results[self.numvars.idx_method, idx0, idx1] == 0.:</span>
<span class="go">                        self.numvars.relerror = inf</span>
<span class="go">                    else:</span>
<span class="go">                        self.numvars.relerror = max(self.numvars.relerror, fabs(abserror/self.sequences.fluxes._q_results[self.numvars.idx_method, idx0, idx1]))</span>
<span class="go">        for idx0 in range(self.sequences.fluxes._qv_length):</span>
<span class="go">            abserror = fabs(self.sequences.fluxes._qv_results[self.numvars.idx_method, idx0]-self.sequences.fluxes._qv_results[self.numvars.idx_method-1, idx0])</span>
<span class="go">            self.numvars.abserror = max(self.numvars.abserror, abserror)</span>
<span class="go">            if self.numvars.use_relerror:</span>
<span class="go">                if self.sequences.fluxes._qv_results[self.numvars.idx_method, idx0] == 0.:</span>
<span class="go">                    self.numvars.relerror = inf</span>
<span class="go">                else:</span>
<span class="go">                    self.numvars.relerror = max(self.numvars.relerror, fabs(abserror/self.sequences.fluxes._qv_results[self.numvars.idx_method, idx0]))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">calculate_error</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">NotImplementedError</span>: <span class="n">NDIM of sequence `q` is higher than expected.</span>
</pre></div>
</div>
<p>Module <a class="reference internal" href="#module-hydpy.cythons.modelutils" title="hydpy.cythons.modelutils"><code class="xref py py-mod docutils literal notranslate"><span class="pre">modelutils</span></code></a> implements the following members:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#hydpy.cythons.modelutils.get_dllextension" title="hydpy.cythons.modelutils.get_dllextension"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_dllextension()</span></code></a> Return the DLL file extension for the current operating system.</p></li>
<li><p><a class="reference internal" href="#hydpy.cythons.modelutils.Lines" title="hydpy.cythons.modelutils.Lines"><code class="xref py py-class docutils literal notranslate"><span class="pre">Lines</span></code></a> Handles code lines for <cite>.pyx</cite> file.</p></li>
<li><p><a class="reference internal" href="#hydpy.cythons.modelutils.get_methodheader" title="hydpy.cythons.modelutils.get_methodheader"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_methodheader()</span></code></a> Returns the Cython method header for methods without arguments except <cite>self</cite>.</p></li>
<li><p><a class="reference internal" href="#hydpy.cythons.modelutils.decorate_method" title="hydpy.cythons.modelutils.decorate_method"><code class="xref py py-func docutils literal notranslate"><span class="pre">decorate_method()</span></code></a> The decorated method returns a <a class="reference internal" href="#hydpy.cythons.modelutils.Lines" title="hydpy.cythons.modelutils.Lines"><code class="xref py py-class docutils literal notranslate"><span class="pre">Lines</span></code></a> object including a method header. However, the <a class="reference internal" href="#hydpy.cythons.modelutils.Lines" title="hydpy.cythons.modelutils.Lines"><code class="xref py py-class docutils literal notranslate"><span class="pre">Lines</span></code></a> object is empty if the respective model does not implement a method with the same name as the wrapped method.</p></li>
<li><p><a class="reference internal" href="#hydpy.cythons.modelutils.Cythonizer" title="hydpy.cythons.modelutils.Cythonizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cythonizer</span></code></a> Handles the writing, compiling and initialisation of Cython models.</p></li>
<li><p><a class="reference internal" href="#hydpy.cythons.modelutils.PyxWriter" title="hydpy.cythons.modelutils.PyxWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">PyxWriter</span></code></a> Translates the source code of Python models into Cython source code.</p></li>
<li><p><a class="reference internal" href="#hydpy.cythons.modelutils.FuncConverter" title="hydpy.cythons.modelutils.FuncConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncConverter</span></code></a> Helper class for class <a class="reference internal" href="#hydpy.cythons.modelutils.PyxWriter" title="hydpy.cythons.modelutils.PyxWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">PyxWriter</span></code></a> that analyses Python functions and provides the required Cython code via property <a class="reference internal" href="#hydpy.cythons.modelutils.FuncConverter.pyxlines" title="hydpy.cythons.modelutils.FuncConverter.pyxlines"><code class="xref py py-const docutils literal notranslate"><span class="pre">pyxlines</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#hydpy.cythons.modelutils.exp" title="hydpy.cythons.modelutils.exp"><code class="xref py py-func docutils literal notranslate"><span class="pre">exp()</span></code></a> Cython wrapper for the <code class="xref py py-func docutils literal notranslate"><span class="pre">exp()</span></code> function of module <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.20)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> applied on a single <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> object.</p></li>
<li><p><a class="reference internal" href="#hydpy.cythons.modelutils.log" title="hydpy.cythons.modelutils.log"><code class="xref py py-func docutils literal notranslate"><span class="pre">log()</span></code></a> Cython wrapper for the <code class="xref py py-func docutils literal notranslate"><span class="pre">log()</span></code> function of module <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.20)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> applied on a single <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> object.</p></li>
<li><p><a class="reference internal" href="#hydpy.cythons.modelutils.fabs" title="hydpy.cythons.modelutils.fabs"><code class="xref py py-func docutils literal notranslate"><span class="pre">fabs()</span></code></a> Cython wrapper for the <a class="reference external" href="https://docs.python.org/3/library/math.html#math.exp" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">exp()</span></code></a> function of module <a class="reference external" href="https://docs.python.org/3/library/math.html#module-math" title="(in Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code></a> applied on a single <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> object.</p></li>
<li><p><a class="reference internal" href="#hydpy.cythons.modelutils.sin" title="hydpy.cythons.modelutils.sin"><code class="xref py py-func docutils literal notranslate"><span class="pre">sin()</span></code></a> Cython wrapper for the <code class="xref py py-func docutils literal notranslate"><span class="pre">sin()</span></code> function of module <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.20)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> applied on a single <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> object.</p></li>
<li><p><a class="reference internal" href="#hydpy.cythons.modelutils.cos" title="hydpy.cythons.modelutils.cos"><code class="xref py py-func docutils literal notranslate"><span class="pre">cos()</span></code></a> Cython wrapper for the <code class="xref py py-func docutils literal notranslate"><span class="pre">cos()</span></code> function of module <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.20)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> applied on a single <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> object.</p></li>
<li><p><a class="reference internal" href="#hydpy.cythons.modelutils.tan" title="hydpy.cythons.modelutils.tan"><code class="xref py py-func docutils literal notranslate"><span class="pre">tan()</span></code></a> Cython wrapper for the <code class="xref py py-func docutils literal notranslate"><span class="pre">tan()</span></code> function of module <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.20)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> applied on a single <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> object.</p></li>
<li><p><a class="reference internal" href="#hydpy.cythons.modelutils.asin" title="hydpy.cythons.modelutils.asin"><code class="xref py py-func docutils literal notranslate"><span class="pre">asin()</span></code></a> Cython wrapper for the <code class="xref py py-func docutils literal notranslate"><span class="pre">arcsin()</span></code> function of module <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.20)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> applied on a single <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> object.</p></li>
<li><p><a class="reference internal" href="#hydpy.cythons.modelutils.acos" title="hydpy.cythons.modelutils.acos"><code class="xref py py-func docutils literal notranslate"><span class="pre">acos()</span></code></a> Cython wrapper for the <code class="xref py py-func docutils literal notranslate"><span class="pre">arccos()</span></code> function of module <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.20)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> applied on a single <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> object.</p></li>
<li><p><a class="reference internal" href="#hydpy.cythons.modelutils.atan" title="hydpy.cythons.modelutils.atan"><code class="xref py py-func docutils literal notranslate"><span class="pre">atan()</span></code></a> Cython wrapper for the <code class="xref py py-func docutils literal notranslate"><span class="pre">arctan()</span></code> function of module <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.20)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> applied on a single <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> object.</p></li>
<li><p><a class="reference internal" href="#hydpy.cythons.modelutils.isnan" title="hydpy.cythons.modelutils.isnan"><code class="xref py py-func docutils literal notranslate"><span class="pre">isnan()</span></code></a> Cython wrapper for the <code class="xref py py-func docutils literal notranslate"><span class="pre">isnan()</span></code> function of module <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.20)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> applied on a single <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> object.</p></li>
<li><p><a class="reference internal" href="#hydpy.cythons.modelutils.isinf" title="hydpy.cythons.modelutils.isinf"><code class="xref py py-func docutils literal notranslate"><span class="pre">isinf()</span></code></a> Cython wrapper for the <code class="xref py py-func docutils literal notranslate"><span class="pre">isinf()</span></code> function of module <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.20)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> applied on a single <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> object.</p></li>
</ul>
</div></blockquote>
<hr class="docutils" />
<dl class="py function">
<dt id="hydpy.cythons.modelutils.get_dllextension">
<code class="sig-prename descclassname"><span class="pre">hydpy.cythons.modelutils.</span></code><code class="sig-name descname"><span class="pre">get_dllextension</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#get_dllextension"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.get_dllextension" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the DLL file extension for the current operating system.</p>
<p>The returned value depends on the response of function <a class="reference external" href="https://docs.python.org/3/library/platform.html#platform.system" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">system()</span></code></a>
of module <a class="reference external" href="https://docs.python.org/3/library/platform.html#module-platform" title="(in Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">platform</span></code></a>.  <a class="reference internal" href="#hydpy.cythons.modelutils.get_dllextension" title="hydpy.cythons.modelutils.get_dllextension"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_dllextension()</span></code></a> returns <cite>.pyd</cite> if
<a class="reference external" href="https://docs.python.org/3/library/platform.html#platform.system" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">system()</span></code></a> returns the string “windows” and <cite>.so</cite> for
all other strings:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">get_dllextension</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">platform</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">mock</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">object</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">platform</span><span class="p">,</span> <span class="s2">&quot;system&quot;</span><span class="p">,</span> <span class="n">side_effect</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="s2">&quot;Windows&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">mocked</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">get_dllextension</span><span class="p">()</span>
<span class="go">&#39;.pyd&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">object</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">platform</span><span class="p">,</span> <span class="s2">&quot;system&quot;</span><span class="p">,</span> <span class="n">side_effect</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="s2">&quot;Linux&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">mocked</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">get_dllextension</span><span class="p">()</span>
<span class="go">&#39;.so&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py data">
<dt id="hydpy.cythons.modelutils.TYPE2STR">
<code class="sig-prename descclassname"><span class="pre">hydpy.cythons.modelutils.</span></code><code class="sig-name descname"><span class="pre">TYPE2STR</span></code><em class="property"><span class="pre">:</span> <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">=</span> <span class="pre">{&lt;class</span> <span class="pre">'bool'&gt;:</span> <span class="pre">'bint',</span> <span class="pre">&lt;class</span> <span class="pre">'int'&gt;:</span> <span class="pre">'numpy.int64_t',</span> <span class="pre">&lt;class</span> <span class="pre">'hydpy.core.parametertools.IntConstant'&gt;:</span> <span class="pre">'numpy.int64_t',</span> <span class="pre">&lt;class</span> <span class="pre">'float'&gt;:</span> <span class="pre">'double',</span> <span class="pre">&lt;class</span> <span class="pre">'str'&gt;:</span> <span class="pre">'str',</span> <span class="pre">None:</span> <span class="pre">'void',</span> <span class="pre">&lt;class</span> <span class="pre">'hydpy.core.typingtools.Vector'&gt;:</span> <span class="pre">'double[:]',</span> <span class="pre">hydpy.core.typingtools.Vector[float]:</span> <span class="pre">'double[:]'}</span></em><a class="headerlink" href="#hydpy.cythons.modelutils.TYPE2STR" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps Python types to Cython compatible type declarations.</p>
<p>The Cython type belonging to Python’s <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> is selected to agree
with numpy’s default integer type on the current platform/system.</p>
</dd></dl>

<dl class="py data">
<dt id="hydpy.cythons.modelutils.CHECKABLE_TYPES">
<code class="sig-prename descclassname"><span class="pre">hydpy.cythons.modelutils.</span></code><code class="sig-name descname"><span class="pre">CHECKABLE_TYPES</span></code><em class="property"><span class="pre">:</span> <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="p"><span class="pre">…</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">=</span> <span class="pre">(&lt;class</span> <span class="pre">'bool'&gt;,</span> <span class="pre">&lt;class</span> <span class="pre">'int'&gt;,</span> <span class="pre">&lt;class</span> <span class="pre">'hydpy.core.parametertools.IntConstant'&gt;,</span> <span class="pre">&lt;class</span> <span class="pre">'float'&gt;,</span> <span class="pre">&lt;class</span> <span class="pre">'str'&gt;,</span> <span class="pre">&lt;class</span> <span class="pre">'hydpy.core.typingtools.Vector'&gt;)</span></em><a class="headerlink" href="#hydpy.cythons.modelutils.CHECKABLE_TYPES" title="Permalink to this definition">¶</a></dt>
<dd><p>“Real types” of <a class="reference internal" href="#hydpy.cythons.modelutils.TYPE2STR" title="hydpy.cythons.modelutils.TYPE2STR"><code class="xref py py-const docutils literal notranslate"><span class="pre">TYPE2STR</span></code></a> allowed as second arguments of function <a class="reference external" href="https://docs.python.org/3/library/functions.html#isinstance" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">isinstance()</span></code></a>.</p>
</dd></dl>

<dl class="py class">
<dt id="hydpy.cythons.modelutils.Lines">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">hydpy.cythons.modelutils.</span></code><code class="sig-name descname"><span class="pre">Lines</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#Lines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.Lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a></p>
<p>Handles code lines for <cite>.pyx</cite> file.</p>
<dl class="py method">
<dt id="hydpy.cythons.modelutils.Lines.add">
<code class="sig-name descname"><span class="pre">add</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">line</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><span class="pre">None</span></a><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#Lines.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.Lines.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given text line with prefixed spaces following
the given number of indentation levels.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="hydpy.cythons.modelutils.get_methodheader">
<code class="sig-prename descclassname"><span class="pre">hydpy.cythons.modelutils.</span></code><code class="sig-name descname"><span class="pre">get_methodheader</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">methodname</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">nogil</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idxarg</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#get_methodheader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.get_methodheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Cython method header for methods without arguments except
<cite>self</cite>.</p>
<p>Note the influence of the configuration flag <cite>FASTCYTHON</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">get_methodheader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">config</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span><span class="o">.</span><span class="n">FASTCYTHON</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">get_methodheader</span><span class="p">(</span><span class="n">methodname</span><span class="o">=</span><span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="n">nogil</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">idxarg</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="go">cpdef inline void test(self):</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span><span class="o">.</span><span class="n">FASTCYTHON</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">get_methodheader</span><span class="p">(</span><span class="n">methodname</span><span class="o">=</span><span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="n">nogil</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">idxarg</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">cpdef inline void test(self, int idx) nogil:</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="hydpy.cythons.modelutils.decorate_method">
<code class="sig-prename descclassname"><span class="pre">hydpy.cythons.modelutils.</span></code><code class="sig-name descname"><span class="pre">decorate_method</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wrapped</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#property" title="(in Python v3.9)"><span class="pre">property</span></a><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#decorate_method"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.decorate_method" title="Permalink to this definition">¶</a></dt>
<dd><p>The decorated method returns a <a class="reference internal" href="#hydpy.cythons.modelutils.Lines" title="hydpy.cythons.modelutils.Lines"><code class="xref py py-class docutils literal notranslate"><span class="pre">Lines</span></code></a> object including
a method header.  However, the <a class="reference internal" href="#hydpy.cythons.modelutils.Lines" title="hydpy.cythons.modelutils.Lines"><code class="xref py py-class docutils literal notranslate"><span class="pre">Lines</span></code></a> object is empty if
the respective model does not implement a method with the
same name as the wrapped method.</p>
</dd></dl>

<dl class="py class">
<dt id="hydpy.cythons.modelutils.Cythonizer">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">hydpy.cythons.modelutils.</span></code><code class="sig-name descname"><span class="pre">Cythonizer</span></code><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#Cythonizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.Cythonizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Handles the writing, compiling and initialisation of Cython models.</p>
<dl class="py attribute">
<dt id="hydpy.cythons.modelutils.Cythonizer.Model">
<code class="sig-name descname"><span class="pre">Model</span></code><em class="property"><span class="pre">:</span> <span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="modeltools.html#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><span class="pre">hydpy.core.modeltools.Model</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.cythons.modelutils.Cythonizer.Model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="hydpy.cythons.modelutils.Cythonizer.Parameters">
<code class="sig-name descname"><span class="pre">Parameters</span></code><em class="property"><span class="pre">:</span> <span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="parametertools.html#hydpy.core.parametertools.Parameters" title="hydpy.core.parametertools.Parameters"><span class="pre">hydpy.core.parametertools.Parameters</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.cythons.modelutils.Cythonizer.Parameters" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="hydpy.cythons.modelutils.Cythonizer.Sequences">
<code class="sig-name descname"><span class="pre">Sequences</span></code><em class="property"><span class="pre">:</span> <span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sequences" title="hydpy.core.sequencetools.Sequences"><span class="pre">hydpy.core.sequencetools.Sequences</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.cythons.modelutils.Cythonizer.Sequences" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="hydpy.cythons.modelutils.Cythonizer.tester">
<code class="sig-name descname"><span class="pre">tester</span></code><em class="property"><span class="pre">:</span> <a class="reference internal" href="testtools.html#hydpy.core.testtools.Tester" title="hydpy.core.testtools.Tester"><span class="pre">hydpy.core.testtools.Tester</span></a></em><a class="headerlink" href="#hydpy.cythons.modelutils.Cythonizer.tester" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.Cythonizer.finalise">
<code class="sig-name descname"><span class="pre">finalise</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><span class="pre">None</span></a><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#Cythonizer.finalise"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.Cythonizer.finalise" title="Permalink to this definition">¶</a></dt>
<dd><p>Test and cythonize the relevant model eventually.</p>
<p>Method <a class="reference internal" href="#hydpy.cythons.modelutils.Cythonizer.finalise" title="hydpy.cythons.modelutils.Cythonizer.finalise"><code class="xref py py-func docutils literal notranslate"><span class="pre">finalise()</span></code></a> might call method <a class="reference internal" href="#hydpy.cythons.modelutils.Cythonizer.cythonize" title="hydpy.cythons.modelutils.Cythonizer.cythonize"><code class="xref py py-func docutils literal notranslate"><span class="pre">cythonize()</span></code></a>
and method <a class="reference internal" href="testtools.html#hydpy.core.testtools.Tester.perform_tests" title="hydpy.core.testtools.Tester.perform_tests"><code class="xref py py-func docutils literal notranslate"><span class="pre">perform_tests()</span></code></a> depending on the actual values
of the options <a class="reference internal" href="optiontools.html#hydpy.core.optiontools.Options.autocompile" title="hydpy.core.optiontools.Options.autocompile"><code class="xref py py-const docutils literal notranslate"><span class="pre">autocompile</span></code></a>, <a class="reference internal" href="optiontools.html#hydpy.core.optiontools.Options.usecython" title="hydpy.core.optiontools.Options.usecython"><code class="xref py py-const docutils literal notranslate"><span class="pre">usecython</span></code></a>, and
<a class="reference internal" href="optiontools.html#hydpy.core.optiontools.Options.skipdoctests" title="hydpy.core.optiontools.Options.skipdoctests"><code class="xref py py-const docutils literal notranslate"><span class="pre">skipdoctests</span></code></a> as well the value currently returned
by property <a class="reference internal" href="#hydpy.cythons.modelutils.Cythonizer.outdated" title="hydpy.cythons.modelutils.Cythonizer.outdated"><code class="xref py py-const docutils literal notranslate"><span class="pre">outdated</span></code></a>.  To explain and test the
considerable amount of relevant combinations, we make use of Python’s
<a class="reference external" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="(in Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a> <cite>mock</cite> library.</p>
<p>First, we import the <a class="reference internal" href="#hydpy.cythons.modelutils.Cythonizer" title="hydpy.cythons.modelutils.Cythonizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cythonizer</span></code></a> instance responsible for
application model <a class="reference internal" href="hland_v1.html#module-hydpy.models.hland_v1" title="hydpy.models.hland_v1"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hland_v1</span></code></a>, the classes <a class="reference internal" href="#hydpy.cythons.modelutils.Cythonizer" title="hydpy.cythons.modelutils.Cythonizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cythonizer</span></code></a> and
<a class="reference internal" href="testtools.html#hydpy.core.testtools.Tester" title="hydpy.core.testtools.Tester"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tester</span></code></a>, module <code class="xref py py-mod docutils literal notranslate"><span class="pre">pub</span></code>, and the <a class="reference external" href="https://docs.python.org/3/library/unittest.html#module-unittest" title="(in Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a> <cite>mock</cite> library:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.models.hland_v1</span> <span class="kn">import</span> <span class="n">cythonizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">Cythonizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.core.testtools</span> <span class="kn">import</span> <span class="n">Tester</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">mock</span>
</pre></div>
</div>
<p>Second, we memorise the relevant settings to restore them later:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">autocompile</span> <span class="o">=</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">autocompile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">skipdoctests</span> <span class="o">=</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">skipdoctests</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">usecython</span> <span class="o">=</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outdated</span> <span class="o">=</span> <span class="n">Cythonizer</span><span class="o">.</span><span class="n">outdated</span>
</pre></div>
</div>
<p>Third, we define a test function mocking methods
<a class="reference internal" href="#hydpy.cythons.modelutils.Cythonizer.cythonize" title="hydpy.cythons.modelutils.Cythonizer.cythonize"><code class="xref py py-func docutils literal notranslate"><span class="pre">cythonize()</span></code></a> and <a class="reference internal" href="testtools.html#hydpy.core.testtools.Tester.perform_tests" title="hydpy.core.testtools.Tester.perform_tests"><code class="xref py py-func docutils literal notranslate"><span class="pre">perform_tests()</span></code></a>, printing
when the mocks are called and providing information on the
current value of option <a class="reference internal" href="optiontools.html#hydpy.core.optiontools.Options.usecython" title="hydpy.core.optiontools.Options.usecython"><code class="xref py py-const docutils literal notranslate"><span class="pre">usecython</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">test</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">sc</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span>
<span class="gp">... </span>        <span class="sa">f</span><span class="s2">&quot;calling method `cythonize` &quot;</span>
<span class="gp">... </span>        <span class="sa">f</span><span class="s2">&quot;(usecython=</span><span class="si">{</span><span class="nb">bool</span><span class="p">(</span><span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">se</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span>
<span class="gp">... </span>        <span class="sa">f</span><span class="s2">&quot;calling method `perform_tests` &quot;</span>
<span class="gp">... </span>        <span class="sa">f</span><span class="s2">&quot;(usecython=</span><span class="si">{</span><span class="nb">bool</span><span class="p">(</span><span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">object</span><span class="p">(</span>
<span class="gp">... </span>                <span class="n">Cythonizer</span><span class="p">,</span> <span class="s2">&quot;cythonize&quot;</span><span class="p">,</span> <span class="n">side_effect</span><span class="o">=</span><span class="n">sc</span><span class="p">)</span> <span class="k">as</span> <span class="n">mc</span><span class="p">,</span>\
<span class="gp">... </span>            <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">object</span><span class="p">(</span>
<span class="gp">... </span>                <span class="n">Tester</span><span class="p">,</span> <span class="s2">&quot;perform_tests&quot;</span><span class="p">,</span> <span class="n">side_effect</span><span class="o">=</span><span class="n">se</span><span class="p">)</span> <span class="k">as</span> <span class="n">mt</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">cythonizer</span><span class="o">.</span><span class="n">finalise</span><span class="p">()</span>
</pre></div>
</div>
<p>With either option <a class="reference internal" href="optiontools.html#hydpy.core.optiontools.Options.autocompile" title="hydpy.core.optiontools.Options.autocompile"><code class="xref py py-const docutils literal notranslate"><span class="pre">autocompile</span></code></a> or property
<a class="reference internal" href="#hydpy.cythons.modelutils.Cythonizer.outdated" title="hydpy.cythons.modelutils.Cythonizer.outdated"><code class="xref py py-const docutils literal notranslate"><span class="pre">outdated</span></code></a> being <code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code>, nothing happens:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">autocompile</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Cythonizer</span><span class="o">.</span><span class="n">outdated</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">autocompile</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Cythonizer</span><span class="o">.</span><span class="n">outdated</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">()</span>
</pre></div>
</div>
<p>Option <a class="reference internal" href="optiontools.html#hydpy.core.optiontools.Options.usecython" title="hydpy.core.optiontools.Options.usecython"><code class="xref py py-const docutils literal notranslate"><span class="pre">usecython</span></code></a> enables/disables the actual cythonization
and option <a class="reference internal" href="optiontools.html#hydpy.core.optiontools.Options.skipdoctests" title="hydpy.core.optiontools.Options.skipdoctests"><code class="xref py py-const docutils literal notranslate"><span class="pre">skipdoctests</span></code></a> enables/disables the testing
of the Python model and, if available, of the Cython model:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Cythonizer</span><span class="o">.</span><span class="n">outdated</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">skipdoctests</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">skipdoctests</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">()</span>
<span class="go">calling method `perform_tests` (usecython=False)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">skipdoctests</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">()</span>
<span class="go">calling method `cythonize` (usecython=True)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">skipdoctests</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">()</span>
<span class="go">calling method `perform_tests` (usecython=False)</span>
<span class="go">calling method `cythonize` (usecython=False)</span>
<span class="go">calling method `perform_tests` (usecython=True)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">autocompile</span> <span class="o">=</span> <span class="n">autocompile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Cythonizer</span><span class="o">.</span><span class="n">outdated</span> <span class="o">=</span> <span class="n">outdated</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">skipdoctests</span> <span class="o">=</span> <span class="n">skipdoctests</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.Cythonizer.cythonize">
<code class="sig-name descname"><span class="pre">cythonize</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><span class="pre">None</span></a><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#Cythonizer.cythonize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.Cythonizer.cythonize" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate Python source code of the relevant model first into
Cython and then into C, compile it, and move the resulting dll
file to the <cite>autogen</cite> subfolder of subpackage <cite>cythons</cite>.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.Cythonizer.pyname">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">pyname</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.Cythonizer.pyname" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the original Python module or package.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.models.hland</span> <span class="kn">import</span> <span class="n">cythonizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cythonizer</span><span class="o">.</span><span class="n">pyname</span>
<span class="go">&#39;hland&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.models.hland_v1</span> <span class="kn">import</span> <span class="n">cythonizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cythonizer</span><span class="o">.</span><span class="n">pyname</span>
<span class="go">&#39;hland_v1&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.Cythonizer.cyname">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">cyname</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.Cythonizer.cyname" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the compiled module.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.models.hland</span> <span class="kn">import</span> <span class="n">cythonizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cythonizer</span><span class="o">.</span><span class="n">cyname</span>
<span class="go">&#39;c_hland&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.models.hland_v1</span> <span class="kn">import</span> <span class="n">cythonizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cythonizer</span><span class="o">.</span><span class="n">cyname</span>
<span class="go">&#39;c_hland_v1&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.Cythonizer.cydirpath">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">cydirpath</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.Cythonizer.cydirpath" title="Permalink to this definition">¶</a></dt>
<dd><p>The absolute path of the directory containing the compiled modules.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.models.hland</span> <span class="kn">import</span> <span class="n">cythonizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">repr_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repr_</span><span class="p">(</span><span class="n">cythonizer</span><span class="o">.</span><span class="n">cydirpath</span><span class="p">)</span>   
<span class="go">&#39;.../hydpy/cythons/autogen&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">cythonizer</span><span class="o">.</span><span class="n">cydirpath</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.Cythonizer.cymodule">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">cymodule</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.Cythonizer.cymodule" title="Permalink to this definition">¶</a></dt>
<dd><p>The compiled module.</p>
<p>Property <a class="reference internal" href="#hydpy.cythons.modelutils.Cythonizer.cymodule" title="hydpy.cythons.modelutils.Cythonizer.cymodule"><code class="xref py py-const docutils literal notranslate"><span class="pre">cymodule</span></code></a> returns the relevant DLL module:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.models.hland_v1</span> <span class="kn">import</span> <span class="n">cythonizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.autogen</span> <span class="kn">import</span> <span class="n">c_hland_v1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c_hland_v1</span> <span class="ow">is</span> <span class="n">cythonizer</span><span class="o">.</span><span class="n">cymodule</span>
<span class="go">True</span>
</pre></div>
</div>
<p>However, if this module is missing for some reasons, it tries to
create the module first and returns it afterwards.  For demonstration
purposes, we define a wrong <a class="reference internal" href="#hydpy.cythons.modelutils.Cythonizer.cyname" title="hydpy.cythons.modelutils.Cythonizer.cyname"><code class="xref py py-const docutils literal notranslate"><span class="pre">cyname</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">Cythonizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cyname</span> <span class="o">=</span> <span class="n">Cythonizer</span><span class="o">.</span><span class="n">cyname</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Cythonizer</span><span class="o">.</span><span class="n">cyname</span> <span class="o">=</span> <span class="s2">&quot;wrong&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cythonizer</span><span class="o">.</span><span class="n">_cymodule</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">mock</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">object</span><span class="p">(</span><span class="n">Cythonizer</span><span class="p">,</span> <span class="s2">&quot;cythonize&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">mock</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">cythonizer</span><span class="o">.</span><span class="n">cymodule</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ModuleNotFoundError</span>: <span class="n">No module named &#39;hydpy.cythons.autogen.wrong&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mock</span><span class="o">.</span><span class="n">call_args_list</span>
<span class="go">[call()]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Cythonizer</span><span class="o">.</span><span class="n">cyname</span> <span class="o">=</span> <span class="n">cyname</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.Cythonizer.pyxfilepath">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">pyxfilepath</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.Cythonizer.pyxfilepath" title="Permalink to this definition">¶</a></dt>
<dd><p>The absolute path of the compiled module.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.models.hland_v1</span> <span class="kn">import</span> <span class="n">cythonizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">repr_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repr_</span><span class="p">(</span><span class="n">cythonizer</span><span class="o">.</span><span class="n">pyxfilepath</span><span class="p">)</span>   
<span class="go">&#39;.../hydpy/cythons/autogen/c_hland_v1.pyx&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">cythonizer</span><span class="o">.</span><span class="n">pyxfilepath</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.Cythonizer.dllfilepath">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">dllfilepath</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.Cythonizer.dllfilepath" title="Permalink to this definition">¶</a></dt>
<dd><p>The absolute path of the compiled module.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.models.hland_v1</span> <span class="kn">import</span> <span class="n">cythonizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">repr_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repr_</span><span class="p">(</span><span class="n">cythonizer</span><span class="o">.</span><span class="n">dllfilepath</span><span class="p">)</span>   
<span class="go">&#39;.../hydpy/cythons/autogen/c_hland_v1...&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">cythonizer</span><span class="o">.</span><span class="n">dllfilepath</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.Cythonizer.buildpath">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">buildpath</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.Cythonizer.buildpath" title="Permalink to this definition">¶</a></dt>
<dd><p>The absolute path for temporarily build files.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.models.hland_v1</span> <span class="kn">import</span> <span class="n">cythonizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">repr_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repr_</span><span class="p">(</span><span class="n">cythonizer</span><span class="o">.</span><span class="n">buildpath</span><span class="p">)</span>   
<span class="go">&#39;.../hydpy/cythons/autogen/_build&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.Cythonizer.pyxwriter">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">pyxwriter</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.Cythonizer.pyxwriter" title="Permalink to this definition">¶</a></dt>
<dd><p>A new <a class="reference internal" href="#hydpy.cythons.modelutils.PyxWriter" title="hydpy.cythons.modelutils.PyxWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">PyxWriter</span></code></a> instance.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.models.hland_v1</span> <span class="kn">import</span> <span class="n">cythonizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span> <span class="o">=</span> <span class="n">cythonizer</span><span class="o">.</span><span class="n">pyxwriter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">classname</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">classname</span><span class="p">(</span><span class="n">pyxwriter</span><span class="p">)</span>
<span class="go">&#39;PyxWriter&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cythonizer</span><span class="o">.</span><span class="n">pyxwriter</span> <span class="ow">is</span> <span class="n">pyxwriter</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.Cythonizer.pysourcefiles">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">pysourcefiles</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.Cythonizer.pysourcefiles" title="Permalink to this definition">¶</a></dt>
<dd><p>All relevant source files of the actual model.</p>
<p>We consider source files to be relevant if they are part of the
<em>HydPy</em> package and if they define ancestors of the classes of
the considered model.</p>
<p>For the base model <a class="reference internal" href="hland.html#module-hydpy.models.hland" title="hydpy.models.hland"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hland</span></code></a>, all relevant modules seem to be covered:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.models.hland</span> <span class="kn">import</span> <span class="n">cythonizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">([</span><span class="n">fn</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">sep</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">fn</span> <span class="ow">in</span>
<span class="gp">... </span>               <span class="nb">sorted</span><span class="p">(</span><span class="n">cythonizer</span><span class="o">.</span><span class="n">pysourcefiles</span><span class="p">)])</span>
<span class="go">[&#39;masktools.py&#39;,</span>
<span class="go"> &#39;modeltools.py&#39;,</span>
<span class="go"> &#39;parametertools.py&#39;,</span>
<span class="go"> &#39;sequencetools.py&#39;,</span>
<span class="go"> &#39;testtools.py&#39;,</span>
<span class="go"> &#39;variabletools.py&#39;,</span>
<span class="go"> &#39;modelutils.py&#39;,</span>
<span class="go"> &#39;__init__.py&#39;,</span>
<span class="go"> &#39;hland_masks.py&#39;,</span>
<span class="go"> &#39;hland_model.py&#39;]</span>
</pre></div>
</div>
<p>However, this is not the case for application model <a class="reference internal" href="hland_v1.html#module-hydpy.models.hland_v1" title="hydpy.models.hland_v1"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hland_v1</span></code></a>,
where the base model files are missing.  Hence, relevant
changes in its base model might not be detected, resulting in
an outdated application model.  This issue is relevant for
developers only, but we should fix it someday:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.models.hland_v1</span> <span class="kn">import</span> <span class="n">cythonizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">([</span><span class="n">fn</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">sep</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">fn</span> <span class="ow">in</span>
<span class="gp">... </span>               <span class="nb">sorted</span><span class="p">(</span><span class="n">cythonizer</span><span class="o">.</span><span class="n">pysourcefiles</span><span class="p">)])</span>
<span class="go">[&#39;masktools.py&#39;,</span>
<span class="go"> &#39;modeltools.py&#39;,</span>
<span class="go"> &#39;parametertools.py&#39;,</span>
<span class="go"> &#39;sequencetools.py&#39;,</span>
<span class="go"> &#39;testtools.py&#39;,</span>
<span class="go"> &#39;variabletools.py&#39;,</span>
<span class="go"> &#39;modelutils.py&#39;,</span>
<span class="go"> &#39;hland_v1.py&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.Cythonizer.outdated">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">outdated</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.Cythonizer.outdated" title="Permalink to this definition">¶</a></dt>
<dd><p>True/False flag indicating whether a <a class="reference internal" href="#hydpy.cythons.modelutils.Cythonizer" title="hydpy.cythons.modelutils.Cythonizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cythonizer</span></code></a> object
should renew its Cython model or not.</p>
<p>With option <a class="reference internal" href="optiontools.html#hydpy.core.optiontools.Options.forcecompiling" title="hydpy.core.optiontools.Options.forcecompiling"><code class="xref py py-const docutils literal notranslate"><span class="pre">forcecompiling</span></code></a> being <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code>, property
<a class="reference internal" href="#hydpy.cythons.modelutils.Cythonizer.outdated" title="hydpy.cythons.modelutils.Cythonizer.outdated"><code class="xref py py-const docutils literal notranslate"><span class="pre">outdated</span></code></a> also return <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code> under all circumstances:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.models.hland_v1</span> <span class="kn">import</span> <span class="n">cythonizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">forcecompiling</span> <span class="o">=</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">forcecompiling</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">forcecompiling</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cythonizer</span><span class="o">.</span><span class="n">outdated</span>
<span class="go">True</span>
</pre></div>
</div>
<p>With option <a class="reference internal" href="optiontools.html#hydpy.core.optiontools.Options.forcecompiling" title="hydpy.core.optiontools.Options.forcecompiling"><code class="xref py py-const docutils literal notranslate"><span class="pre">forcecompiling</span></code></a> being <code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code>, property
<a class="reference internal" href="#hydpy.cythons.modelutils.Cythonizer.outdated" title="hydpy.cythons.modelutils.Cythonizer.outdated"><code class="xref py py-const docutils literal notranslate"><span class="pre">outdated</span></code></a> generally return <code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code> if <em>HydPy</em> is
a site-package (under the assumption the user does not modify
his site-package files and for reasons of efficiency due to
skipping the following tests):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">forcecompiling</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">mock</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="s2">&quot;hydpy.__path__&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;folder/somename-packages/hydpy&quot;</span><span class="p">]):</span>
<span class="gp">... </span>    <span class="n">cythonizer</span><span class="o">.</span><span class="n">outdated</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="s2">&quot;hydpy.__path__&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;folder/pkgs/hydpy&quot;</span><span class="p">]):</span>
<span class="gp">... </span>    <span class="n">cythonizer</span><span class="o">.</span><span class="n">outdated</span>
<span class="go">False</span>
</pre></div>
</div>
<p>When working with a “local” <em>HydPy</em> package (that is not part
of the site-packages directory) property <a class="reference internal" href="#hydpy.cythons.modelutils.Cythonizer.outdated" title="hydpy.cythons.modelutils.Cythonizer.outdated"><code class="xref py py-const docutils literal notranslate"><span class="pre">outdated</span></code></a>
returns <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code> if the required DLL file is not available at all:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="s2">&quot;hydpy.__path__&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;folder/local_dir/hydpy&quot;</span><span class="p">]):</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">object</span><span class="p">(</span>
<span class="gp">... </span>            <span class="nb">type</span><span class="p">(</span><span class="n">cythonizer</span><span class="p">),</span> <span class="s2">&quot;dllfilepath&quot;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">new_callable</span><span class="o">=</span><span class="n">mock</span><span class="o">.</span><span class="n">PropertyMock</span><span class="p">)</span> <span class="k">as</span> <span class="n">dllfilepath</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">dllfilepath</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="s2">&quot;missing&quot;</span>
<span class="gp">... </span>        <span class="n">cythonizer</span><span class="o">.</span><span class="n">outdated</span>
<span class="go">True</span>
</pre></div>
</div>
<p>If the DLL file is available, property <a class="reference internal" href="#hydpy.cythons.modelutils.Cythonizer.outdated" title="hydpy.cythons.modelutils.Cythonizer.outdated"><code class="xref py py-const docutils literal notranslate"><span class="pre">outdated</span></code></a>
returns <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code> or <code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code> depending on the timestamp of the
DLL file itself and the timestamp of the newest file returned
by property <a class="reference internal" href="#hydpy.cythons.modelutils.Cythonizer.pysourcefiles" title="hydpy.cythons.modelutils.Cythonizer.pysourcefiles"><code class="xref py py-const docutils literal notranslate"><span class="pre">pysourcefiles</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">TestIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;new.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">pass</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="s2">&quot;hydpy.__path__&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;folder/local_dir/hydpy&quot;</span><span class="p">]):</span>
<span class="gp">... </span>        <span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">object</span><span class="p">(</span>
<span class="gp">... </span>                <span class="nb">type</span><span class="p">(</span><span class="n">cythonizer</span><span class="p">),</span> <span class="s2">&quot;dllfilepath&quot;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">new_callable</span><span class="o">=</span><span class="n">mock</span><span class="o">.</span><span class="n">PropertyMock</span><span class="p">)</span> <span class="k">as</span> <span class="n">mocked</span><span class="p">:</span>
<span class="gp">... </span>            <span class="n">mocked</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="s2">&quot;new.txt&quot;</span>
<span class="gp">... </span>            <span class="n">cythonizer</span><span class="o">.</span><span class="n">outdated</span>
<span class="gp">... </span>        <span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">object</span><span class="p">(</span>
<span class="gp">... </span>                <span class="nb">type</span><span class="p">(</span><span class="n">cythonizer</span><span class="p">),</span> <span class="s2">&quot;pysourcefiles&quot;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">new_callable</span><span class="o">=</span><span class="n">mock</span><span class="o">.</span><span class="n">PropertyMock</span><span class="p">)</span> <span class="k">as</span> <span class="n">mocked</span><span class="p">:</span>
<span class="gp">... </span>            <span class="n">mocked</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;new.txt&quot;</span><span class="p">]</span>
<span class="gp">... </span>            <span class="n">cythonizer</span><span class="o">.</span><span class="n">outdated</span>
<span class="go">False</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">forcecompiling</span> <span class="o">=</span> <span class="n">forcecompiling</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.Cythonizer.compile_">
<code class="sig-name descname"><span class="pre">compile_</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><span class="pre">None</span></a><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#Cythonizer.compile_"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.Cythonizer.compile_" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate Cython code to C code and compile it.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.Cythonizer.move_dll">
<code class="sig-name descname"><span class="pre">move_dll</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><span class="pre">None</span></a><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#Cythonizer.move_dll"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.Cythonizer.move_dll" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to find the DLL file created my method <a class="reference internal" href="#hydpy.cythons.modelutils.Cythonizer.compile_" title="hydpy.cythons.modelutils.Cythonizer.compile_"><code class="xref py py-func docutils literal notranslate"><span class="pre">compile_()</span></code></a>
and to move it into the <cite>autogen</cite> folder of the <cite>cythons</cite> subpackage.</p>
<p>Usually, one does not need to apply the <a class="reference internal" href="#hydpy.cythons.modelutils.Cythonizer.move_dll" title="hydpy.cythons.modelutils.Cythonizer.move_dll"><code class="xref py py-func docutils literal notranslate"><span class="pre">move_dll()</span></code></a> method
directly.  However, if you are a model developer, you might
see one of the following error messages from time to time:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.models.hland_v1</span> <span class="kn">import</span> <span class="n">cythonizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cythonizer</span><span class="o">.</span><span class="n">move_dll</span><span class="p">()</span>   
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">OSError</span>: <span class="n">After trying to cythonize model `hland_v1`, the resulting file `c_hland_v1...` could not be found in directory `.../hydpy/cythons/autogen/_build` nor any of its subdirectories.  The distutil report should tell whether the file has been stored somewhere else, is named somehow else, or could not be build at all.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">mock</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">TestIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>   
<span class="gp">... </span>    <span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">object</span><span class="p">(</span>
<span class="gp">... </span>            <span class="nb">type</span><span class="p">(</span><span class="n">cythonizer</span><span class="p">),</span> <span class="s2">&quot;buildpath&quot;</span><span class="p">,</span> <span class="n">new_callable</span><span class="o">=</span><span class="n">mock</span><span class="o">.</span><span class="n">PropertyMock</span>
<span class="gp">... </span>    <span class="p">)</span> <span class="k">as</span> <span class="n">mocked_buildpath</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">mocked_buildpath</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="s2">&quot;_build&quot;</span>
<span class="gp">... </span>        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s2">&quot;_build/subdir&quot;</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">filepath</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;_build/subdir/c_hland_v1</span><span class="si">{</span><span class="n">get_dllextension</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="gp">... </span>        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">):</span>
<span class="gp">... </span>            <span class="k">pass</span>
<span class="gp">... </span>        <span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span>
<span class="gp">... </span>                <span class="s2">&quot;shutil.move&quot;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">side_effect</span><span class="o">=</span><span class="ne">PermissionError</span><span class="p">(</span><span class="s2">&quot;Denied!&quot;</span><span class="p">)):</span>
<span class="gp">... </span>            <span class="n">cythonizer</span><span class="o">.</span><span class="n">move_dll</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">PermissionError</span>: <span class="n">After trying to cythonize module `hland_v1`, when trying to move the final cython module `c_hland_v1...` from directory `_build` to directory `.../hydpy/cythons/autogen`, the following error occurred: Denied! A likely error cause is that the cython module `c_hland_v1...` does already exist in this directory and is currently blocked by another Python process.  Maybe it helps to close all Python processes and restart the cythonization afterwards.</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="hydpy.cythons.modelutils.PyxWriter">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">hydpy.cythons.modelutils.</span></code><code class="sig-name descname"><span class="pre">PyxWriter</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cythonizer</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#hydpy.cythons.modelutils.Cythonizer" title="hydpy.cythons.modelutils.Cythonizer"><span class="pre">hydpy.cythons.modelutils.Cythonizer</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="modeltools.html#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><span class="pre">hydpy.core.modeltools.Model</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">pyxpath</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#PyxWriter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Translates the source code of Python models into Cython source code.</p>
<p>Method <a class="reference internal" href="#hydpy.cythons.modelutils.PyxWriter" title="hydpy.cythons.modelutils.PyxWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">PyxWriter</span></code></a> serves as a master method, which triggers the
complete writing process.  The other properties and methods supply
the required code lines.  Their names are selected to match the
names of the original Python models as close as possible.</p>
<dl class="py attribute">
<dt id="hydpy.cythons.modelutils.PyxWriter.cythonizer">
<code class="sig-name descname"><span class="pre">cythonizer</span></code><em class="property"><span class="pre">:</span> <a class="reference internal" href="#hydpy.cythons.modelutils.Cythonizer" title="hydpy.cythons.modelutils.Cythonizer"><span class="pre">hydpy.cythons.modelutils.Cythonizer</span></a></em><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.cythonizer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="hydpy.cythons.modelutils.PyxWriter.model">
<code class="sig-name descname"><span class="pre">model</span></code><em class="property"><span class="pre">:</span> <a class="reference internal" href="modeltools.html#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><span class="pre">hydpy.core.modeltools.Model</span></a></em><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="hydpy.cythons.modelutils.PyxWriter.pyxpath">
<code class="sig-name descname"><span class="pre">pyxpath</span></code><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a></em><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.pyxpath" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.write">
<code class="sig-name descname"><span class="pre">write</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><span class="pre">None</span></a><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#PyxWriter.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect the source code and write it into a Cython extension
file (“pyx”).</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.cythondistutilsoptions">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">cythondistutilsoptions</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.cythondistutilsoptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Cython and Distutils option lines.</p>
<p>Use the configuration options “FASTCYTHON” and “PROFILECYTHON” to
configure the cythonization processes as follows:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">PyxWriter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span> <span class="o">=</span> <span class="n">PyxWriter</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">cythondistutilsoptions</span>
<span class="go">#!python</span>
<span class="go"># cython: language_level=3</span>
<span class="go"># cython: boundscheck=False</span>
<span class="go"># cython: wraparound=False</span>
<span class="go"># cython: initializedcheck=False</span>
<span class="go"># cython: cdivision=True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">config</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span><span class="o">.</span><span class="n">FASTCYTHON</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span><span class="o">.</span><span class="n">PROFILECYTHON</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">cythondistutilsoptions</span>
<span class="go">#!python</span>
<span class="go"># cython: language_level=3</span>
<span class="go"># cython: boundscheck=True</span>
<span class="go"># cython: wraparound=True</span>
<span class="go"># cython: initializedcheck=True</span>
<span class="go"># cython: cdivision=False</span>
<span class="go"># cython: linetrace=True</span>
<span class="go"># distutils: define_macros=CYTHON_TRACE=1</span>
<span class="go"># distutils: define_macros=CYTHON_TRACE_NOGIL=1</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">config</span><span class="o">.</span><span class="n">FASTCYTHON</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span><span class="o">.</span><span class="n">PROFILECYTHON</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.cimports">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">cimports</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.cimports" title="Permalink to this definition">¶</a></dt>
<dd><p>Import command lines.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.constants">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">constants</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.constants" title="Permalink to this definition">¶</a></dt>
<dd><p>Constants declaration lines.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.parameters">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">parameters</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameter declaration lines.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.sequences">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">sequences</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.sequences" title="Permalink to this definition">¶</a></dt>
<dd><p>Sequence declaration lines.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.iosequence">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">iosequence</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seq</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence" title="hydpy.core.sequencetools.IOSequence"><span class="pre">hydpy.core.sequencetools.IOSequence</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#PyxWriter.iosequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.iosequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Declaration lines for the given <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence" title="hydpy.core.sequencetools.IOSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">IOSequence</span></code></a> object.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.open_files">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">open_files</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subseqs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequences" title="hydpy.core.sequencetools.IOSequences"><span class="pre">hydpy.core.sequencetools.IOSequences</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#PyxWriter.open_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.open_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Open file statements.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.close_files">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">close_files</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subseqs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequences" title="hydpy.core.sequencetools.IOSequences"><span class="pre">hydpy.core.sequencetools.IOSequences</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#PyxWriter.close_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.close_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Close file statements.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.load_data">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">load_data</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subseqs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequences" title="hydpy.core.sequencetools.IOSequences"><span class="pre">hydpy.core.sequencetools.IOSequences</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#PyxWriter.load_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Load data statements.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.save_data">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">save_data</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subseqs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequences" title="hydpy.core.sequencetools.IOSequences"><span class="pre">hydpy.core.sequencetools.IOSequences</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#PyxWriter.save_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.save_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Save data statements.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.set_pointer">
<code class="sig-name descname"><span class="pre">set_pointer</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subseqs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.InputSequences" title="hydpy.core.sequencetools.InputSequences"><span class="pre">hydpy.core.sequencetools.InputSequences</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.OutputSequences" title="hydpy.core.sequencetools.OutputSequences"><span class="pre">hydpy.core.sequencetools.OutputSequences</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.LinkSequences" title="hydpy.core.sequencetools.LinkSequences"><span class="pre">hydpy.core.sequencetools.LinkSequences</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#PyxWriter.set_pointer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.set_pointer" title="Permalink to this definition">¶</a></dt>
<dd><p>Set pointer statements for all input, output, and link sequences.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.set_pointer0d">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">set_pointer0d</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subseqs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.LinkSequences" title="hydpy.core.sequencetools.LinkSequences"><span class="pre">hydpy.core.sequencetools.LinkSequences</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#PyxWriter.set_pointer0d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.set_pointer0d" title="Permalink to this definition">¶</a></dt>
<dd><p>Set pointer statements for 0-dimensional link sequences.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.get_value">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">get_value</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subseqs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.LinkSequences" title="hydpy.core.sequencetools.LinkSequences"><span class="pre">hydpy.core.sequencetools.LinkSequences</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#PyxWriter.get_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.get_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Get value statements for link sequences.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.set_value">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">set_value</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subseqs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.LinkSequences" title="hydpy.core.sequencetools.LinkSequences"><span class="pre">hydpy.core.sequencetools.LinkSequences</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#PyxWriter.set_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.set_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Set value statements for link sequences.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.alloc">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">alloc</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subseqs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.LinkSequences" title="hydpy.core.sequencetools.LinkSequences"><span class="pre">hydpy.core.sequencetools.LinkSequences</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#PyxWriter.alloc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.alloc" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate memory statements for 1-dimensional link sequences.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.dealloc">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">dealloc</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subseqs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.LinkSequences" title="hydpy.core.sequencetools.LinkSequences"><span class="pre">hydpy.core.sequencetools.LinkSequences</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#PyxWriter.dealloc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.dealloc" title="Permalink to this definition">¶</a></dt>
<dd><p>Deallocate memory statements for 1-dimensional link sequences.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.set_pointer1d">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">set_pointer1d</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subseqs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.LinkSequences" title="hydpy.core.sequencetools.LinkSequences"><span class="pre">hydpy.core.sequencetools.LinkSequences</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#PyxWriter.set_pointer1d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.set_pointer1d" title="Permalink to this definition">¶</a></dt>
<dd><p>Set_pointer statements for 1-dimensional link sequences.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.set_pointerinput">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">set_pointerinput</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subseqs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.InputSequences" title="hydpy.core.sequencetools.InputSequences"><span class="pre">hydpy.core.sequencetools.InputSequences</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#PyxWriter.set_pointerinput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.set_pointerinput" title="Permalink to this definition">¶</a></dt>
<dd><p>Set pointer statements for input sequences.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.set_pointeroutput">
<code class="sig-name descname"><span class="pre">set_pointeroutput</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subseqs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.OutputSequences" title="hydpy.core.sequencetools.OutputSequences"><span class="pre">hydpy.core.sequencetools.OutputSequences</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#PyxWriter.set_pointeroutput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.set_pointeroutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Set pointer statements for output sequences.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.numericalparameters">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">numericalparameters</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.numericalparameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Numeric parameter declaration lines.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.submodels">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">submodels</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.submodels" title="Permalink to this definition">¶</a></dt>
<dd><p>Submodel declaration lines.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.modeldeclarations">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">modeldeclarations</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.modeldeclarations" title="Permalink to this definition">¶</a></dt>
<dd><p>The attribute declarations of the model class.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.modelstandardfunctions">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">modelstandardfunctions</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.modelstandardfunctions" title="Permalink to this definition">¶</a></dt>
<dd><p>The standard functions of the model class.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.modelnumericfunctions">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">modelnumericfunctions</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.modelnumericfunctions" title="Permalink to this definition">¶</a></dt>
<dd><p>Numerical integration functions of the model class.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.simulate">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">simulate</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.simulate" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulation statements.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.iofunctions">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">iofunctions</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.iofunctions" title="Permalink to this definition">¶</a></dt>
<dd><p>Input/output functions of the model class.</p>
<p>The result of property <a class="reference internal" href="#hydpy.cythons.modelutils.PyxWriter.iofunctions" title="hydpy.cythons.modelutils.PyxWriter.iofunctions"><code class="xref py py-const docutils literal notranslate"><span class="pre">iofunctions</span></code></a> depends on the
availability of different types of sequences.  So far, the
models implemented in <em>HydPy</em> do not reflect all possible
combinations, which is why we modify the <a class="reference internal" href="hland_v1.html#module-hydpy.models.hland_v1" title="hydpy.models.hland_v1"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hland_v1</span></code></a> application
model in the following examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.models.hland_v1</span> <span class="kn">import</span> <span class="n">cythonizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span> <span class="o">=</span> <span class="n">cythonizer</span><span class="o">.</span><span class="n">pyxwriter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">iofunctions</span>
<span class="go">            . open_files</span>
<span class="go">            . close_files</span>
<span class="go">            . load_data</span>
<span class="go">            . save_data</span>
<span class="go">    cpdef inline void open_files(self):</span>
<span class="go">        self.sequences.inputs.open_files(self.idx_sim)</span>
<span class="go">        self.sequences.fluxes.open_files(self.idx_sim)</span>
<span class="go">        self.sequences.states.open_files(self.idx_sim)</span>
<span class="go">    cpdef inline void close_files(self):</span>
<span class="go">        self.sequences.inputs.close_files()</span>
<span class="go">        self.sequences.fluxes.close_files()</span>
<span class="go">        self.sequences.states.close_files()</span>
<span class="go">    cpdef inline void load_data(self) nogil:</span>
<span class="go">        self.sequences.inputs.load_data(self.idx_sim)</span>
<span class="go">    cpdef inline void save_data(self, int idx) nogil:</span>
<span class="go">        self.sequences.inputs.save_data(self.idx_sim)</span>
<span class="go">        self.sequences.fluxes.save_data(self.idx_sim)</span>
<span class="go">        self.sequences.states.save_data(self.idx_sim)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">iofunctions</span>
<span class="go">            . open_files</span>
<span class="go">            . close_files</span>
<span class="go">            . load_data</span>
<span class="go">            . save_data</span>
<span class="go">    cpdef inline void open_files(self):</span>
<span class="go">        self.sequences.inputs.open_files(self.idx_sim)</span>
<span class="go">    cpdef inline void close_files(self):</span>
<span class="go">        self.sequences.inputs.close_files()</span>
<span class="go">    cpdef inline void load_data(self) nogil:</span>
<span class="go">        self.sequences.inputs.load_data(self.idx_sim)</span>
<span class="go">    cpdef inline void save_data(self, int idx) nogil:</span>
<span class="go">        self.sequences.inputs.save_data(self.idx_sim)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inputs</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">iofunctions</span>

</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.new2old">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">new2old</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.new2old" title="Permalink to this definition">¶</a></dt>
<dd><p>Old states to new states statements.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.update_receivers">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">update_receivers</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.update_receivers" title="Permalink to this definition">¶</a></dt>
<dd><p>Lines of the model method with the same name.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.update_inlets">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">update_inlets</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.update_inlets" title="Permalink to this definition">¶</a></dt>
<dd><p>Lines of the model method with the same name.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.run">
<code class="sig-name descname"><span class="pre">run</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="modeltools.html#hydpy.core.modeltools.AdHocModel" title="hydpy.core.modeltools.AdHocModel"><span class="pre">hydpy.core.modeltools.AdHocModel</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#PyxWriter.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the lines of the model method with the same name.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.update_outlets">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">update_outlets</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.update_outlets" title="Permalink to this definition">¶</a></dt>
<dd><p>Lines of the model method with the same name.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.update_senders">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">update_senders</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.update_senders" title="Permalink to this definition">¶</a></dt>
<dd><p>Lines of the model method with the same name.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.update_outputs_model">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">update_outputs_model</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.update_outputs_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Lines of the model method with the same name (except the <cite>_model</cite>
suffix).</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.update_outputs">
<code class="sig-name descname"><span class="pre">update_outputs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subseqs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.OutputSequences" title="hydpy.core.sequencetools.OutputSequences"><span class="pre">hydpy.core.sequencetools.OutputSequences</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#PyxWriter.update_outputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.update_outputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Lines of the subsequences method with the same name.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.calculate_single_terms">
<code class="sig-name descname"><span class="pre">calculate_single_terms</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="modeltools.html#hydpy.core.modeltools.SolverModel" title="hydpy.core.modeltools.SolverModel"><span class="pre">hydpy.core.modeltools.SolverModel</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#PyxWriter.calculate_single_terms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.calculate_single_terms" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the lines of the model method with the same name.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.calculate_full_terms">
<code class="sig-name descname"><span class="pre">calculate_full_terms</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="modeltools.html#hydpy.core.modeltools.SolverModel" title="hydpy.core.modeltools.SolverModel"><span class="pre">hydpy.core.modeltools.SolverModel</span></a></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#PyxWriter.calculate_full_terms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.calculate_full_terms" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the lines of the model method with the same name.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.listofmodeluserfunctions">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">listofmodeluserfunctions</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.listofmodeluserfunctions" title="Permalink to this definition">¶</a></dt>
<dd><p>User functions of the model class.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.modeluserfunctions">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">modeluserfunctions</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.modeluserfunctions" title="Permalink to this definition">¶</a></dt>
<dd><p>Model-specific functions.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.solve">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">solve</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.solve" title="Permalink to this definition">¶</a></dt>
<dd><p>Lines of the model method with the same name.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.get_point_states">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">get_point_states</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.get_point_states" title="Permalink to this definition">¶</a></dt>
<dd><p>Lines of model method get_point_states.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.set_point_states">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">set_point_states</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.set_point_states" title="Permalink to this definition">¶</a></dt>
<dd><p>Lines of model method set_point_states.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.set_result_states">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">set_result_states</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.set_result_states" title="Permalink to this definition">¶</a></dt>
<dd><p>Lines of model method set_result_states.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.get_sum_fluxes">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">get_sum_fluxes</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.get_sum_fluxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Lines of model method get_sum_fluxes.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.set_point_fluxes">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">set_point_fluxes</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.set_point_fluxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Lines of model method set_point_fluxes.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.set_result_fluxes">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">set_result_fluxes</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.set_result_fluxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Lines of model method set_result_fluxes.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.integrate_fluxes">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">integrate_fluxes</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.integrate_fluxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Lines of model method integrate_fluxes.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.reset_sum_fluxes">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">reset_sum_fluxes</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.reset_sum_fluxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Lines of model method reset_sum_fluxes.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.addup_fluxes">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">addup_fluxes</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.addup_fluxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Lines of model method addup_fluxes.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.calculate_error">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">calculate_error</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.calculate_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Lines of model method calculate_error.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.extrapolate_error">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">extrapolate_error</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.extrapolate_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Extrapolate error statements.</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.PyxWriter.write_stubfile">
<code class="sig-name descname"><span class="pre">write_stubfile</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#PyxWriter.write_stubfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.PyxWriter.write_stubfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a stub file for the actual base or application model.</p>
<p>At the moment, <em>HydPy</em> creates model objects quite dynamically.
In many regards, this comes with lots of conveniences.  However,
there two critical drawbacks compared to more static approaches:
some amount of additional initialisation time and, more important,
much opaqueness for code inspection
tools.  In this context, we experiment with “stub files” at
the moment.  These could either contain typing information only
or define statically predefined model classes.  The following
example uses method <a class="reference internal" href="#hydpy.cythons.modelutils.PyxWriter.write_stubfile" title="hydpy.cythons.modelutils.PyxWriter.write_stubfile"><code class="xref py py-func docutils literal notranslate"><span class="pre">write_stubfile()</span></code></a> to write a
(far from perfect) prototype stub file for base model <a class="reference internal" href="hland.html#module-hydpy.models.hland" title="hydpy.models.hland"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hland</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.models.hland</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cythonizer</span><span class="o">.</span><span class="n">pyxwriter</span><span class="o">.</span><span class="n">write_stubfile</span><span class="p">()</span>
</pre></div>
</div>
<p>This is the path to the written file:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">hydpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">hydpy</span><span class="o">.</span><span class="n">__path__</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;hland.py&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>However, it’s just an experimental prototype, so we better remove it:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="hydpy.cythons.modelutils.FuncConverter">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">hydpy.cythons.modelutils.</span></code><code class="sig-name descname"><span class="pre">FuncConverter</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="modeltools.html#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><span class="pre">hydpy.core.modeltools.Model</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcname</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#FuncConverter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.FuncConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Helper class for class <a class="reference internal" href="#hydpy.cythons.modelutils.PyxWriter" title="hydpy.cythons.modelutils.PyxWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">PyxWriter</span></code></a> that analyses Python functions
and provides the required Cython code via property
<a class="reference internal" href="#hydpy.cythons.modelutils.FuncConverter.pyxlines" title="hydpy.cythons.modelutils.FuncConverter.pyxlines"><code class="xref py py-const docutils literal notranslate"><span class="pre">pyxlines</span></code></a>.</p>
<dl class="py attribute">
<dt id="hydpy.cythons.modelutils.FuncConverter.func">
<code class="sig-name descname"><span class="pre">func</span></code><em class="property"><span class="pre">:</span> <span class="pre">Callable</span></em><a class="headerlink" href="#hydpy.cythons.modelutils.FuncConverter.func" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="hydpy.cythons.modelutils.FuncConverter.model">
<code class="sig-name descname"><span class="pre">model</span></code><em class="property"><span class="pre">:</span> <a class="reference internal" href="modeltools.html#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><span class="pre">hydpy.core.modeltools.Model</span></a></em><a class="headerlink" href="#hydpy.cythons.modelutils.FuncConverter.model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="hydpy.cythons.modelutils.FuncConverter.funcname">
<code class="sig-name descname"><span class="pre">funcname</span></code><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a></em><a class="headerlink" href="#hydpy.cythons.modelutils.FuncConverter.funcname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.FuncConverter.argnames">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">argnames</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.FuncConverter.argnames" title="Permalink to this definition">¶</a></dt>
<dd><p>The argument names of the current function.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">FuncConverter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">prepare_model</span><span class="p">,</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;hland_v1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FuncConverter</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">calc_tc_v1</span><span class="p">)</span><span class="o">.</span><span class="n">argnames</span>
<span class="go">[&#39;model&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.FuncConverter.varnames">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">varnames</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.FuncConverter.varnames" title="Permalink to this definition">¶</a></dt>
<dd><p>The variable names of the current function.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">FuncConverter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">prepare_model</span><span class="p">,</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;hland_v1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FuncConverter</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">calc_tc_v1</span><span class="p">)</span><span class="o">.</span><span class="n">varnames</span>
<span class="go">(&#39;self&#39;, &#39;con&#39;, &#39;inp&#39;, &#39;flu&#39;, &#39;k&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.FuncConverter.locnames">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">locnames</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.FuncConverter.locnames" title="Permalink to this definition">¶</a></dt>
<dd><p>The variable names of the handled function except for
the argument names.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">FuncConverter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">prepare_model</span><span class="p">,</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;hland_v1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FuncConverter</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">calc_tc_v1</span><span class="p">)</span><span class="o">.</span><span class="n">locnames</span>
<span class="go">[&#39;self&#39;, &#39;con&#39;, &#39;inp&#39;, &#39;flu&#39;, &#39;k&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.FuncConverter.subgroupnames">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">subgroupnames</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.FuncConverter.subgroupnames" title="Permalink to this definition">¶</a></dt>
<dd><p>The complete names of the subgroups relevant for the current
function.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">FuncConverter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">prepare_model</span><span class="p">,</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;hland_v1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FuncConverter</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">calc_tc_v1</span><span class="p">)</span><span class="o">.</span><span class="n">subgroupnames</span>
<span class="go">[&#39;parameters.control&#39;, &#39;sequences.inputs&#39;, &#39;sequences.fluxes&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.FuncConverter.subgroupshortcuts">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">subgroupshortcuts</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.FuncConverter.subgroupshortcuts" title="Permalink to this definition">¶</a></dt>
<dd><p>The abbreviated names of the subgroups relevant for the current
function.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">FuncConverter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">prepare_model</span><span class="p">,</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;hland_v1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FuncConverter</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">calc_tc_v1</span><span class="p">)</span><span class="o">.</span><span class="n">subgroupshortcuts</span>
<span class="go">[&#39;con&#39;, &#39;inp&#39;, &#39;flu&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.FuncConverter.untypedvarnames">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">untypedvarnames</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.FuncConverter.untypedvarnames" title="Permalink to this definition">¶</a></dt>
<dd><p>The names of the untyped variables used in the current function.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">FuncConverter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">prepare_model</span><span class="p">,</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;hland_v1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FuncConverter</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">calc_tc_v1</span><span class="p">)</span><span class="o">.</span><span class="n">untypedvarnames</span>
<span class="go">[&#39;k&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.FuncConverter.untypedarguments">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">untypedarguments</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.FuncConverter.untypedarguments" title="Permalink to this definition">¶</a></dt>
<dd><p>The names of the untyped arguments used by the current function.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">FuncConverter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">prepare_model</span><span class="p">,</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;hland_v1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FuncConverter</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">calc_tc_v1</span><span class="p">)</span><span class="o">.</span><span class="n">untypedarguments</span>
<span class="go">[]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.FuncConverter.untypedinternalvarnames">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">untypedinternalvarnames</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.FuncConverter.untypedinternalvarnames" title="Permalink to this definition">¶</a></dt>
<dd><p>The names of the untyped variables used in the current function
except for those of the arguments.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">FuncConverter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">prepare_model</span><span class="p">,</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;hland_v1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FuncConverter</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">calc_tc_v1</span><span class="p">)</span><span class="o">.</span><span class="n">untypedinternalvarnames</span>
<span class="go">[&#39;k&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.FuncConverter.cleanlines">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">cleanlines</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.FuncConverter.cleanlines" title="Permalink to this definition">¶</a></dt>
<dd><p>The leaned code lines of the current function.</p>
<dl class="simple">
<dt>The implemented cleanups:</dt><dd><ul class="simple">
<li><p>eventually, remove method version</p></li>
<li><p>remove all docstrings</p></li>
<li><p>remove all comments</p></li>
<li><p>remove all empty lines</p></li>
<li><p>remove line bracks within brackets</p></li>
<li><p>remove the phrase <cite>modelutils</cite></p></li>
<li><p>remove all lines containing the phrase <cite>fastaccess</cite></p></li>
<li><p>replace all shortcuts with complete reference names</p></li>
<li><p>replace “model.” with “self.”</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.FuncConverter.remove_linebreaks_within_equations">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">remove_linebreaks_within_equations</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#FuncConverter.remove_linebreaks_within_equations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.FuncConverter.remove_linebreaks_within_equations" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove line breaks within equations.</p>
<p>The following example is not an exhaustive test but shows
how the method works in principle:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">code</span> <span class="o">=</span> <span class="s2">&quot;asdf = </span><span class="se">\\\n</span><span class="s2">(a</span><span class="se">\n</span><span class="s2">+b)&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">FuncConverter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FuncConverter</span><span class="o">.</span><span class="n">remove_linebreaks_within_equations</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
<span class="go">&#39;asdf = (a+b)&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.FuncConverter.remove_imath_operators">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">remove_imath_operators</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lines</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#FuncConverter.remove_imath_operators"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.FuncConverter.remove_imath_operators" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove mathematical expressions that require Pythons global
interpreter locking mechanism.</p>
<p>The following example is not an exhaustive test but shows
how the method works in principle:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;    x += 1*1&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">FuncConverter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FuncConverter</span><span class="o">.</span><span class="n">remove_imath_operators</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lines</span>
<span class="go">[&#39;    x = x + (1*1)&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hydpy.cythons.modelutils.FuncConverter.pyxlines">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">pyxlines</span></code><a class="headerlink" href="#hydpy.cythons.modelutils.FuncConverter.pyxlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Cython code lines of the current function.</p>
<dl class="simple">
<dt>Assumptions:</dt><dd><ul class="simple">
<li><p>The function shall be a method.</p></li>
<li><p>The method shall be inlined.</p></li>
<li><p>Annotations specify all argument and return types.</p></li>
<li><p>Local variables are generally of type <cite>int</cite> but of type <cite>double</cite>
when their name starts with <cite>d_</cite>.</p></li>
</ul>
</dd>
</dl>
<p>We import some classes and prepare a pure-Python instance of
application model <a class="reference internal" href="hland_v1.html#module-hydpy.models.hland_v1" title="hydpy.models.hland_v1"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hland_v1</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">types</span> <span class="kn">import</span> <span class="n">MethodType</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.core.modeltools</span> <span class="kn">import</span> <span class="n">Method</span><span class="p">,</span> <span class="n">Model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.core.typingtools</span> <span class="kn">import</span> <span class="n">Vector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">FuncConverter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">prepare_model</span><span class="p">,</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">usecython</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">model</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;hland_v1&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>First, we show an example on a standard method without additional
arguments and returning nothing but requiring two local variables:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Calc_Test_V1</span><span class="p">(</span><span class="n">Method</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@staticmethod</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">Model</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">con</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">fastaccess</span>
<span class="gp">... </span>        <span class="n">flu</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">fastaccess</span>
<span class="gp">... </span>        <span class="n">inp</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">fastaccess</span>
<span class="gp">... </span>        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">con</span><span class="o">.</span><span class="n">nmbzones</span><span class="p">):</span>
<span class="gp">... </span>            <span class="n">d_pc</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">kg</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">*</span><span class="n">inp</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
<span class="gp">... </span>            <span class="n">flu</span><span class="o">.</span><span class="n">pc</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">d_pc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">calc_test_v1</span> <span class="o">=</span> <span class="n">MethodType</span><span class="p">(</span><span class="n">Calc_Test_V1</span><span class="o">.</span><span class="fm">__call__</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FuncConverter</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;calc_test_v1&quot;</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">calc_test_v1</span><span class="p">)</span><span class="o">.</span><span class="n">pyxlines</span>
<span class="go">    cpdef inline void calc_test_v1(self)  nogil:</span>
<span class="go">        cdef double d_pc</span>
<span class="go">        cdef int k</span>
<span class="go">        for k in range(self.parameters.control.nmbzones):</span>
<span class="go">            d_pc = self.parameters.control.kg[k]*self.sequences.inputs.p[k]</span>
<span class="go">            self.sequences.fluxes.pc[k] = d_pc</span>
</pre></div>
</div>
<p>The second example shows that <cite>float</cite> and <cite>Vector</cite> annotations
translate into <cite>double</cite> and <cite>double[:]</cite> types, respectively:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Calc_Test_V2</span><span class="p">(</span><span class="n">Method</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@staticmethod</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">model</span><span class="p">:</span> <span class="n">Model</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Vector</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">con</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">fastaccess</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">con</span><span class="o">.</span><span class="n">kg</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">value</span><span class="o">*</span><span class="n">values</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">calc_test_v2</span> <span class="o">=</span> <span class="n">MethodType</span><span class="p">(</span><span class="n">Calc_Test_V2</span><span class="o">.</span><span class="fm">__call__</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FuncConverter</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;calc_test_v2&quot;</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">calc_test_v2</span><span class="p">)</span><span class="o">.</span><span class="n">pyxlines</span>
<span class="go">    cpdef inline double calc_test_v2(self, double value, double[:] values)  nogil:</span>
<span class="go">        return self.parameters.control.kg[0]*value*values[1]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="hydpy.cythons.modelutils.exp">
<code class="sig-prename descclassname"><span class="pre">hydpy.cythons.modelutils.</span></code><code class="sig-name descname"><span class="pre">exp</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">double</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#exp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.exp" title="Permalink to this definition">¶</a></dt>
<dd><p>Cython wrapper for the <code class="xref py py-func docutils literal notranslate"><span class="pre">exp()</span></code> function of module <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.20)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> applied
on a single <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> object.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">exp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">mock</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="s2">&quot;numpy.exp&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">func</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">_</span> <span class="o">=</span> <span class="n">exp</span><span class="p">(</span><span class="mf">123.4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="o">.</span><span class="n">call_args</span>
<span class="go">call(123.4)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="hydpy.cythons.modelutils.log">
<code class="sig-prename descclassname"><span class="pre">hydpy.cythons.modelutils.</span></code><code class="sig-name descname"><span class="pre">log</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">double</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#log"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.log" title="Permalink to this definition">¶</a></dt>
<dd><p>Cython wrapper for the <code class="xref py py-func docutils literal notranslate"><span class="pre">log()</span></code> function of module <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.20)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> applied
on a single <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> object.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">log</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">mock</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="s2">&quot;numpy.log&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">func</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">_</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="mf">123.4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="o">.</span><span class="n">call_args</span>
<span class="go">call(123.4)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="hydpy.cythons.modelutils.fabs">
<code class="sig-prename descclassname"><span class="pre">hydpy.cythons.modelutils.</span></code><code class="sig-name descname"><span class="pre">fabs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">double</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#fabs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.fabs" title="Permalink to this definition">¶</a></dt>
<dd><p>Cython wrapper for the <a class="reference external" href="https://docs.python.org/3/library/math.html#math.exp" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">exp()</span></code></a> function of module <a class="reference external" href="https://docs.python.org/3/library/math.html#module-math" title="(in Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code></a> applied
on a single <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> object.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">fabs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">mock</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="s2">&quot;math.fabs&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">func</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">_</span> <span class="o">=</span> <span class="n">fabs</span><span class="p">(</span><span class="mf">123.4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="o">.</span><span class="n">call_args</span>
<span class="go">call(123.4)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="hydpy.cythons.modelutils.sin">
<code class="sig-prename descclassname"><span class="pre">hydpy.cythons.modelutils.</span></code><code class="sig-name descname"><span class="pre">sin</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">double</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#sin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.sin" title="Permalink to this definition">¶</a></dt>
<dd><p>Cython wrapper for the <code class="xref py py-func docutils literal notranslate"><span class="pre">sin()</span></code> function of module <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.20)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> applied
on a single <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> object.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">sin</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">mock</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="s2">&quot;numpy.sin&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">func</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">_</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="mf">123.4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="o">.</span><span class="n">call_args</span>
<span class="go">call(123.4)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="hydpy.cythons.modelutils.cos">
<code class="sig-prename descclassname"><span class="pre">hydpy.cythons.modelutils.</span></code><code class="sig-name descname"><span class="pre">cos</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">double</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#cos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.cos" title="Permalink to this definition">¶</a></dt>
<dd><p>Cython wrapper for the <code class="xref py py-func docutils literal notranslate"><span class="pre">cos()</span></code> function of module <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.20)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> applied
on a single <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> object.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">cos</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">mock</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="s2">&quot;numpy.cos&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">func</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">_</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span><span class="mf">123.4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="o">.</span><span class="n">call_args</span>
<span class="go">call(123.4)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="hydpy.cythons.modelutils.tan">
<code class="sig-prename descclassname"><span class="pre">hydpy.cythons.modelutils.</span></code><code class="sig-name descname"><span class="pre">tan</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">double</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#tan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.tan" title="Permalink to this definition">¶</a></dt>
<dd><p>Cython wrapper for the <code class="xref py py-func docutils literal notranslate"><span class="pre">tan()</span></code> function of module <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.20)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> applied
on a single <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> object.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">tan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">mock</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="s2">&quot;numpy.tan&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">func</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">_</span> <span class="o">=</span> <span class="n">tan</span><span class="p">(</span><span class="mf">123.4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="o">.</span><span class="n">call_args</span>
<span class="go">call(123.4)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="hydpy.cythons.modelutils.asin">
<code class="sig-prename descclassname"><span class="pre">hydpy.cythons.modelutils.</span></code><code class="sig-name descname"><span class="pre">asin</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">double</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#asin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.asin" title="Permalink to this definition">¶</a></dt>
<dd><p>Cython wrapper for the <code class="xref py py-func docutils literal notranslate"><span class="pre">arcsin()</span></code> function of module <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.20)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> applied
on a single <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> object.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">asin</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">mock</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="s2">&quot;numpy.arcsin&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">func</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">_</span> <span class="o">=</span> <span class="n">asin</span><span class="p">(</span><span class="mf">123.4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="o">.</span><span class="n">call_args</span>
<span class="go">call(123.4)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="hydpy.cythons.modelutils.acos">
<code class="sig-prename descclassname"><span class="pre">hydpy.cythons.modelutils.</span></code><code class="sig-name descname"><span class="pre">acos</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">double</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#acos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.acos" title="Permalink to this definition">¶</a></dt>
<dd><p>Cython wrapper for the <code class="xref py py-func docutils literal notranslate"><span class="pre">arccos()</span></code> function of module <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.20)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> applied
on a single <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> object.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">acos</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">mock</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="s2">&quot;numpy.arccos&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">func</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">_</span> <span class="o">=</span> <span class="n">acos</span><span class="p">(</span><span class="mf">123.4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="o">.</span><span class="n">call_args</span>
<span class="go">call(123.4)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="hydpy.cythons.modelutils.atan">
<code class="sig-prename descclassname"><span class="pre">hydpy.cythons.modelutils.</span></code><code class="sig-name descname"><span class="pre">atan</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">double</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#atan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.atan" title="Permalink to this definition">¶</a></dt>
<dd><p>Cython wrapper for the <code class="xref py py-func docutils literal notranslate"><span class="pre">arctan()</span></code> function of module <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.20)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> applied
on a single <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> object.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">atan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">mock</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="s2">&quot;numpy.arctan&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">func</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">_</span> <span class="o">=</span> <span class="n">atan</span><span class="p">(</span><span class="mf">123.4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="o">.</span><span class="n">call_args</span>
<span class="go">call(123.4)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="hydpy.cythons.modelutils.isnan">
<code class="sig-prename descclassname"><span class="pre">hydpy.cythons.modelutils.</span></code><code class="sig-name descname"><span class="pre">isnan</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">double</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#isnan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.isnan" title="Permalink to this definition">¶</a></dt>
<dd><p>Cython wrapper for the <code class="xref py py-func docutils literal notranslate"><span class="pre">isnan()</span></code> function of module <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.20)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> applied
on a single <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> object.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">isnan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">mock</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="s2">&quot;numpy.isnan&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">func</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">_</span> <span class="o">=</span> <span class="n">isnan</span><span class="p">(</span><span class="mf">123.4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="o">.</span><span class="n">call_args</span>
<span class="go">call(123.4)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="hydpy.cythons.modelutils.isinf">
<code class="sig-prename descclassname"><span class="pre">hydpy.cythons.modelutils.</span></code><code class="sig-name descname"><span class="pre">isinf</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">double</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/cythons/modelutils.html#isinf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.cythons.modelutils.isinf" title="Permalink to this definition">¶</a></dt>
<dd><p>Cython wrapper for the <code class="xref py py-func docutils literal notranslate"><span class="pre">isinf()</span></code> function of module <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.20)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> applied
on a single <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> object.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.cythons.modelutils</span> <span class="kn">import</span> <span class="n">isnan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">mock</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="s2">&quot;numpy.isinf&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">func</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">_</span> <span class="o">=</span> <span class="n">isinf</span><span class="p">(</span><span class="mf">123.4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="o">.</span><span class="n">call_args</span>
<span class="go">call(123.4)</span>
</pre></div>
</div>
</dd></dl>

</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/HydPy_Logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="how_to.html">How to…</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="framework.html">Framework Tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="core.html">Core Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="execution.html">Execution Tools</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="cythons.html">Cython Tools</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="annutils.html">annutils</a></li>
<li class="toctree-l3"><a class="reference internal" href="configutils.html">configutils</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">modelutils</a></li>
<li class="toctree-l3"><a class="reference internal" href="pointerutils.html">pointerutils</a></li>
<li class="toctree-l3"><a class="reference internal" href="quadutils.html">quadutils</a></li>
<li class="toctree-l3"><a class="reference internal" href="rootutils.html">rootutils</a></li>
<li class="toctree-l3"><a class="reference internal" href="sequenceutils.html">sequenceutils</a></li>
<li class="toctree-l3"><a class="reference internal" href="smoothutils.html">smoothutils</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="auxiliaries.html">Auxiliary Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Configuration Tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modelcollection.html">Model Collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Example Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="zbibliography.html">Bibliography</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="configutils.html"
                        title="previous chapter">configutils</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="pointerutils.html"
                        title="next chapter">pointerutils</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/modelutils.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   
<h3>Versions</h3>
<ul>
<li><a href="../6/modelutils.html">6</a></li>
<li><a href="../5.0/modelutils.html">5.0</a></li>
<li><a href="../4.0/modelutils.html">4.0</a></li>
<li><a href="../master/modelutils.html">master</a></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pointerutils.html" title="pointerutils"
             >next</a> |</li>
        <li class="right" >
          <a href="configutils.html" title="configutils"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">HydPy 4.0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="framework.html" >Framework Tools</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="cythons.html" >Cython Tools</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">modelutils</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, HydPy Developers.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.2.
    </div>
  </body>
</html>
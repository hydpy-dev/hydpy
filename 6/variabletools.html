<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>variabletools &#8212; HydPy 6.2.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css?v=127cebf3" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=4ae1632d" />
    
    <script src="_static/documentation_options.js?v=f13f159b"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Execution Tools" href="execution.html" />
    <link rel="prev" title="typingtools" href="typingtools.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="execution.html" title="Execution Tools"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="typingtools.html" title="typingtools"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">HydPy 6.2.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="reference_manual.html" >Reference Manual</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="framework_tools.html" >Framework Tools</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="core.html" accesskey="U">Core Tools</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">variabletools</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/HydPy_Logo.png" alt="Logo"/>
            </a></p>
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_projects.html">Example Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_guide.html">Developer Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="reference_manual.html">Reference Manual</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="framework_tools.html">Framework Tools</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="core.html">Core Tools</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="aliastools.html">aliastools</a></li>
<li class="toctree-l4"><a class="reference internal" href="autodoctools.html">autodoctools</a></li>
<li class="toctree-l4"><a class="reference internal" href="auxfiletools.html">auxfiletools</a></li>
<li class="toctree-l4"><a class="reference internal" href="devicetools.html">devicetools</a></li>
<li class="toctree-l4"><a class="reference internal" href="exceptiontools.html">exceptiontools</a></li>
<li class="toctree-l4"><a class="reference internal" href="filetools.html">filetools</a></li>
<li class="toctree-l4"><a class="reference internal" href="hydpytools.html">hydpytools</a></li>
<li class="toctree-l4"><a class="reference internal" href="importtools.html">importtools</a></li>
<li class="toctree-l4"><a class="reference internal" href="indextools.html">indextools</a></li>
<li class="toctree-l4"><a class="reference internal" href="itemtools.html">itemtools</a></li>
<li class="toctree-l4"><a class="reference internal" href="masktools.html">masktools</a></li>
<li class="toctree-l4"><a class="reference internal" href="modeltools.html">modeltools</a></li>
<li class="toctree-l4"><a class="reference internal" href="netcdftools.html">netcdftools</a></li>
<li class="toctree-l4"><a class="reference internal" href="objecttools.html">objecttools</a></li>
<li class="toctree-l4"><a class="reference internal" href="optiontools.html">optiontools</a></li>
<li class="toctree-l4"><a class="reference internal" href="parametertools.html">parametertools</a></li>
<li class="toctree-l4"><a class="reference internal" href="printtools.html">printtools</a></li>
<li class="toctree-l4"><a class="reference internal" href="propertytools.html">propertytools</a></li>
<li class="toctree-l4"><a class="reference internal" href="pubtools.html">pubtools</a></li>
<li class="toctree-l4"><a class="reference internal" href="selectiontools.html">selectiontools</a></li>
<li class="toctree-l4"><a class="reference internal" href="sequencetools.html">sequencetools</a></li>
<li class="toctree-l4"><a class="reference internal" href="seriestools.html">seriestools</a></li>
<li class="toctree-l4"><a class="reference internal" href="testtools.html">testtools</a></li>
<li class="toctree-l4"><a class="reference internal" href="threadingtools.html">threadingtools</a></li>
<li class="toctree-l4"><a class="reference internal" href="timetools.html">timetools</a></li>
<li class="toctree-l4"><a class="reference internal" href="typingtools.html">typingtools</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">variabletools</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.variabletools.INT_NAN"><code class="docutils literal notranslate"><span class="pre">INT_NAN</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.variabletools.trim"><code class="docutils literal notranslate"><span class="pre">trim()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.variabletools.get_tolerance"><code class="docutils literal notranslate"><span class="pre">get_tolerance()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.variabletools.combine_arrays_to_lower_or_upper_bound"><code class="docutils literal notranslate"><span class="pre">combine_arrays_to_lower_or_upper_bound()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.variabletools.FastAccess"><code class="docutils literal notranslate"><span class="pre">FastAccess</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.variabletools.Variable"><code class="docutils literal notranslate"><span class="pre">Variable</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.Variable.NDIM"><code class="docutils literal notranslate"><span class="pre">Variable.NDIM</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.Variable.TYPE"><code class="docutils literal notranslate"><span class="pre">Variable.TYPE</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.Variable.SPAN"><code class="docutils literal notranslate"><span class="pre">Variable.SPAN</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.Variable.INIT"><code class="docutils literal notranslate"><span class="pre">Variable.INIT</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.Variable.strict_valuehandling"><code class="docutils literal notranslate"><span class="pre">Variable.strict_valuehandling</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.Variable.name"><code class="docutils literal notranslate"><span class="pre">Variable.name</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.Variable.unit"><code class="docutils literal notranslate"><span class="pre">Variable.unit</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.Variable.mask"><code class="docutils literal notranslate"><span class="pre">Variable.mask</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.Variable.modify_refweights"><code class="docutils literal notranslate"><span class="pre">Variable.modify_refweights()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.Variable.initinfo"><code class="docutils literal notranslate"><span class="pre">Variable.initinfo</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.Variable.value"><code class="docutils literal notranslate"><span class="pre">Variable.value</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.Variable.values"><code class="docutils literal notranslate"><span class="pre">Variable.values</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.Variable.shape"><code class="docutils literal notranslate"><span class="pre">Variable.shape</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.Variable.numberofvalues"><code class="docutils literal notranslate"><span class="pre">Variable.numberofvalues</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.Variable.verify"><code class="docutils literal notranslate"><span class="pre">Variable.verify()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.Variable.valuevector"><code class="docutils literal notranslate"><span class="pre">Variable.valuevector</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.Variable.refweights"><code class="docutils literal notranslate"><span class="pre">Variable.refweights</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.Variable.average_values"><code class="docutils literal notranslate"><span class="pre">Variable.average_values()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.Variable.availablemasks"><code class="docutils literal notranslate"><span class="pre">Variable.availablemasks</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.Variable.get_submask"><code class="docutils literal notranslate"><span class="pre">Variable.get_submask()</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.variabletools.MixinFixedShape"><code class="docutils literal notranslate"><span class="pre">MixinFixedShape</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.MixinFixedShape.SHAPE"><code class="docutils literal notranslate"><span class="pre">MixinFixedShape.SHAPE</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.MixinFixedShape.name"><code class="docutils literal notranslate"><span class="pre">MixinFixedShape.name</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.MixinFixedShape.shape"><code class="docutils literal notranslate"><span class="pre">MixinFixedShape.shape</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.variabletools.sort_variables"><code class="docutils literal notranslate"><span class="pre">sort_variables()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.variabletools.SubVariables"><code class="docutils literal notranslate"><span class="pre">SubVariables</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.SubVariables.vars"><code class="docutils literal notranslate"><span class="pre">SubVariables.vars</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.SubVariables.name"><code class="docutils literal notranslate"><span class="pre">SubVariables.name</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#hydpy.core.variabletools.SubVariables.names"><code class="docutils literal notranslate"><span class="pre">SubVariables.names</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.variabletools.to_repr"><code class="docutils literal notranslate"><span class="pre">to_repr()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="execution.html">Execution Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="cythons.html">Cython Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="auxiliaries.html">Auxiliary Tools</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="model_families.html">Model Families</a></li>
<li class="toctree-l2"><a class="reference internal" href="submodel_interfaces.html">Submodel Interfaces</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="zbibliography.html">Bibliography</a></li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="typingtools.html"
                          title="previous chapter">typingtools</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="execution.html"
                          title="next chapter">Execution Tools</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/variabletools.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   
<h3>Versions</h3>
<ul>
<li><a href="../6/variabletools.html">6</a></li>
<li><a href="../5.0/variabletools.html">5.0</a></li>
<li><a href="../4.0/variabletools.html">4.0</a></li>
<li><a href="../master/variabletools.html">master</a></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="variabletools">
<span id="id1"></span><h1>variabletools<a class="headerlink" href="#variabletools" title="Link to this heading">¶</a></h1>
<p id="module-hydpy.core.variabletools">This module implements general features for defining and working with model
parameters and sequences.</p>
<p>Features more specific to either parameters or sequences are implemented in modules
<a class="reference internal" href="parametertools.html#module-hydpy.core.parametertools" title="hydpy.core.parametertools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parametertools</span></code></a> and <a class="reference internal" href="sequencetools.html#module-hydpy.core.sequencetools" title="hydpy.core.sequencetools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sequencetools</span></code></a>, respectively.</p>
<p>Module <a class="reference internal" href="#module-hydpy.core.variabletools" title="hydpy.core.variabletools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">variabletools</span></code></a> implements the following members:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">TypeFastAccess_co</span></code> Type variable.</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">TypeGroup_co</span></code> Type variable.</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">TypeVariable</span></code> Type variable.</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">TypeVariable_co</span></code> Type variable.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.variabletools.trim" title="hydpy.core.variabletools.trim"><code class="xref py py-func docutils literal notranslate"><span class="pre">trim()</span></code></a> Trim the value(s) of a <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> instance.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.variabletools.get_tolerance" title="hydpy.core.variabletools.get_tolerance"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_tolerance()</span></code></a> Return some “numerical accuracy” to be expected for the given floating-point value(s).</p></li>
<li><p><a class="reference internal" href="#hydpy.core.variabletools.combine_arrays_to_lower_or_upper_bound" title="hydpy.core.variabletools.combine_arrays_to_lower_or_upper_bound"><code class="xref py py-func docutils literal notranslate"><span class="pre">combine_arrays_to_lower_or_upper_bound()</span></code></a> Helper function for parameter-specific trimming functions that collects all available lower or upper bound values.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.variabletools.FastAccess" title="hydpy.core.variabletools.FastAccess"><code class="xref py py-class docutils literal notranslate"><span class="pre">FastAccess</span></code></a> Used as a surrogate for typed Cython classes handling parameters or sequences when working in pure Python mode.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> Base class for <a class="reference internal" href="parametertools.html#hydpy.core.parametertools.Parameter" title="hydpy.core.parametertools.Parameter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parameter</span></code></a> and <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sequence_" title="hydpy.core.sequencetools.Sequence_"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence_</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.variabletools.MixinFixedShape" title="hydpy.core.variabletools.MixinFixedShape"><code class="xref py py-class docutils literal notranslate"><span class="pre">MixinFixedShape</span></code></a> Mixin class for defining variables with a fixed shape.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.variabletools.sort_variables" title="hydpy.core.variabletools.sort_variables"><code class="xref py py-func docutils literal notranslate"><span class="pre">sort_variables()</span></code></a> Sort the given <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> subclasses by their initialisation order.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.variabletools.SubVariables" title="hydpy.core.variabletools.SubVariables"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubVariables</span></code></a> Base class for <a class="reference internal" href="parametertools.html#hydpy.core.parametertools.SubParameters" title="hydpy.core.parametertools.SubParameters"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubParameters</span></code></a> and <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.SubSequences" title="hydpy.core.sequencetools.SubSequences"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubSequences</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.variabletools.to_repr" title="hydpy.core.variabletools.to_repr"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_repr()</span></code></a> Return a valid string representation for the given <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> object.</p></li>
</ul>
</div></blockquote>
<hr class="docutils" />
<dl class="py data">
<dt class="sig sig-object py" id="hydpy.core.variabletools.INT_NAN">
<span class="sig-prename descclassname"><span class="pre">hydpy.core.variabletools.</span></span><span class="sig-name descname"><span class="pre">INT_NAN</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">-999999</span></span><a class="headerlink" href="#hydpy.core.variabletools.INT_NAN" title="Link to this definition">¶</a></dt>
<dd><p>Surrogate for <cite>nan</cite>, which is available for floating-point values but not for 
integer values.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.core.variabletools.trim">
<span class="sig-prename descclassname"><span class="pre">hydpy.core.variabletools.</span></span><span class="sig-name descname"><span class="pre">trim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><span class="pre">Variable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/variabletools.html#trim"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.variabletools.trim" title="Link to this definition">¶</a></dt>
<dd><p>Trim the value(s) of a <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> instance.</p>
<p>The returned boolean indicates whether at least one value has been trimmed.</p>
<p>Usually, users do not need to apply the <a class="reference internal" href="#hydpy.core.variabletools.trim" title="hydpy.core.variabletools.trim"><code class="xref py py-func docutils literal notranslate"><span class="pre">trim()</span></code></a> function directly. Instead, some
<a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> subclasses implement their own <cite>trim</cite> methods relying on function <a class="reference internal" href="#hydpy.core.variabletools.trim" title="hydpy.core.variabletools.trim"><code class="xref py py-func docutils literal notranslate"><span class="pre">trim()</span></code></a>.
Model developers should implement individual <cite>trim</cite> methods for their <a class="reference internal" href="parametertools.html#hydpy.core.parametertools.Parameter" title="hydpy.core.parametertools.Parameter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parameter</span></code></a>
or <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sequence_" title="hydpy.core.sequencetools.Sequence_"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence_</span></code></a> subclasses when their boundary values depend on the actual project
configuration (one example is soil moisture; its lowest possible value should
possibly be zero in all cases, but its highest possible value could depend on
another parameter defining the maximum storage capacity).</p>
<p>For the following examples, we prepare a simple (not fully functional) <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a>
subclass, making use of function <a class="reference internal" href="#hydpy.core.variabletools.trim" title="hydpy.core.variabletools.trim"><code class="xref py py-func docutils literal notranslate"><span class="pre">trim()</span></code></a> without any modifications.  Function <a class="reference internal" href="#hydpy.core.variabletools.trim" title="hydpy.core.variabletools.trim"><code class="xref py py-func docutils literal notranslate"><span class="pre">trim()</span></code></a>
works slightly different for variables handling <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, and <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a> values.
We start with the most common content type, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.variabletools</span><span class="w"> </span><span class="kn">import</span> <span class="n">trim</span><span class="p">,</span> <span class="n">Variable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">Var</span><span class="p">(</span><span class="n">Variable</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">NDIM</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">... </span>    <span class="n">TYPE</span> <span class="o">=</span> <span class="nb">float</span>
<span class="gp">... </span>    <span class="n">SPAN</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">3.0</span>
<span class="gp">... </span>    <span class="n">trim</span> <span class="o">=</span> <span class="n">trim</span>
<span class="gp">... </span>    <span class="n">initinfo</span> <span class="o">=</span> <span class="mf">2.0</span><span class="p">,</span> <span class="kc">False</span>
<span class="gp">... </span>    <span class="n">_CLS_FASTACCESS_PYTHON</span> <span class="o">=</span> <span class="n">FastAccess</span>
</pre></div>
</div>
<p>First, we enable the printing of warning messages raised by function <a class="reference internal" href="#hydpy.core.variabletools.trim" title="hydpy.core.variabletools.trim"><code class="xref py py-func docutils literal notranslate"><span class="pre">trim()</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">warntrim</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>When not passing boundary values, function <a class="reference internal" href="#hydpy.core.variabletools.trim" title="hydpy.core.variabletools.trim"><code class="xref py py-func docutils literal notranslate"><span class="pre">trim()</span></code></a> extracts them from class
attribute <cite>SPAN</cite> of the given <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> instance, if available:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(2.0)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.testtools</span><span class="w"> </span><span class="kn">import</span> <span class="n">warn_later</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warn_later</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">True</span>
<span class="go">UserWarning: For variable `var` at least one value needed to be trimmed.  The old and the new value(s) are `0.0` and `1.0`, respectively.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(1.0)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warn_later</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">True</span>
<span class="go">UserWarning: For variable `var` at least one value needed to be trimmed.  The old and the new value(s) are `4.0` and `3.0`, respectively.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(3.0)</span>
</pre></div>
</div>
<p>In the examples above, outlier values are set to the respective boundary value,
accompanied by suitable warning messages.  For minimal deviations (defined by
function <a class="reference internal" href="#hydpy.core.variabletools.get_tolerance" title="hydpy.core.variabletools.get_tolerance"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_tolerance()</span></code></a>), which might be due to precision problems only, outliers
are trimmed but not reported:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">-</span> <span class="mf">1e-15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">==</span> <span class="mf">1.0</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">trim</span><span class="p">(</span><span class="n">var</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">==</span> <span class="mf">1.0</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">3.0</span> <span class="o">+</span> <span class="mf">1e-15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">==</span> <span class="mf">3.0</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">==</span> <span class="mf">3.0</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Use arguments <cite>lower</cite> and <cite>upper</cite> to override the (eventually) available <cite>SPAN</cite>
entries:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warn_later</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="n">lower</span><span class="o">=</span><span class="mf">4.0</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">True</span>
<span class="go">UserWarning: For variable `var` at least one value needed to be trimmed.  The old and the new value(s) are `3.0` and `4.0`, respectively.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warn_later</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="n">lower</span><span class="o">=</span><span class="mf">3.0</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">True</span>
<span class="go">UserWarning: For variable `var` at least one value needed to be trimmed.  The old and the new value(s) are `4.0` and `3.0`, respectively.</span>
</pre></div>
</div>
<p>Function <a class="reference internal" href="#hydpy.core.variabletools.trim" title="hydpy.core.variabletools.trim"><code class="xref py py-func docutils literal notranslate"><span class="pre">trim()</span></code></a> interprets both <code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code> and <code class="xref py py-const docutils literal notranslate"><span class="pre">nan</span></code> values as if no boundary
value exists:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="n">lower</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="n">upper</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">False</span>
</pre></div>
</div>
<p>You can disable function <a class="reference internal" href="#hydpy.core.variabletools.trim" title="hydpy.core.variabletools.trim"><code class="xref py py-func docutils literal notranslate"><span class="pre">trim()</span></code></a> via option <a class="reference internal" href="optiontools.html#hydpy.core.optiontools.Options.trimvariables" title="hydpy.core.optiontools.Options.trimvariables"><code class="xref py py-const docutils literal notranslate"><span class="pre">trimvariables</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">trimvariables</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">5.0</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(5.0)</span>
</pre></div>
</div>
<p>Alternatively, you can omit the warning messages only without modifying the return
value:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">warntrim</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">5.0</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(3.0)</span>
</pre></div>
</div>
<p>If a <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> subclass does not have (fixed) boundaries, give it either no <cite>SPAN</cite>
attribute or a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> containing <code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code> values:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">Var</span><span class="o">.</span><span class="n">SPAN</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(5.0)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">SPAN</span> <span class="o">=</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(5.0)</span>
</pre></div>
</div>
<p>The above examples deal with a 0-dimensional <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> subclass.  The following
examples repeat the most relevant examples for a 2-dimensional subclass:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">SPAN</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">False</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warn_later</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">True</span>
<span class="go">UserWarning: For variable `var` at least one value needed to be trimmed.  The old and the new value(s) are `0.0, 1.0, 2.0` and `1.0, 1.0, 2.0`, respectively.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(1.0, 1.0, 2.0)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warn_later</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">True</span>
<span class="go">UserWarning: For variable `var` at least one value needed to be trimmed.  The old and the new value(s) are `2.0, 3.0, 4.0` and `2.0, 3.0, 3.0`, respectively.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(2.0, 3.0, 3.0)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">print_matrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">-</span><span class="mf">1e-15</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="o">+</span><span class="mf">1e-15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_matrix</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">==</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">))</span>
<span class="go">| False, True, False |</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_matrix</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">==</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">))</span>
<span class="go">| True, True, True |</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="n">lower</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(0.0, 2.0, 4.0)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warn_later</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="n">lower</span><span class="o">=</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])</span> <span class="ow">is</span> <span class="kc">True</span>
<span class="go">UserWarning: For variable `var` at least one value needed to be trimmed.  The old and the new value(s) are `0.0, 2.0, 4.0` and `0.0, 3.0, 3.0`, respectively.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warn_later</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="n">upper</span><span class="o">=</span><span class="p">[</span><span class="n">numpy</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">nan</span><span class="p">])</span> <span class="ow">is</span> <span class="kc">True</span>
<span class="go">UserWarning: For variable `var` at least one value needed to be trimmed.  The old and the new value(s) are `0.0, 2.0, 4.0` and `1.0, 1.0, 4.0`, respectively.</span>
</pre></div>
</div>
<p>For <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> subclasses handling <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> values, setting outliers to the
respective boundary value might often be an acceptable approach.  However, this is
often not the case for subclasses handling <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> values, which often serve as
option flags (e.g. to enable/disable a certain hydrological process for different
land-use types). Hence, function <a class="reference internal" href="#hydpy.core.variabletools.trim" title="hydpy.core.variabletools.trim"><code class="xref py py-func docutils literal notranslate"><span class="pre">trim()</span></code></a> raises an exception instead of a warning
and does not modify the wrong <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> value:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">TYPE</span> <span class="o">=</span> <span class="nb">int</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">SPAN</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(2)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">The value `0` of parameter `var` of element `?` is not valid.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">The value `4` of parameter `var` of element `?` is not valid.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(4)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">INT_NAN</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="n">lower</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="n">lower</span><span class="o">=</span><span class="n">INT_NAN</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">False</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="n">upper</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="n">upper</span><span class="o">=</span><span class="n">INT_NAN</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">False</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">SPAN</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">The value `0` of parameter `var` of element `?` is not valid.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(0)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">SPAN</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">The value `4` of parameter `var` of element `?` is not valid.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">Var</span><span class="o">.</span><span class="n">SPAN</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">False</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">SPAN</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">False</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">At least one value of parameter `var` of element `?` is not valid.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(0, 1, 2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w"> </span><span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">At least one value of parameter `var` of element `?` is not valid.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(2, 3, 4)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="n">lower</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">INT_NAN</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span> <span class="ow">is</span> <span class="kc">False</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="n">upper</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="n">INT_NAN</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span> <span class="ow">is</span> <span class="kc">False</span>
</pre></div>
</div>
<p>For <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a> values, defining outliers does not make much sense, which is why
function <a class="reference internal" href="#hydpy.core.variabletools.trim" title="hydpy.core.variabletools.trim"><code class="xref py py-func docutils literal notranslate"><span class="pre">trim()</span></code></a> does nothing when applied to variables handling <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a> values:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">TYPE</span> <span class="o">=</span> <span class="nb">bool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">False</span>
</pre></div>
</div>
<p>If function <a class="reference internal" href="#hydpy.core.variabletools.trim" title="hydpy.core.variabletools.trim"><code class="xref py py-func docutils literal notranslate"><span class="pre">trim()</span></code></a> encounters an unmanageable type, it raises an exception like the
following:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">TYPE</span> <span class="o">=</span> <span class="nb">str</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">trim</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">NotImplementedError</span>: <span class="n">Method `trim` can only be applied on parameters handling floating-point, integer, or boolean values, but the &quot;value type&quot; of parameter `var` is `str`.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">warntrim</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.core.variabletools.get_tolerance">
<span class="sig-prename descclassname"><span class="pre">hydpy.core.variabletools.</span></span><span class="sig-name descname"><span class="pre">get_tolerance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/core/variabletools.html#get_tolerance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.variabletools.get_tolerance" title="Link to this definition">¶</a></dt>
<dd><p>Return some “numerical accuracy” to be expected for the given floating-point
value(s).</p>
<p>The documentation on function <a class="reference internal" href="#hydpy.core.variabletools.trim" title="hydpy.core.variabletools.trim"><code class="xref py py-func docutils literal notranslate"><span class="pre">trim()</span></code></a> explains also function <a class="reference internal" href="#hydpy.core.variabletools.get_tolerance" title="hydpy.core.variabletools.get_tolerance"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_tolerance()</span></code></a>.
However, note the special case of infinite input values, for which function
<a class="reference internal" href="#hydpy.core.variabletools.get_tolerance" title="hydpy.core.variabletools.get_tolerance"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_tolerance()</span></code></a> returns zero:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.variabletools</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_tolerance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_tolerance</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">get_tolerance</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="n">numpy</span><span class="o">.</span><span class="n">inf</span><span class="p">])),</span> <span class="mi">16</span><span class="p">)</span>
<span class="go">0.000000000000001, 0.0, 0.000000000000002, 0.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.core.variabletools.combine_arrays_to_lower_or_upper_bound">
<span class="sig-prename descclassname"><span class="pre">hydpy.core.variabletools.</span></span><span class="sig-name descname"><span class="pre">combine_arrays_to_lower_or_upper_bound</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arrays</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><span class="pre">Any</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v2.4)"><span class="pre">dtype</span></a><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><span class="pre">Any</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v2.4)"><span class="pre">dtype</span></a><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/variabletools.html#combine_arrays_to_lower_or_upper_bound"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.variabletools.combine_arrays_to_lower_or_upper_bound" title="Link to this definition">¶</a></dt>
<dd><p>Helper function for parameter-specific trimming functions that collects all
available lower or upper bound values.</p>
<p>See function <a class="reference internal" href="sw1d.html#hydpy.models.sw1d.sw1d_control.BottomLowWaterThreshold.trim" title="hydpy.models.sw1d.sw1d_control.BottomLowWaterThreshold.trim"><code class="xref py py-func docutils literal notranslate"><span class="pre">trim()</span></code></a> of class
<a class="reference internal" href="sw1d.html#hydpy.models.sw1d.sw1d_control.BottomLowWaterThreshold" title="hydpy.models.sw1d.sw1d_control.BottomLowWaterThreshold"><code class="xref py py-class docutils literal notranslate"><span class="pre">BottomLowWaterThreshold</span></code></a> for an example.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.variabletools.FastAccess">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">hydpy.core.variabletools.</span></span><span class="sig-name descname"><span class="pre">FastAccess</span></span><a class="reference internal" href="_modules/hydpy/core/variabletools.html#FastAccess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.variabletools.FastAccess" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Used as a surrogate for typed Cython classes handling parameters or sequences
when working in pure Python mode.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.variabletools.Variable">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">hydpy.core.variabletools.</span></span><span class="sig-name descname"><span class="pre">Variable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subvars</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#hydpy.core.variabletools.SubVariables" title="hydpy.core.variabletools.SubVariables"><span class="pre">SubVariables</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/core/variabletools.html#Variable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.variabletools.Variable" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base class for <a class="reference internal" href="parametertools.html#hydpy.core.parametertools.Parameter" title="hydpy.core.parametertools.Parameter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parameter</span></code></a> and <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sequence_" title="hydpy.core.sequencetools.Sequence_"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence_</span></code></a>.</p>
<p>The subclasses are required to provide the class attributes <cite>NDIM</cite>
and <cite>TYPE</cite>, defining the dimensionality and the type of the values
to be handled by the subclass, respectively.  Class attribute <cite>INIT</cite>
is optional and should provide a suitable default value.</p>
<p>Class <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> implements methods for arithmetic calculations,
comparisons and type conversions.  See the  following examples on
how to do math with HydPys <a class="reference internal" href="parametertools.html#hydpy.core.parametertools.Parameter" title="hydpy.core.parametertools.Parameter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parameter</span></code></a> and <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sequence_" title="hydpy.core.sequencetools.Sequence_"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence_</span></code></a> objects.</p>
<p>We start with demonstrating the supported mathematical operations
on 0-dimensional <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> objects handling <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> values:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.variabletools</span><span class="w"> </span><span class="kn">import</span> <span class="n">FastAccess</span><span class="p">,</span> <span class="n">Variable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">Var</span><span class="p">(</span><span class="n">Variable</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">NDIM</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">... </span>    <span class="n">TYPE</span> <span class="o">=</span> <span class="nb">float</span>
<span class="gp">... </span>    <span class="n">initinfo</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kc">False</span>
<span class="gp">... </span>    <span class="n">_CLS_FASTACCESS_PYTHON</span> <span class="o">=</span> <span class="n">FastAccess</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>You can perform additions both with other <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> objects and
with ordinary number objects:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">+</span> <span class="n">var</span>
<span class="go">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">+</span> <span class="mf">3.0</span>
<span class="go">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">4.0</span> <span class="o">+</span> <span class="n">var</span>
<span class="go">6.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(3.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">+=</span> <span class="o">-</span><span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(2.0)</span>
</pre></div>
</div>
<p>If something goes wrong, all math operations return errors like the following:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">+</span> <span class="mf">1.0</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">hydpy.core.exceptiontools.AttributeNotReady</span>: <span class="n">While trying to add variable `var` and `float` instance `1.0`, the following error occurred: For variable `var`, no value has been defined so far.</span>
</pre></div>
</div>
<p>In general, the examples above are valid for the following binary
operations:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">-</span> <span class="mi">1</span>
<span class="go">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">7.0</span> <span class="o">-</span> <span class="n">var</span>
<span class="go">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">-=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(1.0)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">*</span> <span class="mi">3</span>
<span class="go">6.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">4.0</span> <span class="o">*</span> <span class="n">var</span>
<span class="go">8.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">*=</span> <span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(1.0)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">/</span> <span class="mi">2</span>
<span class="go">1.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">7.5</span> <span class="o">/</span> <span class="n">var</span>
<span class="go">2.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">/=</span> <span class="mf">6.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(0.5)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">//</span> <span class="mi">2</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">7.5</span> <span class="o">//</span> <span class="n">var</span>
<span class="go">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">//=</span> <span class="mf">0.9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(3.0)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">%</span> <span class="mi">2</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">7.5</span> <span class="o">%</span> <span class="n">var</span>
<span class="go">2.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">%=</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(2.0)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">**</span><span class="mi">3</span>
<span class="go">8.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">3.0</span><span class="o">**</span><span class="n">var</span>
<span class="go">9.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">**=</span> <span class="mf">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(16.0)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">divmod</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">(1.0, 2.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">divmod</span><span class="p">(</span><span class="mf">13.0</span><span class="p">,</span> <span class="n">var</span><span class="p">)</span>
<span class="go">(2.0, 3.0)</span>
</pre></div>
</div>
<p>Additionally, we support the following unary operations:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="o">-</span><span class="mf">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">+</span><span class="n">var</span>
<span class="go">-5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">-</span><span class="n">var</span>
<span class="go">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">abs</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
<span class="go">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">~</span><span class="n">var</span>
<span class="go">-0.2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">2.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">math</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">float</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
<span class="go">2.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">1.67</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">1.7</span>
</pre></div>
</div>
<p>You can apply all the operations discussed above (except <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> and
<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) on <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> objects of arbitrary dimensionality:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">print_matrix</span><span class="p">,</span> <span class="n">print_vector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">TYPE</span> <span class="o">=</span> <span class="nb">float</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">var</span> <span class="o">+</span> <span class="n">var</span><span class="p">)</span>
<span class="go">4.0, 4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">var</span> <span class="o">+</span> <span class="mf">3.0</span><span class="p">)</span>
<span class="go">5.0, 5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">([</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span> <span class="o">+</span> <span class="n">var</span><span class="p">)</span>
<span class="go">6.0, 2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(3.0, 3.0)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">var</span> <span class="o">-</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
<span class="go">2.0, 3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">([</span><span class="mf">7.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span> <span class="o">-</span> <span class="n">var</span><span class="p">)</span>
<span class="go">4.0, -3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">-=</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(1.0, 3.0)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">var</span> <span class="o">*</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
<span class="go">6.0, 2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">([</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span> <span class="o">*</span> <span class="n">var</span><span class="p">)</span>
<span class="go">8.0, 2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">*=</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(1.0, 2.0)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">var</span> <span class="o">/</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
<span class="go">1.5, 3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">([</span><span class="mf">7.5</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]</span> <span class="o">/</span> <span class="n">var</span><span class="p">)</span>
<span class="go">2.5, 1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">/=</span> <span class="p">[</span><span class="mf">6.0</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(0.5, 3.0)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">var</span> <span class="o">//</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
<span class="go">1.0, 3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">([</span><span class="mf">7.5</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]</span> <span class="o">//</span> <span class="n">var</span><span class="p">)</span>
<span class="go">2.0, 1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">//=</span> <span class="p">[</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(3.0, 3.0)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mf">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">var</span> <span class="o">%</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">])</span>
<span class="go">1.0, 0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">([</span><span class="mf">7.5</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">]</span> <span class="o">%</span> <span class="n">var</span><span class="p">)</span>
<span class="go">2.5, 0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">%=</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(2.0, 0.0)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">var</span><span class="o">**</span><span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
<span class="go">8.0, 2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">([</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span><span class="o">**</span><span class="n">var</span><span class="p">)</span>
<span class="go">9.0, 1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">**=</span> <span class="p">[</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(16.0, 2.0)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_matrix</span><span class="p">(</span><span class="nb">divmod</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">]))</span>
<span class="go">| 1.0, 1.0 |</span>
<span class="go">| 2.0, 0.0 |</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_matrix</span><span class="p">(</span><span class="nb">divmod</span><span class="p">([</span><span class="mf">13.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">],</span> <span class="n">var</span><span class="p">))</span>
<span class="go">| 2.0, 1.0 |</span>
<span class="go">| 3.0, 0.0 |</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="o">-</span><span class="mf">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="o">+</span><span class="n">var</span><span class="p">)</span>
<span class="go">-5.0, -5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="o">-</span><span class="n">var</span><span class="p">)</span>
<span class="go">5.0, 5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">var</span><span class="p">))</span>
<span class="go">5.0, 5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="o">~</span><span class="n">var</span><span class="p">)</span>
<span class="go">-0.2, -0.2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">2.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">math</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">var</span><span class="p">))</span>
<span class="go">2, 2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">var</span><span class="p">))</span>
<span class="go">3, 3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mf">1.67</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">1.7, 1.7</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">The variable `var` is 1-dimensional and thus cannot be converted to a scalar int value.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">float</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">The variable `var` is 1-dimensional and thus cannot be converted to a scalar float value.</span>
</pre></div>
</div>
<p>Indexing is supported (for consistency reasons, even for
0-dimensional variables):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="n">var</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="p">[:]</span>
<span class="go">10.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">IndexError</span>: <span class="n">While trying to access the value(s) of variable `var` with key `1`, the following error occurred: The only allowed keys for 0-dimensional variables are `0` and `:`.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">10.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">var</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">var</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="go">10.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mf">2.0</span> <span class="o">*</span> <span class="n">var</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(2.0, 8.0, 6.0, 16.0, 10.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="p">[:]</span> <span class="o">=</span> <span class="s2">&quot;test&quot;</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to set the value(s) of variable `var` with key `slice(None, None, None)`, the following error occurred: could not convert string to float: &#39;test&#39;</span>
</pre></div>
</div>
<p>Comparisons with <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> objects containing multiple values return a single
boolean value.  Two objects are equal if all of their value pairs are equal, and
they are unequal if at least one of their value pairs is unequal:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">==</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">var</span> <span class="o">==</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">var</span> <span class="o">==</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]</span>
<span class="go">(False, False, True)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">!=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">var</span> <span class="o">!=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">var</span> <span class="o">!=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]</span>
<span class="go">(True, True, False)</span>
</pre></div>
</div>
<p>While either the <cite>==</cite> or the <cite>!=</cite> operator returns <cite>True</cite> (but not both),
this must not be the case for the operator pairs <cite>&lt;`and `&gt;=</cite> as well as
<cite>&gt;</cite> and <cite>&lt;=</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">&lt;</span> <span class="mf">2.0</span><span class="p">,</span> <span class="n">var</span> <span class="o">&lt;</span> <span class="mf">3.0</span><span class="p">,</span> <span class="n">var</span> <span class="o">&lt;</span> <span class="mf">4.0</span>
<span class="go">(False, False, True)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">&lt;=</span> <span class="mf">2.0</span><span class="p">,</span> <span class="n">var</span> <span class="o">&lt;=</span> <span class="mf">3.0</span><span class="p">,</span> <span class="n">var</span> <span class="o">&lt;=</span> <span class="mf">4.0</span>
<span class="go">(False, True, True)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">&gt;=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">var</span> <span class="o">&gt;=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">var</span> <span class="o">&gt;=</span> <span class="mf">2.0</span>
<span class="go">(True, True, False)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">&gt;</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">var</span> <span class="o">&gt;</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">var</span> <span class="o">&gt;</span> <span class="mf">2.0</span>
<span class="go">(True, False, False)</span>
</pre></div>
</div>
<p>Comparing wrongly shaped values does work for <cite>==</cite> and <cite>!=</cite> but
results in errors for the other operations:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">==</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">],</span> <span class="n">var</span> <span class="o">!=</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">]</span>
<span class="go">(True, False)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">==</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">var</span> <span class="o">!=</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]</span>
<span class="go">(False, True)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">&lt;</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">],</span> <span class="n">var</span> <span class="o">&lt;=</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">],</span> <span class="n">var</span> <span class="o">&gt;=</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">],</span> <span class="n">var</span> <span class="o">&gt;</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">]</span>
<span class="go">(False, True, True, False)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">&lt;</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to compare variable `var` of element `?` with object `[2.0, 2.0, 2.0]` of type `list`, the following error occurred: operands could not be broadcast together with shapes (2,) (3,)...</span>
</pre></div>
</div>
<p>You can compare different <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> objects directly with each other:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">copy</span><span class="w"> </span><span class="kn">import</span> <span class="n">deepcopy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">&lt;</span> <span class="n">var</span><span class="p">,</span> <span class="n">var</span> <span class="o">&lt;</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
<span class="go">(False, False)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">&lt;=</span> <span class="n">var</span><span class="p">,</span> <span class="n">var</span> <span class="o">&lt;=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
<span class="go">(True, True)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">==</span> <span class="n">var</span><span class="p">,</span> <span class="n">var</span> <span class="o">==</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
<span class="go">(True, True)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">!=</span> <span class="n">var</span><span class="p">,</span> <span class="n">var</span> <span class="o">!=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
<span class="go">(False, False)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">&gt;=</span> <span class="n">var</span><span class="p">,</span> <span class="n">var</span> <span class="o">&gt;=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
<span class="go">(True, True)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">&gt;</span> <span class="n">var</span><span class="p">,</span> <span class="n">var</span> <span class="o">&gt;</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
<span class="go">(False, False)</span>
</pre></div>
</div>
<p>When asking for impossible comparisons, <a class="reference internal" href="#hydpy.core.variabletools.trim" title="hydpy.core.variabletools.trim"><code class="xref py py-func docutils literal notranslate"><span class="pre">trim()</span></code></a> raises error
like the following:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">&lt;</span> <span class="s2">&quot;text&quot;</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">While trying to compare variable `var` of element `?` with object `text` of type `str`, the following error occurred: ufunc &#39;isnan&#39; not supported for the input types, and the inputs could not be safely coerced to any supported types according to the casting rule &#39;&#39;safe&#39;&#39;</span>
</pre></div>
</div>
<p>Note that, in contrast to the usual <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v2.4)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> array comparison, we ignore
all single comparison results between two <code class="xref py py-const docutils literal notranslate"><span class="pre">nan</span></code> values:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">&lt;</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">&lt;</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">&lt;</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">&lt;</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">]</span>
<span class="go">(True, False, False, False)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">&lt;=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">&lt;=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">&lt;=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">&lt;=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">]</span>
<span class="go">(True, False, False, False)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">==</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">==</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">==</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">==</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]</span>
<span class="go">(True, False, False, False)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">!=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">!=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">!=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">!=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]</span>
<span class="go">(True, False, True, True)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">&gt;=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">&gt;=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">&lt;=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">&lt;=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">]</span>
<span class="go">(True, False, False, False)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">&gt;</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">&gt;</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">&lt;</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">&lt;</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]</span>
<span class="go">(True, False, False, False)</span>
</pre></div>
</div>
<p>Hence, when all entries of two compared objects are <code class="xref py py-const docutils literal notranslate"><span class="pre">nan</span></code>, we
consider these objects equal:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">&lt;</span> <span class="p">[</span><span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">&lt;=</span> <span class="p">[</span><span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">==</span> <span class="p">[</span><span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">!=</span> <span class="p">[</span><span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">&gt;=</span> <span class="p">[</span><span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">],</span> <span class="n">var</span> <span class="o">&gt;</span> <span class="p">[</span><span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">]</span>
<span class="go">(False, True, True, False, True, False)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">&lt;</span> <span class="n">nan</span><span class="p">,</span> <span class="n">var</span> <span class="o">&lt;=</span> <span class="n">nan</span><span class="p">,</span> <span class="n">var</span> <span class="o">==</span> <span class="n">nan</span><span class="p">,</span> <span class="n">var</span> <span class="o">!=</span> <span class="n">nan</span><span class="p">,</span> <span class="n">var</span> <span class="o">&gt;=</span> <span class="n">nan</span><span class="p">,</span> <span class="n">var</span> <span class="o">&gt;</span> <span class="n">nan</span>
<span class="go">(False, True, True, False, True, False)</span>
</pre></div>
</div>
<p>The <a class="reference external" href="https://docs.python.org/3/library/functions.html#len" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">len()</span></code></a> operator does not work for 0-dimensional variables:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">The `len` operator was applied on `var`, but this variable is 0-dimensional and thus unsized.  Consider using the `numberofvalues` property instead.</span>
</pre></div>
</div>
<p>For higher-dimensional variables, <cite>len</cite> always returns the length of the first
dimension:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p><a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> objects are hashable based on their <a class="reference external" href="https://docs.python.org/3/library/functions.html#id" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">id()</span></code></a> value to avoid avoiding
confusion when adding different but equal objects into one <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> object.
The following examples show this behaviour by making deep copies of existing
<a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> objects:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var1</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var1</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">varset</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">var1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var1</span> <span class="ow">in</span> <span class="n">varset</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var1</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">7.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var1</span> <span class="ow">in</span> <span class="n">varset</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var2</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">var1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var1</span> <span class="o">==</span> <span class="n">var2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var2</span> <span class="ow">in</span> <span class="n">varset</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var1</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var1</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var1</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">varset</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">var1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var1</span> <span class="ow">in</span> <span class="n">varset</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">7.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var1</span> <span class="ow">in</span> <span class="n">varset</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var2</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">var1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var1</span> <span class="o">==</span> <span class="n">var2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var2</span> <span class="ow">in</span> <span class="n">varset</span>
<span class="go">False</span>
</pre></div>
</div>
<p>During initialisation, each <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> subclass tries to extract its
unit from its docstring:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="s2">&quot;Var&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">Variable</span><span class="p">,),</span> <span class="p">{</span><span class="s2">&quot;__doc__&quot;</span><span class="p">:</span> <span class="s2">&quot;Discharge [m³/s].&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">unit</span>
<span class="go">&#39;m³/s&#39;</span>
</pre></div>
</div>
<p>For missing or poorly written docstrings, we set <cite>unit</cite> to “?”:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="s2">&quot;Var&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">Variable</span><span class="p">,),</span> <span class="p">{})</span><span class="o">.</span><span class="n">unit</span>
<span class="go">&#39;?&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="s2">&quot;Var&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">Variable</span><span class="p">,),</span> <span class="p">{</span><span class="s2">&quot;__doc__&quot;</span><span class="p">:</span> <span class="s2">&quot;Discharge ]m³/s[.&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">unit</span>
<span class="go">&#39;?&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="s2">&quot;Var&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">Variable</span><span class="p">,),</span> <span class="p">{</span><span class="s2">&quot;__doc__&quot;</span><span class="p">:</span> <span class="s2">&quot;Discharge m³/s].&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">unit</span>
<span class="go">&#39;?&#39;</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.variabletools.Variable.NDIM">
<span class="sig-name descname"><span class="pre">NDIM</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><a class="headerlink" href="#hydpy.core.variabletools.Variable.NDIM" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.variabletools.Variable.TYPE">
<span class="sig-name descname"><span class="pre">TYPE</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.14)"><span class="pre">type</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span><a class="headerlink" href="#hydpy.core.variabletools.Variable.TYPE" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.variabletools.Variable.SPAN">
<span class="sig-name descname"><span class="pre">SPAN</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">(None,</span> <span class="pre">None)</span></span><a class="headerlink" href="#hydpy.core.variabletools.Variable.SPAN" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.variabletools.Variable.INIT">
<span class="sig-name descname"><span class="pre">INIT</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></span><a class="headerlink" href="#hydpy.core.variabletools.Variable.INIT" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.variabletools.Variable.strict_valuehandling">
<span class="sig-name descname"><span class="pre">strict_valuehandling</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></span><a class="headerlink" href="#hydpy.core.variabletools.Variable.strict_valuehandling" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.variabletools.Variable.name">
<span class="sig-name descname"><span class="pre">name</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><a class="headerlink" href="#hydpy.core.variabletools.Variable.name" title="Link to this definition">¶</a></dt>
<dd><p>Name of the variable in lowercase letters.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.variabletools.Variable.unit">
<span class="sig-name descname"><span class="pre">unit</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><a class="headerlink" href="#hydpy.core.variabletools.Variable.unit" title="Link to this definition">¶</a></dt>
<dd><p>Unit of the variable.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.variabletools.Variable.mask">
<span class="sig-name descname"><span class="pre">mask</span></span><a class="headerlink" href="#hydpy.core.variabletools.Variable.mask" title="Link to this definition">¶</a></dt>
<dd><p>The standard mask used by all variables (if not overwritten).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.variabletools.Variable.modify_refweights">
<span class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></span><span class="sig-name descname"><span class="pre">modify_refweights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">refweights</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="parametertools.html#hydpy.core.parametertools.Parameter" title="hydpy.core.parametertools.Parameter"><span class="pre">parametertools.Parameter</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/hydpy/core/variabletools.html#Variable.modify_refweights"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.variabletools.Variable.modify_refweights" title="Link to this definition">¶</a></dt>
<dd><p>Eventually, set or modify the reference to a parameter defining the
weighting coefficients required for aggregating values.</p>
<p>The following example demonstrates that changes affect the relevant class only
temporarily, but its objects initialised within the “with” block persistently:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.variabletools</span><span class="w"> </span><span class="kn">import</span> <span class="n">FastAccess</span><span class="p">,</span> <span class="n">Variable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">Var1</span><span class="p">(</span><span class="n">Variable</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">initinfo</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kc">True</span>
<span class="gp">... </span>    <span class="n">_CLS_FASTACCESS_PYTHON</span> <span class="o">=</span> <span class="n">FastAccess</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">Var2</span><span class="p">(</span><span class="n">Variable</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">NDIM</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">... </span>    <span class="n">TYPE</span> <span class="o">=</span> <span class="nb">float</span>
<span class="gp">... </span>    <span class="n">initinfo</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kc">True</span>
<span class="gp">... </span>    <span class="n">_CLS_FASTACCESS_PYTHON</span> <span class="o">=</span> <span class="n">FastAccess</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var2</span> <span class="o">=</span> <span class="n">Var2</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var2</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">Var1</span><span class="o">.</span><span class="n">modify_refweights</span><span class="p">(</span><span class="n">var2</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">Var1</span><span class="o">.</span><span class="n">_refweights</span>
<span class="gp">... </span>    <span class="n">var1</span> <span class="o">=</span> <span class="n">Var1</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">var1</span><span class="o">.</span><span class="n">refweights</span>
<span class="go">var2(0.0, 0.0, 0.0)</span>
<span class="go">var2(0.0, 0.0, 0.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Var1</span><span class="o">.</span><span class="n">_refweights</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var1</span><span class="o">.</span><span class="n">refweights</span>
<span class="go">var2(0.0, 0.0, 0.0)</span>
</pre></div>
</div>
<p>Passing <code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code> does not overwrite previously set references:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Var1</span><span class="o">.</span><span class="n">_refweights</span> <span class="o">=</span> <span class="n">var2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">Var1</span><span class="o">.</span><span class="n">modify_refweights</span><span class="p">(</span><span class="kc">None</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">Var1</span><span class="o">.</span><span class="n">_refweights</span>
<span class="gp">... </span>    <span class="n">var1</span> <span class="o">=</span> <span class="n">Var1</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">var1</span><span class="o">.</span><span class="n">refweights</span>
<span class="go">var2(0.0, 0.0, 0.0)</span>
<span class="go">var2(0.0, 0.0, 0.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Var1</span><span class="o">.</span><span class="n">_refweights</span>
<span class="go">var2(0.0, 0.0, 0.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var1</span><span class="o">.</span><span class="n">refweights</span>
<span class="go">var2(0.0, 0.0, 0.0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.variabletools.Variable.initinfo">
<span class="property"><span class="k"><span class="pre">abstract</span></span><span class="w"> </span><span class="k"><span class="pre">property</span></span><span class="w"> </span></span><span class="sig-name descname"><span class="pre">initinfo</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">pointerutils.Double</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span><a class="headerlink" href="#hydpy.core.variabletools.Variable.initinfo" title="Link to this definition">¶</a></dt>
<dd><p>To be overridden.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.variabletools.Variable.value">
<span class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></span><span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#hydpy.core.variabletools.Variable.value" title="Link to this definition">¶</a></dt>
<dd><p>The actual parameter or sequence value(s).</p>
<p>First, we prepare a simple (not fully functional) <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> subclass:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.variabletools</span><span class="w"> </span><span class="kn">import</span> <span class="n">Variable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">Var</span><span class="p">(</span><span class="n">Variable</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">NDIM</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">... </span>    <span class="n">TYPE</span> <span class="o">=</span> <span class="nb">float</span>
<span class="gp">... </span>    <span class="n">initinfo</span> <span class="o">=</span> <span class="mf">3.0</span><span class="p">,</span> <span class="kc">True</span>
<span class="gp">... </span>    <span class="n">_CLS_FASTACCESS_PYTHON</span> <span class="o">=</span> <span class="n">FastAccess</span>
</pre></div>
</div>
<p>Without making use of default values (see below), trying to
query the actual value of a freshly initialised <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a>
object results in the following error:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">hydpy.core.exceptiontools.AttributeNotReady</span>: <span class="n">For variable `var`, no value has been defined so far.</span>
</pre></div>
</div>
<p>Property <a class="reference internal" href="#hydpy.core.variabletools.Variable.value" title="hydpy.core.variabletools.Variable.value"><code class="xref py py-const docutils literal notranslate"><span class="pre">value</span></code></a> tries to normalise assigned values and
raises an error, if not possible:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span>
<span class="go">3.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;2.0&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span>
<span class="go">2.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to set the value(s) of variable `var`, the following error occurred: 2 values are assigned to the scalar variable `var`.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span>
<span class="go">2.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;O&quot;</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">While trying to set the value(s) of variable `var`, the following error occurred: The given value `O` cannot be converted to type `float`.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span>
<span class="go">2.0</span>
</pre></div>
</div>
<p>The above examples deal with a 0-dimensional variable handling
<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> values.  The following examples focus on a 2-dimensional
variable handling <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> values:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">INT_NAN</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">TYPE</span> <span class="o">=</span> <span class="nb">int</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">initinfo</span> <span class="o">=</span> <span class="n">INT_NAN</span><span class="p">,</span> <span class="kc">False</span>
</pre></div>
</div>
<p>For multidimensional objects, assigning new values required
defining their <a class="reference internal" href="#hydpy.core.variabletools.Variable.shape" title="hydpy.core.variabletools.Variable.shape"><code class="xref py py-const docutils literal notranslate"><span class="pre">shape</span></code></a> first:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">hydpy.core.exceptiontools.AttributeNotReady</span>: <span class="n">Shape information for variable `var` can only be retrieved after it has been defined.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">hydpy.core.exceptiontools.AttributeNotReady</span>: <span class="n">While trying to set the value(s) of variable `var`, the following error occurred: Shape information for variable `var` can only be retrieved after it has been defined.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">hydpy.core.exceptiontools.AttributeNotReady</span>: <span class="n">For variable `var`, no values have been defined so far.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">print_matrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_matrix</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="go">| 2, 2, 2 |</span>
<span class="go">| 2, 2, 2 |</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to set the value(s) of variable `var`, the following error occurred: While trying to convert the value(s) `(1, 2)` to a numpy ndarray with shape `(2, 3)` and type `int`, the following error occurred: could not broadcast input array from shape (2,) into shape (2,3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_matrix</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="go">| 2, 2, 2 |</span>
<span class="go">| 2, 2, 2 |</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(0, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span>
<span class="go">array([], shape=(0, 0), dtype=...)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.variabletools.Variable.values">
<span class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></span><span class="sig-name descname"><span class="pre">values</span></span><a class="headerlink" href="#hydpy.core.variabletools.Variable.values" title="Link to this definition">¶</a></dt>
<dd><p>Alias for <a class="reference internal" href="#hydpy.core.variabletools.Variable.value" title="hydpy.core.variabletools.Variable.value"><code class="xref py py-const docutils literal notranslate"><span class="pre">value</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.variabletools.Variable.shape">
<span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#hydpy.core.variabletools.Variable.shape" title="Link to this definition">¶</a></dt>
<dd><p>A tuple containing the actual lengths of all dimensions.</p>
<p>Note that setting a new <a class="reference internal" href="#hydpy.core.variabletools.Variable.shape" title="hydpy.core.variabletools.Variable.shape"><code class="xref py py-const docutils literal notranslate"><span class="pre">shape</span></code></a> results in a loss of
the actual <a class="reference internal" href="#hydpy.core.variabletools.Variable.values" title="hydpy.core.variabletools.Variable.values"><code class="xref py py-const docutils literal notranslate"><span class="pre">values</span></code></a> of the respective <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> object.</p>
<p>First, we prepare a simple (not fully functional) <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> subclass:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.variabletools</span><span class="w"> </span><span class="kn">import</span> <span class="n">Variable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">Var</span><span class="p">(</span><span class="n">Variable</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">NDIM</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">... </span>    <span class="n">TYPE</span> <span class="o">=</span> <span class="nb">float</span>
<span class="gp">... </span>    <span class="n">initinfo</span> <span class="o">=</span> <span class="mf">3.0</span><span class="p">,</span> <span class="kc">True</span>
<span class="gp">... </span>    <span class="n">_CLS_FASTACCESS_PYTHON</span> <span class="o">=</span> <span class="n">FastAccess</span>
</pre></div>
</div>
<p>Initially, the shape of a new <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> object is unknown:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">hydpy.core.exceptiontools.AttributeNotReady</span>: <span class="n">Shape information for variable `var` can only be retrieved after it has been defined.</span>
</pre></div>
</div>
<p>For multidimensional objects, assigning shape information (as a
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> values) prepares the required array automatically.
Due to the <a class="reference internal" href="#hydpy.core.variabletools.Variable.initinfo" title="hydpy.core.variabletools.Variable.initinfo"><code class="xref py py-const docutils literal notranslate"><span class="pre">initinfo</span></code></a> surrogate of our test class,
the entries of this array are <cite>3.0</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">print_vector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(3,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="go">3.0, 3.0, 3.0</span>
</pre></div>
</div>
<p>For the <a class="reference internal" href="#hydpy.core.variabletools.Variable.initinfo" title="hydpy.core.variabletools.Variable.initinfo"><code class="xref py py-const docutils literal notranslate"><span class="pre">initinfo</span></code></a> flag (second <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> entry) being
<code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code>, the array is still prepared but not directly accessible
to the user:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">initinfo</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(3,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">values</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">hydpy.core.exceptiontools.AttributeNotReady</span>: <span class="n">For variable `var`, no values have been defined so far.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">var</span><span class="p">)</span>
<span class="go">nan, nan, nan</span>
</pre></div>
</div>
<p>Property <a class="reference internal" href="#hydpy.core.variabletools.Variable.shape" title="hydpy.core.variabletools.Variable.shape"><code class="xref py py-const docutils literal notranslate"><span class="pre">shape</span></code></a> tries to normalise assigned values and
raises errors like the following, if not possible:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="s2">&quot;x&quot;</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">While trying create a new numpy ndarray for variable `var`, the following error occurred: &#39;str&#39; object cannot be interpreted as an integer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">attrready</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attrready</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="s2">&quot;shape&quot;</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">var</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attrready</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="s2">&quot;shape&quot;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Variable `var` is 1-dimensional, but the given shape indicates `2` dimensions.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attrready</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="s2">&quot;shape&quot;</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">var</span>
</pre></div>
</div>
<p>0-dimensional <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> objects inform the user about their shape
but do not allow to change it for obvious reasons:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">Var</span><span class="p">(</span><span class="n">Variable</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">NDIM</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">... </span>    <span class="n">TYPE</span> <span class="o">=</span> <span class="nb">int</span>
<span class="gp">... </span>    <span class="n">initinfo</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="kc">True</span>
<span class="gp">... </span>    <span class="n">_CLS_FASTACCESS_PYTHON</span> <span class="o">=</span> <span class="n">FastAccess</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span>
<span class="go">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">hydpy.core.exceptiontools.AttributeNotReady</span>: <span class="n">For variable `var`, no value has been defined so far.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span>
<span class="go">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">The shape information of 0-dimensional variables as `var` can only be `()`, but `(2,)` is given.</span>
</pre></div>
</div>
<p>With a <code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code> <a class="reference internal" href="#hydpy.core.variabletools.Variable.initinfo" title="hydpy.core.variabletools.Variable.initinfo"><code class="xref py py-const docutils literal notranslate"><span class="pre">initinfo</span></code></a> flag, the default value is
still readily prepared after initialisation but not directly
accessible to the user:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">INT_NAN</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">initinfo</span> <span class="o">=</span> <span class="n">INT_NAN</span><span class="p">,</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span>
<span class="go">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attrready</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">var</span>
<span class="go">-999999</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span>
<span class="go">6</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">fastaccess</span><span class="o">.</span><span class="n">var</span>
<span class="go">-999999</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.variabletools.Variable.numberofvalues">
<span class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></span><span class="sig-name descname"><span class="pre">numberofvalues</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><a class="headerlink" href="#hydpy.core.variabletools.Variable.numberofvalues" title="Link to this definition">¶</a></dt>
<dd><p>The total number of values handled by the variable according to the current
shape.</p>
<p>We create an incomplete <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> subclass for testing:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.variabletools</span><span class="w"> </span><span class="kn">import</span> <span class="n">FastAccess</span><span class="p">,</span> <span class="n">Variable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">Var</span><span class="p">(</span><span class="n">Variable</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">TYPE</span> <span class="o">=</span> <span class="nb">float</span>
<span class="gp">... </span>    <span class="n">initinfo</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kc">False</span>
<span class="gp">... </span>    <span class="n">_CLS_FASTACCESS_PYTHON</span> <span class="o">=</span> <span class="n">FastAccess</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>0-dimensional variables always handle precisely one value:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">numberofvalues</span>
<span class="go">1</span>
</pre></div>
</div>
<p>For higher-dimensional variables, <a class="reference internal" href="#hydpy.core.variabletools.Variable.numberofvalues" title="hydpy.core.variabletools.Variable.numberofvalues"><code class="xref py py-const docutils literal notranslate"><span class="pre">numberofvalues</span></code></a> is the cumulative
product of the individual dimensons lengths:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">numberofvalues</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">numberofvalues</span>
<span class="go">8</span>
</pre></div>
</div>
<p>As long as the shape of a higher-dimensional variable is undefined,
<a class="reference internal" href="#hydpy.core.variabletools.Variable.numberofvalues" title="hydpy.core.variabletools.Variable.numberofvalues"><code class="xref py py-const docutils literal notranslate"><span class="pre">numberofvalues</span></code></a> is zero:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">numberofvalues</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.variabletools.Variable.verify">
<span class="sig-name descname"><span class="pre">verify</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/variabletools.html#Variable.verify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.variabletools.Variable.verify" title="Link to this definition">¶</a></dt>
<dd><p>Raise a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">RuntimeError</span></code></a> if at least one of the required values of a <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a>
object is <code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code> or <code class="xref py py-const docutils literal notranslate"><span class="pre">nan</span></code>.</p>
<p>The descriptor <a class="reference internal" href="#hydpy.core.variabletools.Variable.mask" title="hydpy.core.variabletools.Variable.mask"><code class="xref py py-func docutils literal notranslate"><span class="pre">mask()</span></code></a> defines which values are considered necessary.
For <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> subclasses defining <code class="xref py py-const docutils literal notranslate"><span class="pre">nan</span></code> as their <a class="reference internal" href="#hydpy.core.variabletools.Variable.INIT" title="hydpy.core.variabletools.Variable.INIT"><code class="xref py py-attr docutils literal notranslate"><span class="pre">INIT</span></code></a> value,
method <a class="reference internal" href="#hydpy.core.variabletools.Variable.verify" title="hydpy.core.variabletools.Variable.verify"><code class="xref py py-func docutils literal notranslate"><span class="pre">verify()</span></code></a> assumes that <code class="xref py py-const docutils literal notranslate"><span class="pre">nan</span></code> are not problematic.</p>
<p>Examples on a 0-dimensional <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.variabletools</span><span class="w"> </span><span class="kn">import</span> <span class="n">Variable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">Var</span><span class="p">(</span><span class="n">Variable</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">NDIM</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">... </span>    <span class="n">TYPE</span> <span class="o">=</span> <span class="nb">float</span>
<span class="gp">... </span>    <span class="n">initinfo</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kc">False</span>
<span class="gp">... </span>    <span class="n">_CLS_FASTACCESS_PYTHON</span> <span class="o">=</span> <span class="n">FastAccess</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">verify</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">verify</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">For variable `var`, 1 required value has not been set yet: var(nan).</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">INIT</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">verify</span><span class="p">()</span>
</pre></div>
</div>
<p>Examples on a 2-dimensional <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">verify</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">For variable `var`, 2 required values have not been set yet: var([[1.0, nan, 1.0], [1.0, nan, 1.0]]).</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">mask</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">mask</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">mask</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">verify</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">For variable `var`, 1 required value has not been set yet: var([[1.0, nan, 1.0], [1.0, nan, 1.0]]).</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">mask</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">verify</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.variabletools.Variable.valuevector">
<span class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></span><span class="sig-name descname"><span class="pre">valuevector</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><span class="pre">Any</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v2.4)"><span class="pre">dtype</span></a><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><a class="headerlink" href="#hydpy.core.variabletools.Variable.valuevector" title="Link to this definition">¶</a></dt>
<dd><p>The values of the actual <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> object, arranged in a 1-dimensional
vector.</p>
<p>For a 1-dimensional variable object, property <a class="reference internal" href="#hydpy.core.variabletools.Variable.valuevector" title="hydpy.core.variabletools.Variable.valuevector"><code class="xref py py-const docutils literal notranslate"><span class="pre">valuevector</span></code></a> returns
the original values without any modification:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.hland</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">simulationstep</span><span class="p">(</span><span class="s2">&quot;1d&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">(</span><span class="s2">&quot;1d&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nmbzones</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sclass</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">sm</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">print_vector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">states</span><span class="o">.</span><span class="n">sm</span><span class="o">.</span><span class="n">valuevector</span><span class="p">)</span>
<span class="go">1.0, 2.0, 3.0</span>
</pre></div>
</div>
<p>For all other variables, <a class="reference internal" href="#hydpy.core.variabletools.Variable.valuevector" title="hydpy.core.variabletools.Variable.valuevector"><code class="xref py py-const docutils literal notranslate"><span class="pre">valuevector</span></code></a> raises the following error by
default:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">uz</span><span class="o">.</span><span class="n">valuevector</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">NotImplementedError</span>: <span class="n">Variable `uz` does not implement a method for converting its values to a 1-dimensional vector.</span>
</pre></div>
</div>
<p>If considered appropriate, model developers should override
<a class="reference internal" href="#hydpy.core.variabletools.Variable.valuevector" title="hydpy.core.variabletools.Variable.valuevector"><code class="xref py py-const docutils literal notranslate"><span class="pre">valuevector</span></code></a> for individual multidimensional variables, to support
methods like <a class="reference internal" href="#hydpy.core.variabletools.Variable.average_values" title="hydpy.core.variabletools.Variable.average_values"><code class="xref py py-func docutils literal notranslate"><span class="pre">average_values()</span></code></a>, which rely on 1-dimensional data.  One
example is the state sequence <a class="reference internal" href="hland.html#hydpy.models.hland.hland_states.SP" title="hydpy.models.hland.hland_states.SP"><code class="xref py py-class docutils literal notranslate"><span class="pre">SP</span></code></a> of base model <a class="reference internal" href="hland.html#module-hydpy.models.hland" title="hydpy.models.hland"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hland</span></code></a>, which
handles values for individual zones (second axis) and snow classes (first axis).
Here we decided to let <a class="reference internal" href="hland.html#hydpy.models.hland.hland_sequences.State2DSequence.valuevector" title="hydpy.models.hland.hland_sequences.State2DSequence.valuevector"><code class="xref py py-const docutils literal notranslate"><span class="pre">valuevector</span></code></a> return the
sums of all snow classes for each zone so that the content of the returned
vector agrees with the contents of most 1-dimensional sequences of <a class="reference internal" href="hland.html#module-hydpy.models.hland" title="hydpy.models.hland"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hland</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">states</span><span class="o">.</span><span class="n">sp</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_vector</span><span class="p">(</span><span class="n">states</span><span class="o">.</span><span class="n">sp</span><span class="o">.</span><span class="n">valuevector</span><span class="p">)</span>
<span class="go">2.5, 3.5, 4.5</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.variabletools.Variable.refweights">
<span class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></span><span class="sig-name descname"><span class="pre">refweights</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="parametertools.html#hydpy.core.parametertools.Parameter" title="hydpy.core.parametertools.Parameter"><span class="pre">parametertools.Parameter</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">VectorFloat</span></span><a class="headerlink" href="#hydpy.core.variabletools.Variable.refweights" title="Link to this definition">¶</a></dt>
<dd><p>Reference to a <a class="reference internal" href="parametertools.html#hydpy.core.parametertools.Parameter" title="hydpy.core.parametertools.Parameter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parameter</span></code></a> object or a simple vector that defines weighting
coefficients (e.g. fractional areas) for applying function
<a class="reference internal" href="#hydpy.core.variabletools.Variable.average_values" title="hydpy.core.variabletools.Variable.average_values"><code class="xref py py-func docutils literal notranslate"><span class="pre">average_values()</span></code></a>.</p>
<p>Must be overwritten by subclasses when required.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.variabletools.Variable.average_values">
<span class="sig-name descname"><span class="pre">average_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/variabletools.html#Variable.average_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.variabletools.Variable.average_values" title="Link to this definition">¶</a></dt>
<dd><p>Average the actual values of the <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> object.</p>
<p>For 0-dimensional <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> objects, the result of method
<a class="reference internal" href="#hydpy.core.variabletools.Variable.average_values" title="hydpy.core.variabletools.Variable.average_values"><code class="xref py py-func docutils literal notranslate"><span class="pre">average_values()</span></code></a> equals <a class="reference internal" href="#hydpy.core.variabletools.Variable.value" title="hydpy.core.variabletools.Variable.value"><code class="xref py py-const docutils literal notranslate"><span class="pre">value</span></code></a>.  The following example shows
this for the poorly defined class <cite>SoilMoisture</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.variabletools</span><span class="w"> </span><span class="kn">import</span> <span class="n">Variable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">SoilMoisture</span><span class="p">(</span><span class="n">Variable</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">NDIM</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">... </span>    <span class="n">TYPE</span> <span class="o">=</span> <span class="nb">float</span>
<span class="gp">... </span>    <span class="n">refweigths</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">... </span>    <span class="n">availablemasks</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">... </span>    <span class="n">initinfo</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">... </span>    <span class="n">_CLS_FASTACCESS_PYTHON</span> <span class="o">=</span> <span class="n">FastAccess</span>
<span class="gp">... </span>    <span class="n">value</span> <span class="o">=</span> <span class="mf">200.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span> <span class="o">=</span> <span class="n">SoilMoisture</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span><span class="o">.</span><span class="n">average_values</span><span class="p">()</span>
<span class="go">200.0</span>
</pre></div>
</div>
<p>When the dimensionality of this class is increased to one, applying method
<a class="reference internal" href="#hydpy.core.variabletools.Variable.average_values" title="hydpy.core.variabletools.Variable.average_values"><code class="xref py py-func docutils literal notranslate"><span class="pre">average_values()</span></code></a> results in the following error:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">SoilMoisture</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">SoilMoisture</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">SoilMoisture</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">200.0</span><span class="p">,</span> <span class="mf">400.0</span><span class="p">,</span> <span class="mf">500.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span><span class="o">.</span><span class="n">average_values</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">AttributeError</span>: <span class="n">While trying to calculate the mean value of variable `soilmoisture`, the following error occurred: Variable `soilmoisture` does not define any weighting coefficients.</span>
</pre></div>
</div>
<p>So model developers have to define another (in this case 1-dimensional)
<a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> subclass (usually a <a class="reference internal" href="parametertools.html#hydpy.core.parametertools.Parameter" title="hydpy.core.parametertools.Parameter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parameter</span></code></a> subclass) and make the relevant
object available via property <a class="reference internal" href="#hydpy.core.variabletools.Variable.refweights" title="hydpy.core.variabletools.Variable.refweights"><code class="xref py py-const docutils literal notranslate"><span class="pre">refweights</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">Area</span><span class="p">(</span><span class="n">Variable</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">NDIM</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">... </span>    <span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)</span>
<span class="gp">... </span>    <span class="n">value</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">])</span>
<span class="gp">... </span>    <span class="n">initinfo</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">... </span>    <span class="n">_CLS_FASTACCESS_PYTHON</span> <span class="o">=</span> <span class="n">FastAccess</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">area</span> <span class="o">=</span> <span class="n">Area</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">SoilMoisture</span><span class="o">.</span><span class="n">refweights</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="n">area</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span><span class="o">.</span><span class="n">average_values</span><span class="p">()</span>
<span class="go">400.0</span>
</pre></div>
</div>
<p>In the examples above, all single entries of <cite>values</cite> are relevant, which is
the default case.  However, subclasses of <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> can define an alternative
mask, allowing to make some entries irrelevant. Assume, for example, that our
<cite>SoilMoisture</cite> object contains three single values, each one associated with a
specific hydrological response unit (hru).  To indicate that soil moisture is
undefined for the third unit (maybe because it is a water area), we set the
third entry of the verification mask to <code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.masktools</span><span class="w"> </span><span class="kn">import</span> <span class="n">DefaultMask</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">Soil</span><span class="p">(</span><span class="n">DefaultMask</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@classmethod</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="nf">new</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">variable</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">array2mask</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">SoilMoisture</span><span class="o">.</span><span class="n">mask</span> <span class="o">=</span> <span class="n">Soil</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span><span class="o">.</span><span class="n">average_values</span><span class="p">()</span>
<span class="go">300.0</span>
</pre></div>
</div>
<p>Alternatively, method <a class="reference internal" href="#hydpy.core.variabletools.Variable.average_values" title="hydpy.core.variabletools.Variable.average_values"><code class="xref py py-func docutils literal notranslate"><span class="pre">average_values()</span></code></a> accepts additional masking
information as positional or keyword arguments.  Therefore, the corresponding
model must implement some alternative masks, which are provided by property
<a class="reference internal" href="#hydpy.core.variabletools.Variable.availablemasks" title="hydpy.core.variabletools.Variable.availablemasks"><code class="xref py py-const docutils literal notranslate"><span class="pre">availablemasks</span></code></a>.  We mock this property with a new <a class="reference internal" href="masktools.html#hydpy.core.masktools.Masks" title="hydpy.core.masktools.Masks"><code class="xref py py-class docutils literal notranslate"><span class="pre">Masks</span></code></a> object,
handling one mask for flat soils (only the first hru), one mask for deep soils
(only the second hru), and one mask for water areas (only the third hru):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">FlatSoil</span><span class="p">(</span><span class="n">DefaultMask</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@classmethod</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="nf">new</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">variable</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">array2mask</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">DeepSoil</span><span class="p">(</span><span class="n">DefaultMask</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@classmethod</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="nf">new</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">variable</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">array2mask</span><span class="p">([</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">Water</span><span class="p">(</span><span class="n">DefaultMask</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@classmethod</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="nf">new</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">variable</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">array2mask</span><span class="p">([</span><span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">masktools</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">Masks</span><span class="p">(</span><span class="n">masktools</span><span class="o">.</span><span class="n">Masks</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">CLASSES</span> <span class="o">=</span> <span class="p">(</span><span class="n">FlatSoil</span><span class="p">,</span>
<span class="gp">... </span>               <span class="n">DeepSoil</span><span class="p">,</span>
<span class="gp">... </span>               <span class="n">Water</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">SoilMoisture</span><span class="o">.</span><span class="n">availablemasks</span> <span class="o">=</span> <span class="n">Masks</span><span class="p">()</span>
</pre></div>
</div>
<p>One can pass either the mask classes themselves or their names:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span><span class="o">.</span><span class="n">average_values</span><span class="p">(</span><span class="n">sm</span><span class="o">.</span><span class="n">availablemasks</span><span class="o">.</span><span class="n">flatsoil</span><span class="p">)</span>
<span class="go">200.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span><span class="o">.</span><span class="n">average_values</span><span class="p">(</span><span class="s2">&quot;deepsoil&quot;</span><span class="p">)</span>
<span class="go">400.0</span>
</pre></div>
</div>
<p>Both variants can be combined:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span><span class="o">.</span><span class="n">average_values</span><span class="p">(</span><span class="n">sm</span><span class="o">.</span><span class="n">availablemasks</span><span class="o">.</span><span class="n">deepsoil</span><span class="p">,</span> <span class="s2">&quot;flatsoil&quot;</span><span class="p">)</span>
<span class="go">300.0</span>
</pre></div>
</div>
<p>The following error happens if the general mask of the variable
does not contain the given masks:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span><span class="o">.</span><span class="n">average_values</span><span class="p">(</span><span class="s2">&quot;flatsoil&quot;</span><span class="p">,</span> <span class="s2">&quot;water&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to calculate the mean value of variable `soilmoisture`, the following error occurred: Based on the arguments `(&#39;flatsoil&#39;, &#39;water&#39;)` and `{}` the mask `CustomMask([ True, False,  True])` has been determined, which is not a submask of `Soil([ True,  True, False])`.</span>
</pre></div>
</div>
<p>Applying masks with custom options is also supported.  One can change the
behaviour of the following mask via the argument <cite>complete</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">AllOrNothing</span><span class="p">(</span><span class="n">DefaultMask</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@classmethod</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="nf">new</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">variable</span><span class="p">,</span> <span class="n">complete</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">if</span> <span class="n">complete</span><span class="p">:</span>
<span class="gp">... </span>            <span class="n">bools</span> <span class="o">=</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">]</span>
<span class="gp">... </span>        <span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>            <span class="n">bools</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">]</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">array2mask</span><span class="p">(</span><span class="n">bools</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">Masks</span><span class="p">(</span><span class="n">Masks</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">CLASSES</span> <span class="o">=</span> <span class="p">(</span><span class="n">FlatSoil</span><span class="p">,</span>
<span class="gp">... </span>               <span class="n">DeepSoil</span><span class="p">,</span>
<span class="gp">... </span>               <span class="n">Water</span><span class="p">,</span>
<span class="gp">... </span>               <span class="n">AllOrNothing</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">SoilMoisture</span><span class="o">.</span><span class="n">availablemasks</span> <span class="o">=</span> <span class="n">Masks</span><span class="p">()</span>
</pre></div>
</div>
<p>Again, one can apply the mask class directly (but note that one has to pass the
relevant variable as the first argument):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span><span class="o">.</span><span class="n">average_values</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sm</span><span class="o">.</span><span class="n">availablemasks</span><span class="o">.</span><span class="n">allornothing</span><span class="p">(</span><span class="n">sm</span><span class="p">,</span> <span class="n">complete</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to...</span>
</pre></div>
</div>
<p>Alternatively, one can pass the mask name as a keyword and pack the mask’s
options into a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> object:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span><span class="o">.</span><span class="n">average_values</span><span class="p">(</span><span class="n">allornothing</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;complete&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
<span class="go">nan</span>
</pre></div>
</div>
<p>You can combine all variants explained above:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span><span class="o">.</span><span class="n">average_values</span><span class="p">(</span><span class="s2">&quot;deepsoil&quot;</span><span class="p">,</span> <span class="n">flatsoil</span><span class="o">=</span><span class="p">{},</span> <span class="n">allornothing</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;complete&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
<span class="go">300.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.variabletools.Variable.availablemasks">
<span class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></span><span class="sig-name descname"><span class="pre">availablemasks</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="masktools.html#hydpy.core.masktools.Masks" title="hydpy.core.masktools.Masks"><span class="pre">Masks</span></a></span><a class="headerlink" href="#hydpy.core.variabletools.Variable.availablemasks" title="Link to this definition">¶</a></dt>
<dd><p>For <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.ModelSequence" title="hydpy.core.sequencetools.ModelSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelSequence</span></code></a> objects, a <a class="reference internal" href="masktools.html#hydpy.core.masktools.Masks" title="hydpy.core.masktools.Masks"><code class="xref py py-class docutils literal notranslate"><span class="pre">Masks</span></code></a> object provided by the corresponding
<a class="reference internal" href="modeltools.html#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> object; for <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.NodeSequence" title="hydpy.core.sequencetools.NodeSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeSequence</span></code></a> object, a suitable <a class="reference internal" href="masktools.html#hydpy.core.masktools.DefaultMask" title="hydpy.core.masktools.DefaultMask"><code class="xref py py-class docutils literal notranslate"><span class="pre">DefaultMask</span></code></a>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.testtools</span><span class="w"> </span><span class="kn">import</span> <span class="n">prepare_full_example_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="p">,</span> <span class="n">pub</span><span class="p">,</span> <span class="n">TestIO</span> <span class="o">=</span> <span class="n">prepare_full_example_2</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="p">[</span><span class="s2">&quot;land_dill_assl&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">fc</span><span class="o">.</span><span class="n">availablemasks</span>
<span class="go">complete of module hydpy.models.hland.hland_masks</span>
<span class="go">land of module hydpy.models.hland.hland_masks</span>
<span class="go">upperzone of module hydpy.models.hland.hland_masks</span>
<span class="go">snow of module hydpy.models.hland.hland_masks</span>
<span class="go">soil of module hydpy.models.hland.hland_masks</span>
<span class="go">field of module hydpy.models.hland.hland_masks</span>
<span class="go">forest of module hydpy.models.hland.hland_masks</span>
<span class="go">ilake of module hydpy.models.hland.hland_masks</span>
<span class="go">glacier of module hydpy.models.hland.hland_masks</span>
<span class="go">sealed of module hydpy.models.hland.hland_masks</span>
<span class="go">noglacier of module hydpy.models.hland.hland_masks</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill_assl</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">availablemasks</span>
<span class="go">defaultmask of module hydpy.core.masktools</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.variabletools.Variable.get_submask">
<span class="sig-name descname"><span class="pre">get_submask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="masktools.html#hydpy.core.masktools.CustomMask" title="hydpy.core.masktools.CustomMask"><span class="pre">CustomMask</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="masktools.html#hydpy.core.masktools.DefaultMask" title="hydpy.core.masktools.DefaultMask"><span class="pre">DefaultMask</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/variabletools.html#Variable.get_submask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.variabletools.Variable.get_submask" title="Link to this definition">¶</a></dt>
<dd><p>Get a sub-mask of the mask handled by the actual <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> object based on
the given arguments.</p>
<p>See the documentation on method <a class="reference internal" href="#hydpy.core.variabletools.Variable.average_values" title="hydpy.core.variabletools.Variable.average_values"><code class="xref py py-func docutils literal notranslate"><span class="pre">average_values()</span></code></a> for further
information.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.variabletools.MixinFixedShape">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">hydpy.core.variabletools.</span></span><span class="sig-name descname"><span class="pre">MixinFixedShape</span></span><a class="reference internal" href="_modules/hydpy/core/variabletools.html#MixinFixedShape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.variabletools.MixinFixedShape" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Mixin class for defining variables with a fixed shape.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.variabletools.MixinFixedShape.SHAPE">
<span class="sig-name descname"><span class="pre">SHAPE</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span><a class="headerlink" href="#hydpy.core.variabletools.MixinFixedShape.SHAPE" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.variabletools.MixinFixedShape.name">
<span class="sig-name descname"><span class="pre">name</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><a class="headerlink" href="#hydpy.core.variabletools.MixinFixedShape.name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.variabletools.MixinFixedShape.shape">
<span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#hydpy.core.variabletools.MixinFixedShape.shape" title="Link to this definition">¶</a></dt>
<dd><p>Variables that mix in <a class="reference internal" href="#hydpy.core.variabletools.MixinFixedShape" title="hydpy.core.variabletools.MixinFixedShape"><code class="xref py py-class docutils literal notranslate"><span class="pre">MixinFixedShape</span></code></a> are generally initialised with a
fixed shape.</p>
<p>We take parameter <a class="reference internal" href="kinw.html#hydpy.models.kinw.kinw_control.BV" title="hydpy.models.kinw.kinw_control.BV"><code class="xref py py-class docutils literal notranslate"><span class="pre">BV</span></code></a> of base model <a class="reference internal" href="kinw.html#module-hydpy.models.kinw" title="hydpy.models.kinw"><code class="xref py py-mod docutils literal notranslate"><span class="pre">kinw</span></code></a> and sequence
<a class="reference internal" href="exch.html#hydpy.models.exch.exch_factors.WaterLevels" title="hydpy.models.exch.exch_factors.WaterLevels"><code class="xref py py-class docutils literal notranslate"><span class="pre">WaterLevels</span></code></a> of base model <a class="reference internal" href="exch.html#module-hydpy.models.exch" title="hydpy.models.exch"><code class="xref py py-mod docutils literal notranslate"><span class="pre">exch</span></code></a> as examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">prepare_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;kinw&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">bv</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(2,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">waterlevels</span> <span class="o">=</span> <span class="n">prepare_model</span><span class="p">(</span><span class="s2">&quot;exch&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">factors</span><span class="o">.</span><span class="n">waterlevels</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">waterlevels</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(2,)</span>
</pre></div>
</div>
<p>If we try to set a new shape, <a class="reference internal" href="#hydpy.core.variabletools.MixinFixedShape" title="hydpy.core.variabletools.MixinFixedShape"><code class="xref py py-class docutils literal notranslate"><span class="pre">MixinFixedShape</span></code></a> responds with the following
exceptions:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">waterlevels</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">AttributeError</span>: <span class="n">The shape of variable `waterlevels` cannot be changed but this was attempted for element `?`.</span>
</pre></div>
</div>
<p>See the documentation on property <a class="reference internal" href="#hydpy.core.variabletools.Variable.shape" title="hydpy.core.variabletools.Variable.shape"><code class="xref py py-const docutils literal notranslate"><span class="pre">shape</span></code></a> of class <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> for
further information.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.core.variabletools.sort_variables">
<span class="sig-prename descclassname"><span class="pre">hydpy.core.variabletools.</span></span><span class="sig-name descname"><span class="pre">sort_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" title="(in Python v3.14)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.14)"><span class="pre">type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">TypeVariable</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.14)"><span class="pre">type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">TypeVariable</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.14)"><span class="pre">type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">TypeVariable</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.14)"><span class="pre">type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">TypeVariable</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/hydpy/core/variabletools.html#sort_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.variabletools.sort_variables" title="Link to this definition">¶</a></dt>
<dd><p>Sort the given <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> subclasses by their initialisation order.</p>
<p>When defined in one module, the initialisation order corresponds to the order
within the file:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">classname</span><span class="p">,</span> <span class="n">sort_variables</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.hland.hland_control</span><span class="w"> </span><span class="kn">import</span> <span class="n">Area</span><span class="p">,</span> <span class="n">NmbZones</span><span class="p">,</span> <span class="n">ZoneType</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">classname</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">sort_variables</span><span class="p">([</span><span class="n">NmbZones</span><span class="p">,</span> <span class="n">ZoneType</span><span class="p">,</span> <span class="n">Area</span><span class="p">]):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">classname</span><span class="p">(</span><span class="n">var</span><span class="p">))</span>
<span class="go">Area</span>
<span class="go">NmbZones</span>
<span class="go">ZoneType</span>
</pre></div>
</div>
<p>When defined in multiple modules, alphabetical sorting of the modules’ filepaths
takes priority:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.evap.evap_control</span><span class="w"> </span><span class="kn">import</span> <span class="n">NmbHRU</span><span class="p">,</span> <span class="n">ExcessReduction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">sort_variables</span><span class="p">([</span><span class="n">NmbZones</span><span class="p">,</span> <span class="n">ZoneType</span><span class="p">,</span> <span class="n">Area</span><span class="p">,</span> <span class="n">NmbHRU</span><span class="p">,</span> <span class="n">ExcessReduction</span><span class="p">]):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">classname</span><span class="p">(</span><span class="n">var</span><span class="p">))</span>
<span class="go">NmbHRU</span>
<span class="go">ExcessReduction</span>
<span class="go">Area</span>
<span class="go">NmbZones</span>
<span class="go">ZoneType</span>
</pre></div>
</div>
<p>Function <a class="reference internal" href="#hydpy.core.variabletools.sort_variables" title="hydpy.core.variabletools.sort_variables"><code class="xref py py-func docutils literal notranslate"><span class="pre">sort_variables()</span></code></a> also supports sorting tuples.  Each first entry must be
a <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> subclass:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">var</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">sort_variables</span><span class="p">([(</span><span class="n">NmbZones</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="n">ZoneType</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="n">Area</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">classname</span><span class="p">(</span><span class="n">var</span><span class="p">),</span> <span class="n">i</span><span class="p">)</span>
<span class="go">Area 3</span>
<span class="go">NmbZones 1</span>
<span class="go">ZoneType 2</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">var</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">sort_variables</span><span class="p">([(</span><span class="n">NmbZones</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="n">ZoneType</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="n">Area</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">classname</span><span class="p">(</span><span class="n">var</span><span class="p">),</span> <span class="n">i</span><span class="p">)</span>
<span class="go">Area 3</span>
<span class="go">NmbZones 1</span>
<span class="go">ZoneType 2</span>
</pre></div>
</div>
<p><a class="reference internal" href="#hydpy.core.variabletools.sort_variables" title="hydpy.core.variabletools.sort_variables"><code class="xref py py-func docutils literal notranslate"><span class="pre">sort_variables()</span></code></a> does not remove duplicates:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">var</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">sort_variables</span><span class="p">([(</span><span class="n">Area</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="n">ZoneType</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="n">Area</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="n">Area</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">classname</span><span class="p">(</span><span class="n">var</span><span class="p">),</span> <span class="n">i</span><span class="p">)</span>
<span class="go">Area 1</span>
<span class="go">Area 3</span>
<span class="go">Area 3</span>
<span class="go">ZoneType 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.variabletools.SubVariables">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">hydpy.core.variabletools.</span></span><span class="sig-name descname"><span class="pre">SubVariables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">master</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">TypeGroup_co</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cls_fastaccess</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.14)"><span class="pre">type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">TypeFastAccess_co</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/core/variabletools.html#SubVariables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.variabletools.SubVariables" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Generic" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generic</span></code></a>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">TypeGroup_co</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">TypeVariable_co</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">TypeFastAccess_co</span></code>]</p>
<p>Base class for <a class="reference internal" href="parametertools.html#hydpy.core.parametertools.SubParameters" title="hydpy.core.parametertools.SubParameters"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubParameters</span></code></a> and <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.SubSequences" title="hydpy.core.sequencetools.SubSequences"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubSequences</span></code></a>.</p>
<p>Each subclass of class <a class="reference internal" href="#hydpy.core.variabletools.SubVariables" title="hydpy.core.variabletools.SubVariables"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubVariables</span></code></a> is thought for handling a certain group of
<a class="reference internal" href="parametertools.html#hydpy.core.parametertools.Parameter" title="hydpy.core.parametertools.Parameter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parameter</span></code></a> or <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sequence_" title="hydpy.core.sequencetools.Sequence_"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence_</span></code></a> objects.  One specific example is subclass
<a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.InputSequences" title="hydpy.core.sequencetools.InputSequences"><code class="xref py py-class docutils literal notranslate"><span class="pre">InputSequences</span></code></a>, collecting all <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.InputSequence" title="hydpy.core.sequencetools.InputSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">InputSequence</span></code></a> objects of a
specific hydrological model.</p>
<p>For the following examples, we first prepare a (not fully functional) <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a>
subclass:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.variabletools</span><span class="w"> </span><span class="kn">import</span> <span class="n">FastAccess</span><span class="p">,</span> <span class="n">SubVariables</span><span class="p">,</span> <span class="n">Variable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">TestVar</span><span class="p">(</span><span class="n">Variable</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">NDIM</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">... </span>    <span class="n">TYPE</span> <span class="o">=</span> <span class="nb">float</span>
<span class="gp">... </span>    <span class="n">initinfo</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kc">False</span>
<span class="gp">... </span>    <span class="n">_CLS_FASTACCESS_PYTHON</span> <span class="o">=</span> <span class="n">FastAccess</span>
</pre></div>
</div>
<p>Out test <a class="reference internal" href="#hydpy.core.variabletools.SubVariables" title="hydpy.core.variabletools.SubVariables"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubVariables</span></code></a> subclass is thought to handle only this
single <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> subclass, indicated by putting it into the
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> class attribute <cite>CLASSES</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">SubVars</span><span class="p">(</span><span class="n">SubVariables</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">CLASSES</span> <span class="o">=</span> <span class="p">(</span><span class="n">TestVar</span><span class="p">,)</span>
<span class="gp">... </span>    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;subvars&quot;</span>
<span class="gp">... </span>    <span class="n">_CLS_FASTACCESS_PYTHON</span> <span class="o">=</span> <span class="n">FastAccess</span>
</pre></div>
</div>
<p>After initialisation, <a class="reference internal" href="#hydpy.core.variabletools.SubVariables" title="hydpy.core.variabletools.SubVariables"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubVariables</span></code></a> objects reference their master object (either
a <a class="reference internal" href="parametertools.html#hydpy.core.parametertools.Parameters" title="hydpy.core.parametertools.Parameters"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parameters</span></code></a> or a <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sequences" title="hydpy.core.sequencetools.Sequences"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequences</span></code></a> object), passed to their constructor. However, in
our simple test example, we just passed a string instead:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">subvars</span> <span class="o">=</span> <span class="n">SubVars</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subvars</span><span class="o">.</span><span class="n">vars</span>
<span class="go">&#39;test&#39;</span>
</pre></div>
</div>
<p>The string representation lists all available variables and uses question marks to
indicate cases where their values are not readily available:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">subvars</span>
<span class="go">testvar(?)</span>
</pre></div>
</div>
<p>Class <a class="reference internal" href="#hydpy.core.variabletools.SubVariables" title="hydpy.core.variabletools.SubVariables"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubVariables</span></code></a> provides attribute access to the handled <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> objects
and protects <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> objects from accidental overwriting:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">subvars</span><span class="o">.</span><span class="n">testvar</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subvars</span><span class="o">.</span><span class="n">testvar</span>
<span class="go">testvar(3.0)</span>
</pre></div>
</div>
<p>Trying to query not available <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> objects (or other attributes) results in
the following error message:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">subvars</span><span class="o">.</span><span class="n">wrong</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">AttributeError</span>: <span class="n">Collection object `subvars` does neither handle a variable nor another attribute named wrong.</span>
</pre></div>
</div>
<p>Class <a class="reference internal" href="#hydpy.core.variabletools.SubVariables" title="hydpy.core.variabletools.SubVariables"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubVariables</span></code></a> protects only the handled <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> objects from overwriting
with unplausible data:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">subvars</span><span class="o">.</span><span class="n">vars</span> <span class="o">=</span> <span class="s2">&quot;wrong&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subvars</span><span class="o">.</span><span class="n">vars</span>
<span class="go">&#39;wrong&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">subvars</span><span class="o">.</span><span class="n">testvar</span> <span class="o">=</span> <span class="s2">&quot;wrong&quot;</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to set the value(s) of variable `testvar`, the following error occurred: 5 values are assigned to the scalar variable `testvar`.</span>
</pre></div>
</div>
<p>Alternatively, you can item-access a variable:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">subvars</span><span class="p">[</span><span class="s2">&quot;testvar&quot;</span><span class="p">]</span>
<span class="go">testvar(3.0)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">subvars</span><span class="p">[</span><span class="s2">&quot;wrong&quot;</span><span class="p">]</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">AttributeError</span>: <span class="n">Collection object `subvars` does not handle a variable named `wrong`.</span>
</pre></div>
</div>
<p>Class <a class="reference internal" href="#hydpy.core.variabletools.SubVariables" title="hydpy.core.variabletools.SubVariables"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubVariables</span></code></a> supporte iteration and the application of the <a class="reference external" href="https://docs.python.org/3/library/functions.html#len" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">len()</span></code></a> operator:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">subvars</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">variable</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="go">testvar</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">subvars</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.variabletools.SubVariables.vars">
<span class="sig-name descname"><span class="pre">vars</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">TypeGroup_co</span></span><a class="headerlink" href="#hydpy.core.variabletools.SubVariables.vars" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.variabletools.SubVariables.name">
<span class="property"><span class="k"><span class="pre">abstract</span></span><span class="w"> </span><span class="k"><span class="pre">property</span></span><span class="w"> </span></span><span class="sig-name descname"><span class="pre">name</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><a class="headerlink" href="#hydpy.core.variabletools.SubVariables.name" title="Link to this definition">¶</a></dt>
<dd><p>To be overridden.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.variabletools.SubVariables.names">
<span class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></span><span class="sig-name descname"><span class="pre">names</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#frozenset" title="(in Python v3.14)"><span class="pre">frozenset</span></a></span><a class="reference internal" href="_modules/hydpy/core/variabletools.html#SubVariables.names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.variabletools.SubVariables.names" title="Link to this definition">¶</a></dt>
<dd><p>The names of all handled variables.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.core.variabletools.to_repr">
<span class="sig-prename descclassname"><span class="pre">hydpy.core.variabletools.</span></span><span class="sig-name descname"><span class="pre">to_repr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><span class="pre">Variable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">brackets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/variabletools.html#to_repr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.variabletools.to_repr" title="Link to this definition">¶</a></dt>
<dd><p>Return a valid string representation for the given <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> object.</p>
<p>Function <a class="reference internal" href="#hydpy.core.variabletools.to_repr" title="hydpy.core.variabletools.to_repr"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_repr()</span></code></a> is thought for internal purposes only, more specifically for
defining string representations of subclasses of class <a class="reference internal" href="#hydpy.core.variabletools.Variable" title="hydpy.core.variabletools.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a> like the
following:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.variabletools</span><span class="w"> </span><span class="kn">import</span> <span class="n">to_repr</span><span class="p">,</span> <span class="n">Variable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">Var</span><span class="p">(</span><span class="n">Variable</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">NDIM</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">... </span>    <span class="n">TYPE</span> <span class="o">=</span> <span class="nb">int</span>
<span class="gp">... </span>    <span class="n">initinfo</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="kc">False</span>
<span class="gp">... </span>    <span class="n">_CLS_FASTACCESS_PYTHON</span> <span class="o">=</span> <span class="n">FastAccess</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span>
<span class="go">var(2)</span>
</pre></div>
</div>
<p>The following examples demonstrate all covered cases.  Note that option <cite>brackets</cite>
allows choosing between a “vararg” and an “iterable” string representation for
multidimensional variables:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">to_repr</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">var(2)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">to_repr</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">var(0, 1, 2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">to_repr</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="kc">True</span><span class="p">))</span>
<span class="go">var([0, 1, 2])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">to_repr</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">)))</span>
<span class="go">var(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18,</span>
<span class="go">    19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">to_repr</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> <span class="kc">True</span><span class="p">))</span>
<span class="go">var([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18,</span>
<span class="go">     19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Var</span><span class="o">.</span><span class="n">NDIM</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">to_repr</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="p">[</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">)]))</span>
<span class="go">var(0, 1, 2,</span>
<span class="go">    3, 4, 5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">to_repr</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="p">[</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">)],</span> <span class="kc">True</span><span class="p">))</span>
<span class="go">var([[0, 1, 2],</span>
<span class="go">     [3, 4, 5]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">to_repr</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="p">[</span><span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">60</span><span class="p">)],</span> <span class="kc">True</span><span class="p">))</span>
<span class="go">var([[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18,</span>
<span class="go">      19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29],</span>
<span class="go">     [30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45,</span>
<span class="go">      46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">to_repr</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="p">[</span><span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">60</span><span class="p">)]))</span>
<span class="go">var(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18,</span>
<span class="go">    19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29,</span>
<span class="go">    30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46,</span>
<span class="go">    47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59)</span>
</pre></div>
</div>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="execution.html" title="Execution Tools"
             >next</a> |</li>
        <li class="right" >
          <a href="typingtools.html" title="typingtools"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">HydPy 6.2.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="reference_manual.html" >Reference Manual</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="framework_tools.html" >Framework Tools</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="core.html" >Core Tools</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">variabletools</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2013-2025, HydPy Developers.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 9.0.4.
    </div>
  </body>
</html>
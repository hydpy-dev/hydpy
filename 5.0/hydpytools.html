<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>hydpytools &#8212; HydPy 5.0.3 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css?v=127cebf3" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=eafc0fe6" />
    
    <script src="_static/documentation_options.js?v=f98c4cc8"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="importtools" href="importtools.html" />
    <link rel="prev" title="filetools" href="filetools.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="importtools.html" title="importtools"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="filetools.html" title="filetools"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">HydPy 5.0.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="framework.html" >Framework Tools</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="core.html" accesskey="U">Core Tools</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">hydpytools</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/HydPy_Logo.png" alt="Logo"/>
            </a></p>
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="how_to.html">How to…</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="framework.html">Framework Tools</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="core.html">Core Tools</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="aliastools.html">aliastools</a></li>
<li class="toctree-l3"><a class="reference internal" href="autodoctools.html">autodoctools</a></li>
<li class="toctree-l3"><a class="reference internal" href="auxfiletools.html">auxfiletools</a></li>
<li class="toctree-l3"><a class="reference internal" href="devicetools.html">devicetools</a></li>
<li class="toctree-l3"><a class="reference internal" href="exceptiontools.html">exceptiontools</a></li>
<li class="toctree-l3"><a class="reference internal" href="filetools.html">filetools</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">hydpytools</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy"><code class="docutils literal notranslate"><span class="pre">HydPy</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.deviceorder"><code class="docutils literal notranslate"><span class="pre">HydPy.deviceorder</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.nodes"><code class="docutils literal notranslate"><span class="pre">HydPy.nodes</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.elements"><code class="docutils literal notranslate"><span class="pre">HydPy.elements</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_everything"><code class="docutils literal notranslate"><span class="pre">HydPy.prepare_everything()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_network"><code class="docutils literal notranslate"><span class="pre">HydPy.prepare_network()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_models"><code class="docutils literal notranslate"><span class="pre">HydPy.prepare_models()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.init_models"><code class="docutils literal notranslate"><span class="pre">HydPy.init_models()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_controls"><code class="docutils literal notranslate"><span class="pre">HydPy.save_controls()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_conditions"><code class="docutils literal notranslate"><span class="pre">HydPy.load_conditions()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_conditions"><code class="docutils literal notranslate"><span class="pre">HydPy.save_conditions()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.trim_conditions"><code class="docutils literal notranslate"><span class="pre">HydPy.trim_conditions()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.reset_conditions"><code class="docutils literal notranslate"><span class="pre">HydPy.reset_conditions()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.conditions"><code class="docutils literal notranslate"><span class="pre">HydPy.conditions</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.networkproperties"><code class="docutils literal notranslate"><span class="pre">HydPy.networkproperties</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.print_networkproperties"><code class="docutils literal notranslate"><span class="pre">HydPy.print_networkproperties()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.endnodes"><code class="docutils literal notranslate"><span class="pre">HydPy.endnodes</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.segregatednetworks"><code class="docutils literal notranslate"><span class="pre">HydPy.segregatednetworks</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.variables"><code class="docutils literal notranslate"><span class="pre">HydPy.variables</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.modeltypes"><code class="docutils literal notranslate"><span class="pre">HydPy.modeltypes</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.update_devices"><code class="docutils literal notranslate"><span class="pre">HydPy.update_devices()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.methodorder"><code class="docutils literal notranslate"><span class="pre">HydPy.methodorder</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.simulate"><code class="docutils literal notranslate"><span class="pre">HydPy.simulate()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.doit"><code class="docutils literal notranslate"><span class="pre">HydPy.doit()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_allseries"><code class="docutils literal notranslate"><span class="pre">HydPy.prepare_allseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_modelseries"><code class="docutils literal notranslate"><span class="pre">HydPy.prepare_modelseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_inputseries"><code class="docutils literal notranslate"><span class="pre">HydPy.prepare_inputseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_factorseries"><code class="docutils literal notranslate"><span class="pre">HydPy.prepare_factorseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_fluxseries"><code class="docutils literal notranslate"><span class="pre">HydPy.prepare_fluxseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_stateseries"><code class="docutils literal notranslate"><span class="pre">HydPy.prepare_stateseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_nodeseries"><code class="docutils literal notranslate"><span class="pre">HydPy.prepare_nodeseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_simseries"><code class="docutils literal notranslate"><span class="pre">HydPy.prepare_simseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_obsseries"><code class="docutils literal notranslate"><span class="pre">HydPy.prepare_obsseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_allseries"><code class="docutils literal notranslate"><span class="pre">HydPy.save_allseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_modelseries"><code class="docutils literal notranslate"><span class="pre">HydPy.save_modelseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_inputseries"><code class="docutils literal notranslate"><span class="pre">HydPy.save_inputseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_factorseries"><code class="docutils literal notranslate"><span class="pre">HydPy.save_factorseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_fluxseries"><code class="docutils literal notranslate"><span class="pre">HydPy.save_fluxseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_stateseries"><code class="docutils literal notranslate"><span class="pre">HydPy.save_stateseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_nodeseries"><code class="docutils literal notranslate"><span class="pre">HydPy.save_nodeseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_simseries"><code class="docutils literal notranslate"><span class="pre">HydPy.save_simseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_obsseries"><code class="docutils literal notranslate"><span class="pre">HydPy.save_obsseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_allseries"><code class="docutils literal notranslate"><span class="pre">HydPy.load_allseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_modelseries"><code class="docutils literal notranslate"><span class="pre">HydPy.load_modelseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_inputseries"><code class="docutils literal notranslate"><span class="pre">HydPy.load_inputseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_factorseries"><code class="docutils literal notranslate"><span class="pre">HydPy.load_factorseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_fluxseries"><code class="docutils literal notranslate"><span class="pre">HydPy.load_fluxseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_stateseries"><code class="docutils literal notranslate"><span class="pre">HydPy.load_stateseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_nodeseries"><code class="docutils literal notranslate"><span class="pre">HydPy.load_nodeseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_simseries"><code class="docutils literal notranslate"><span class="pre">HydPy.load_simseries()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_obsseries"><code class="docutils literal notranslate"><span class="pre">HydPy.load_obsseries()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.core.hydpytools.create_directedgraph"><code class="docutils literal notranslate"><span class="pre">create_directedgraph()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="importtools.html">importtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="indextools.html">indextools</a></li>
<li class="toctree-l3"><a class="reference internal" href="itemtools.html">itemtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="masktools.html">masktools</a></li>
<li class="toctree-l3"><a class="reference internal" href="modeltools.html">modeltools</a></li>
<li class="toctree-l3"><a class="reference internal" href="netcdftools.html">netcdftools</a></li>
<li class="toctree-l3"><a class="reference internal" href="objecttools.html">objecttools</a></li>
<li class="toctree-l3"><a class="reference internal" href="optiontools.html">optiontools</a></li>
<li class="toctree-l3"><a class="reference internal" href="parametertools.html">parametertools</a></li>
<li class="toctree-l3"><a class="reference internal" href="printtools.html">printtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="propertytools.html">propertytools</a></li>
<li class="toctree-l3"><a class="reference internal" href="pubtools.html">pubtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="selectiontools.html">selectiontools</a></li>
<li class="toctree-l3"><a class="reference internal" href="sequencetools.html">sequencetools</a></li>
<li class="toctree-l3"><a class="reference internal" href="seriestools.html">seriestools</a></li>
<li class="toctree-l3"><a class="reference internal" href="testtools.html">testtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="timetools.html">timetools</a></li>
<li class="toctree-l3"><a class="reference internal" href="typingtools.html">typingtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="variabletools.html">variabletools</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="execution.html">Execution Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="cythons.html">Cython Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxiliaries.html">Auxiliary Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Configuration Tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modelcollection.html">Model Collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Example Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="zbibliography.html">Bibliography</a></li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="filetools.html"
                          title="previous chapter">filetools</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="importtools.html"
                          title="next chapter">importtools</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/hydpytools.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="hydpytools">
<span id="id1"></span><h1>hydpytools<a class="headerlink" href="#hydpytools" title="Link to this heading">¶</a></h1>
<p id="module-hydpy.core.hydpytools">This module implements the main features for managing <em>HydPy</em> projects.</p>
<p>Module <a class="reference internal" href="#module-hydpy.core.hydpytools" title="hydpy.core.hydpytools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hydpytools</span></code></a> implements the following members:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a> The main class for managing <em>HydPy</em> projects.</p></li>
<li><p><a class="reference internal" href="#hydpy.core.hydpytools.create_directedgraph" title="hydpy.core.hydpytools.create_directedgraph"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_directedgraph()</span></code></a> Create a directed graph based on the given devices.</p></li>
</ul>
</div></blockquote>
<hr class="docutils" />
<dl class="py class">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.core.hydpytools.</span></span><span class="sig-name descname"><span class="pre">HydPy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">projectname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>The main class for managing <em>HydPy</em> projects.</p>
<p>In typical <em>HydPy</em> projects, one prepares a single instance of class <a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a>.  This
instance, which we name “hp” throughout this documentation instead of “hydpy” to
avoid a naming collision with the <cite>hydpy</cite> site package, provides many convenient
methods to perform tasks like reading time-series data or starting simulation runs.
Additionally, it serves as a root to access most details of a <em>HydPy</em> project,
allowing for more granular control over the framework features.</p>
<p>We elaborate these short explanations by using the <cite>LahnH</cite> example project.
Calling function <a class="reference internal" href="examples.html#hydpy.examples.prepare_full_example_1" title="hydpy.examples.prepare_full_example_1"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_full_example_1()</span></code></a> copies the complete example project
<cite>LahnH</cite> into the <cite>iotesting</cite> directory of the <em>HydPy</em> site package (alternatively,
you can copy the <cite>LahnH</cite> example project, which can be found in subpackage <cite>data</cite>,
into a working directory of your choice):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.examples</span> <span class="kn">import</span> <span class="n">prepare_full_example_1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prepare_full_example_1</span><span class="p">()</span>
</pre></div>
</div>
<p>At first, the <a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a> instance needs to know the name of the relevant project,
which is identical to the name of the project’s root directory.  Pass <cite>LahnH</cite> to
the constructor of class <a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">HydPy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span> <span class="o">=</span> <span class="n">HydPy</span><span class="p">(</span><span class="s2">&quot;LahnH&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>So far, our <a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a> instance does not know any project configurations except its
name.  Most of this information would be available via properties <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.nodes" title="hydpy.core.hydpytools.HydPy.nodes"><code class="xref py py-const docutils literal notranslate"><span class="pre">nodes</span></code></a> and
<a class="reference internal" href="#hydpy.core.hydpytools.HydPy.elements" title="hydpy.core.hydpytools.HydPy.elements"><code class="xref py py-const docutils literal notranslate"><span class="pre">elements</span></code></a>, but we get the following error responses if we try to access them:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">AttributeError</span>: <span class="n">The actual HydPy instance does not handle any nodes at the moment.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">AttributeError</span>: <span class="n">The actual HydPy instance does not handle any elements at the moment.</span>
</pre></div>
</div>
<p>One could continue rather quickly by calling the method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_everything" title="hydpy.core.hydpytools.HydPy.prepare_everything"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_everything()</span></code></a>,
which would make our <a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a> instance ready for its first simulation run in one go.
However, we prefer to continue step by step by calling the more specific
preparation methods, which offers more flexibility.</p>
<p>First, the <a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a> instance needs to know the relevant <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> and <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> objects.
Method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_network" title="hydpy.core.hydpytools.HydPy.prepare_network"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_network()</span></code></a> reads this information from so-called “network
files”.  Then, the <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> and <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> objects connect automatically and thereby
define the topology or the network structure of the project (see the documentation
on class <a class="reference internal" href="filetools.html#hydpy.core.filetools.NetworkManager" title="hydpy.core.filetools.NetworkManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">NetworkManager</span></code></a> and module <a class="reference internal" href="devicetools.html#module-hydpy.core.devicetools" title="hydpy.core.devicetools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">devicetools</span></code></a> for more detailed  explanations):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">TestIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">prepare_network</span><span class="p">()</span>
</pre></div>
</div>
<p>(Using the “with” statement in combination with class <a class="reference internal" href="testtools.html#hydpy.core.testtools.TestIO" title="hydpy.core.testtools.TestIO"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestIO</span></code></a> makes sure we are
reading the network files from a subdirectory of the <cite>iotesting</cite> directory.  Here
and in the following, you must omit such “with blocks” in case you copied the
<cite>LahnH</cite> example project into your current working directory.)</p>
<p>Now, our <a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a> instance offers access to all <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> objects defined within the
<cite>LahnH</cite> example project, which are grouped by a <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Nodes" title="hydpy.core.devicetools.Nodes"><code class="xref py py-class docutils literal notranslate"><span class="pre">Nodes</span></code></a> object:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span>
<span class="go">Nodes(&quot;dill&quot;, &quot;lahn_1&quot;, &quot;lahn_2&quot;, &quot;lahn_3&quot;)</span>
</pre></div>
</div>
<p>Taking the node <cite>dill</cite> as an example, we can dive into the details and, for example,
search for those elements which node <cite>dill</cite> is connected to (it receives water from
element <cite>land_dill</cite> and passes it to element <cite>stream_dill_lahn_2</cite>), or inspect its
simulated discharge value handled by a <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sim" title="hydpy.core.sequencetools.Sim"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sim</span></code></a> sequence object (so far, zero):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill</span><span class="o">.</span><span class="n">entries</span>
<span class="go">Elements(&quot;land_dill&quot;)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill</span><span class="o">.</span><span class="n">exits</span>
<span class="go">Elements(&quot;stream_dill_lahn_2&quot;)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span>
<span class="go">sim(0.0)</span>
</pre></div>
</div>
<p>All <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> objects are ready to be used.  The same is only partly true for the
<a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> objects, which are also accessible (via a <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Elements" title="hydpy.core.devicetools.Elements"><code class="xref py py-class docutils literal notranslate"><span class="pre">Elements</span></code></a> instance) and
properly connected to the <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> objects but do not handle workable <a class="reference internal" href="modeltools.html#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> objects,
which is required to perform any simulation run:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span>
<span class="go">Elements(&quot;land_dill&quot;, &quot;land_lahn_1&quot;, &quot;land_lahn_2&quot;, &quot;land_lahn_3&quot;,</span>
<span class="go">         &quot;stream_dill_lahn_2&quot;, &quot;stream_lahn_1_lahn_2&quot;,</span>
<span class="go">         &quot;stream_lahn_2_lahn_3&quot;)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">stream_dill_lahn_2</span>
<span class="go">Element(&quot;stream_dill_lahn_2&quot;,</span>
<span class="go">        inlets=&quot;dill&quot;,</span>
<span class="go">        outlets=&quot;lahn_2&quot;,</span>
<span class="go">        keywords=&quot;river&quot;)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">land_dill</span><span class="o">.</span><span class="n">model</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">hydpy.core.exceptiontools.AttributeNotReady</span>: <span class="n">The model object of element `land_dill` has been requested but not been prepared so far.</span>
</pre></div>
</div>
<p>Hence, we need to call method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_models" title="hydpy.core.hydpytools.HydPy.prepare_models"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_models()</span></code></a>, which instructs all <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a>
objects to read the relevant parameter control files and prepare their <a class="reference internal" href="modeltools.html#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>
objects.  Note that the individual <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> object does not know the relevant
model type beforehand; both the information on the model type and the parameter
settings is encoded in individual control files, making it easy to exchange
individual models later (the documentation on method <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Elements.prepare_models" title="hydpy.core.devicetools.Elements.prepare_models"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_models()</span></code></a> of
class <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Elements" title="hydpy.core.devicetools.Elements"><code class="xref py py-class docutils literal notranslate"><span class="pre">Elements</span></code></a> is a good starting point for a deeper understanding on configuring
<em>HydPy</em> projects via control files):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">prepare_models</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">hydpy.core.exceptiontools.AttributeNotReady</span>: <span class="n">While trying to initialise the model object of element `land_dill`, the following error occurred: The initialisation period has not been defined via attribute `timegrids` of module `pub` yet but might be required to prepare the model properly.</span>
</pre></div>
</div>
<p>Oops, something went wrong.  We forgot to define the simulation period, which might
be relevant for some time-dependent configurations.  We discuss some examples of
such configurations below but now use this little accident to discuss the typical
pattern of <em>HydPy</em> error messages.  First, we usually try to add some additional
“spatial” information (in this case: the name of the related <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> object).
Second, we try to explain in which program context an error occurs.  This context
is already available in much more detail in the so-called “stack trace” (the middle
part of the printed error response we do not show).  Stack trace descriptions are
great for programmers but hard to read for others, which is why we often add “While
trying to…” explanations to our error messages.  In our example, one can see that
the error occurred while trying to initialise the <a class="reference internal" href="modeltools.html#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> object of element
<cite>land_dill</cite>, which is quite evident in our example but could be less evident in
more complex <em>HydPy</em> applications.</p>
<p>The last sentence of the error message tells us that we need to define the
attribute <cite>timegrids</cite> of module <cite>pub</cite>.  <cite>pub</cite> stands for “public”, meaning module
<cite>pub</cite> handles all (or at least most of) the globally available configuration data.
One example is that module <cite>pub</cite> handles a <a class="reference internal" href="timetools.html#hydpy.core.timetools.Timegrids" title="hydpy.core.timetools.Timegrids"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timegrids</span></code></a> instance defining both the
initialisation and the simulation period, which can be done by the following
assignment (see the documentation on class <a class="reference internal" href="timetools.html#hydpy.core.timetools.Timegrid" title="hydpy.core.timetools.Timegrid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timegrid</span></code></a> and on class <a class="reference internal" href="timetools.html#hydpy.core.timetools.Timegrids" title="hydpy.core.timetools.Timegrids"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timegrids</span></code></a> for
further information):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span> <span class="o">=</span> <span class="s2">&quot;1996-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;1996-01-05&quot;</span><span class="p">,</span> <span class="s2">&quot;1d&quot;</span>
</pre></div>
</div>
<p>Now method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_models" title="hydpy.core.hydpytools.HydPy.prepare_models"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_models()</span></code></a> does not complain anymore and adds an instance of
the <a class="reference internal" href="hland_v1.html#module-hydpy.models.hland_v1" title="hydpy.models.hland_v1"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hland_v1</span></code></a> application model to element <cite>land_dill</cite>, to which we set an
additional reference to shorten the following examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">prepare_models</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">land_dill</span><span class="o">.</span><span class="n">model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;hland_v1&#39;</span>
</pre></div>
</div>
<p>All control parameter values, defined in the corresponding control file, are
correctly set.  As an example, we show the values of control parameter
<a class="reference internal" href="hland.html#hydpy.models.hland.hland_control.IcMax" title="hydpy.models.hland.hland_control.IcMax"><code class="xref py py-class docutils literal notranslate"><span class="pre">IcMax</span></code></a>, which in this case defines different values for hydrological
response units of type <a class="reference internal" href="hland.html#hydpy.models.hland.hland_constants.FIELD" title="hydpy.models.hland.hland_constants.FIELD"><code class="xref py py-const docutils literal notranslate"><span class="pre">FIELD</span></code></a> (1.0 mm) and of type
<a class="reference internal" href="hland.html#hydpy.models.hland.hland_constants.FOREST" title="hydpy.models.hland.hland_constants.FOREST"><code class="xref py py-const docutils literal notranslate"><span class="pre">FOREST</span></code></a> (1.5 mm):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">icmax</span>
<span class="go">icmax(field=1.0, forest=1.5)</span>
</pre></div>
</div>
<p>The appearance (or “string representation”) of all parameters that have a unit with
a time reference (we call these parameters “time-dependent”) like
<a class="reference internal" href="hland.html#hydpy.models.hland.hland_control.PercMax" title="hydpy.models.hland.hland_control.PercMax"><code class="xref py py-class docutils literal notranslate"><span class="pre">PercMax</span></code></a> depends on the current setting of option
<a class="reference internal" href="optiontools.html#hydpy.core.optiontools.Options.parameterstep" title="hydpy.core.optiontools.Options.parameterstep"><code class="xref py py-const docutils literal notranslate"><span class="pre">parameterstep</span></code></a>, which is one day by default (see the documentation on
class <a class="reference internal" href="parametertools.html#hydpy.core.parametertools.Parameter" title="hydpy.core.parametertools.Parameter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parameter</span></code></a> for more information on dealing with time-dependent parameters
subclasses):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">percmax</span>
<span class="go">percmax(1.39636)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">parameterstep</span><span class="p">(</span><span class="s2">&quot;1h&quot;</span><span class="p">)</span>
<span class="go">Period(&quot;1d&quot;)</span>
</pre></div>
</div>
<p>The values of the derived parameters, which need to be calculated before starting a
simulation run based on the control parameters and eventually based on some other
settings (e.g. the initialisation period), are also ready.  Here we show the value
of the derived parameter  <a class="reference internal" href="hland.html#hydpy.models.hland.hland_derived.UH" title="hydpy.models.hland.hland_derived.UH"><code class="xref py py-class docutils literal notranslate"><span class="pre">UH</span></code></a>, representing the ordinates of a unit
hydrograph (the single value of 1.0 means that the unit hydrograph does not cause
any time delay):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">derived</span><span class="o">.</span><span class="n">uh</span>
<span class="go">uh(1.0)</span>
</pre></div>
</div>
<p>We define all class names in “CamelCase” letters (which is a Python convention) and,
whenever practical, name the related objects identically but in lower case letters.
We hope that eases finding the relevant parts of the online documentation when in
trouble with a particular object.  Three examples we already encountered are the
<a class="reference internal" href="timetools.html#hydpy.core.timetools.Timegrids" title="hydpy.core.timetools.Timegrids"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timegrids</span></code></a> instance <cite>timegrids</cite> of module <cite>pub</cite>, the <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Nodes" title="hydpy.core.devicetools.Nodes"><code class="xref py py-class docutils literal notranslate"><span class="pre">Nodes</span></code></a> instance <cite>nodes</cite> of
class <cite>HydPy</cite>, and the <a class="reference internal" href="hland.html#hydpy.models.hland.hland_derived.UH" title="hydpy.models.hland.hland_derived.UH"><code class="xref py py-class docutils literal notranslate"><span class="pre">UH</span></code></a> instance <cite>uh</cite> of application model
<a class="reference internal" href="hland_v1.html#module-hydpy.models.hland_v1" title="hydpy.models.hland_v1"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hland_v1</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">classname</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">classname</span><span class="p">(</span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="p">)</span>
<span class="go">&#39;Timegrids&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">classname</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span>
<span class="go">&#39;Nodes&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">classname</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">derived</span><span class="o">.</span><span class="n">uh</span><span class="p">)</span>
<span class="go">&#39;UH&#39;</span>
</pre></div>
</div>
<p>As shown above, all <a class="reference internal" href="parametertools.html#hydpy.core.parametertools.Parameter" title="hydpy.core.parametertools.Parameter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parameter</span></code></a> objects of the model of element <cite>land_dill</cite> are
ready to be used. However, all sequences (which handle the time variable properties)
contain <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.25)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> <code class="xref py py-const docutils literal notranslate"><span class="pre">nan</span></code> values, which we use to indicate missing data.  We show
this for the 0-dimensional input sequence <a class="reference internal" href="hland.html#hydpy.models.hland.hland_inputs.T" title="hydpy.models.hland.hland_inputs.T"><code class="xref py py-class docutils literal notranslate"><span class="pre">T</span></code></a>, the 1-dimensional factor
sequence <a class="reference internal" href="hland.html#hydpy.models.hland.hland_factors.TC" title="hydpy.models.hland.hland_factors.TC"><code class="xref py py-class docutils literal notranslate"><span class="pre">TC</span></code></a>, the 1-dimensional state sequence <a class="reference internal" href="hland.html#hydpy.models.hland.hland_states.SM" title="hydpy.models.hland.hland_states.SM"><code class="xref py py-class docutils literal notranslate"><span class="pre">SM</span></code></a>,
and the 0-dimensional flux sequence <a class="reference internal" href="hland.html#hydpy.models.hland.hland_fluxes.QT" title="hydpy.models.hland.hland_fluxes.QT"><code class="xref py py-class docutils literal notranslate"><span class="pre">QT</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">t</span>
<span class="go">t(nan)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">factors</span><span class="o">.</span><span class="n">tc</span>
<span class="go">tc(nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">sm</span>
<span class="go">sm(nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">qt</span>
<span class="go">qt(nan)</span>
</pre></div>
</div>
<p>There are some other sequence types (see the documentation on module <a class="reference internal" href="sequencetools.html#module-hydpy.core.sequencetools" title="hydpy.core.sequencetools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sequencetools</span></code></a>
for more details) but <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.InputSequence" title="hydpy.core.sequencetools.InputSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">InputSequence</span></code></a>, <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.FactorSequence" title="hydpy.core.sequencetools.FactorSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">FactorSequence</span></code></a> <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.FluxSequence" title="hydpy.core.sequencetools.FluxSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">FluxSequence</span></code></a>, and
<a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.StateSequence" title="hydpy.core.sequencetools.StateSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateSequence</span></code></a> are the most common ones (besides the <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.NodeSequence" title="hydpy.core.sequencetools.NodeSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeSequence</span></code></a> subtypes
<a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Obs" title="hydpy.core.sequencetools.Obs"><code class="xref py py-class docutils literal notranslate"><span class="pre">Obs</span></code></a> and especially <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sim" title="hydpy.core.sequencetools.Sim"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sim</span></code></a>).</p>
<p><a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.StateSequence" title="hydpy.core.sequencetools.StateSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateSequence</span></code></a> objects describe many aspects of the current state of a model (or,
e.g., of a catchment).  Each simulation run requires proper initial states, which
we call initial conditions in the following (also covering memory aspects
represented by <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.LogSequence" title="hydpy.core.sequencetools.LogSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">LogSequence</span></code></a> objects).  We load all necessary initial conditions by
calling the method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_conditions" title="hydpy.core.hydpytools.HydPy.load_conditions"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_conditions()</span></code></a> (see the documentation on method
<a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_conditions" title="hydpy.core.hydpytools.HydPy.load_conditions"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_conditions()</span></code></a> for further details):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">load_conditions</span><span class="p">()</span>
</pre></div>
</div>
<p>Now, the states of our model are also ready to be used.  However, one should note
that state sequence <a class="reference internal" href="hland.html#hydpy.models.hland.hland_states.SM" title="hydpy.models.hland.hland_states.SM"><code class="xref py py-class docutils literal notranslate"><span class="pre">SM</span></code></a> knows only the current soil moisture states
for the twelve hydrological response units of element <cite>land_dill</cite> (more
specifically, we loaded the soil moisture values related to the start date of the
initialisation period, which is January 1 at zero o’clock).  By default and for
reasons of memory storage efficiency, sequences generally handle the currently
relevant values only instead of complete time-series:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">t</span>
<span class="go">t(nan)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">factors</span><span class="o">.</span><span class="n">tc</span>
<span class="go">tc(nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">sm</span>
<span class="go">sm(185.13164, 181.18755, 199.80432, 196.55888, 212.04018, 209.48859,</span>
<span class="go">   222.12115, 220.12671, 230.30756, 228.70779, 236.91943, 235.64427)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">qt</span>
<span class="go">qt(nan)</span>
</pre></div>
</div>
<p>For states like <a class="reference internal" href="hland.html#hydpy.models.hland.hland_states.SM" title="hydpy.models.hland.hland_states.SM"><code class="xref py py-class docutils literal notranslate"><span class="pre">SM</span></code></a>, we need to know the values at the beginning of
the simulation period only.  All following values are calculated subsequentially
during the simulation run.  However, this is different for input sequences like
<a class="reference internal" href="hland.html#hydpy.models.hland.hland_inputs.T" title="hydpy.models.hland.hland_inputs.T"><code class="xref py py-class docutils literal notranslate"><span class="pre">T</span></code></a>.  Time variable properties like the air temperature are external
forcings. Hence they must be available over the whole simulation period apriori.
Such complete time-series can be made available via property <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence.series" title="hydpy.core.sequencetools.IOSequence.series"><code class="xref py py-const docutils literal notranslate"><span class="pre">series</span></code></a> of
class <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence" title="hydpy.core.sequencetools.IOSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">IOSequence</span></code></a>, which has not happened for any sequence so far:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">series</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">hydpy.core.exceptiontools.AttributeNotReady</span>: <span class="n">Sequence `t` of element `land_dill` is not requested to make any time-series data available.</span>
</pre></div>
</div>
<p>Before loading time-series data, we need to reserve the required memory storage.
We do this for all sequences at once (not only the <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.ModelSequence" title="hydpy.core.sequencetools.ModelSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelSequence</span></code></a> objects but also
the <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.NodeSequence" title="hydpy.core.sequencetools.NodeSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeSequence</span></code></a> objects as the <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sim" title="hydpy.core.sequencetools.Sim"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sim</span></code></a> instance handled by node <cite>dill</cite>) by calling
the method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_allseries" title="hydpy.core.hydpytools.HydPy.prepare_allseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_allseries()</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">prepare_allseries</span><span class="p">()</span>
</pre></div>
</div>
<p>Now property <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence.series" title="hydpy.core.sequencetools.IOSequence.series"><code class="xref py py-const docutils literal notranslate"><span class="pre">series</span></code></a> returns an <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.InfoArray" title="hydpy.core.sequencetools.InfoArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">InfoArray</span></code></a> object, which is a slight
modification of the widely applied <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.25)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.25)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.  The first axis (or the
only axis) corresponds to the number of days of the initialisation period (a
<em>HydPy</em> convention).  For the 1-dimensional sequences <a class="reference internal" href="hland.html#hydpy.models.hland.hland_factors.TC" title="hydpy.models.hland.hland_factors.TC"><code class="xref py py-class docutils literal notranslate"><span class="pre">TC</span></code></a> and
<a class="reference internal" href="hland.html#hydpy.models.hland.hland_states.SM" title="hydpy.models.hland.hland_states.SM"><code class="xref py py-class docutils literal notranslate"><span class="pre">SM</span></code></a>, the second axis corresponds to the number of hydrological
response units (a <a class="reference internal" href="hland.html#module-hydpy.models.hland" title="hydpy.models.hland"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hland</span></code></a> convention):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">series</span>
<span class="go">InfoArray([nan, nan, nan, nan])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">factors</span><span class="o">.</span><span class="n">tc</span><span class="o">.</span><span class="n">series</span>
<span class="go">InfoArray([[nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan],</span>
<span class="go">           [nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan],</span>
<span class="go">           [nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan],</span>
<span class="go">           [nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan]])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">sm</span><span class="o">.</span><span class="n">series</span>
<span class="go">InfoArray([[nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan],</span>
<span class="go">           [nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan],</span>
<span class="go">           [nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan],</span>
<span class="go">           [nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan]])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">qt</span><span class="o">.</span><span class="n">series</span>
<span class="go">InfoArray([nan, nan, nan, nan])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span>
<span class="go">InfoArray([nan, nan, nan, nan])</span>
</pre></div>
</div>
<p>So far, each time-series array is empty.  The <cite>LahnH</cite> example project provides
time-series files for the input sequences only, which is the minimum requirement
for starting a simulation run.  We use method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_inputseries" title="hydpy.core.hydpytools.HydPy.load_inputseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_inputseries()</span></code></a> to load this
data:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">load_inputseries</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">-0.298846, -0.811539, -2.493848, -5.968849</span>
</pre></div>
</div>
<p>Finally, we can perform the simulation run by calling the method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.simulate" title="hydpy.core.hydpytools.HydPy.simulate"><code class="xref py py-func docutils literal notranslate"><span class="pre">simulate()</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
</pre></div>
</div>
<p>The time-series arrays of all sequences now contain calculated values — except
those of input sequence <a class="reference internal" href="hland.html#hydpy.models.hland.hland_inputs.T" title="hydpy.models.hland.hland_inputs.T"><code class="xref py py-class docutils literal notranslate"><span class="pre">T</span></code></a>, of course (for the sequences
<a class="reference internal" href="hland.html#hydpy.models.hland.hland_factors.TC" title="hydpy.models.hland.hland_factors.TC"><code class="xref py py-class docutils literal notranslate"><span class="pre">TC</span></code></a> and <a class="reference internal" href="hland.html#hydpy.models.hland.hland_states.SM" title="hydpy.models.hland.hland_states.SM"><code class="xref py py-class docutils literal notranslate"><span class="pre">SM</span></code></a>, we show the time-series of the first
hydrological response unit only):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">-0.298846, -0.811539, -2.493848, -5.968849</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">factors</span><span class="o">.</span><span class="n">tc</span><span class="o">.</span><span class="n">series</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">0.751154, 0.238461, -1.443848, -4.918849</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">sm</span><span class="o">.</span><span class="n">series</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">184.926173, 184.603966, 184.386666, 184.098541</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">qt</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">11.78038, 8.901179, 7.131072, 6.017787</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">11.78038, 8.901179, 7.131072, 6.017787</span>
</pre></div>
</div>
<p>By comparison, you see that the lastly calculated (or read) time-series value is
the actual one for each <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sequence_" title="hydpy.core.sequencetools.Sequence_"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence_</span></code></a> object.  This mechanism allows, for example, to
write the final states of soil moisture sequence <a class="reference internal" href="hland.html#hydpy.models.hland.hland_states.SM" title="hydpy.models.hland.hland_states.SM"><code class="xref py py-class docutils literal notranslate"><span class="pre">SM</span></code></a> and use them as
initial conditions later, even if its complete time-series were not available:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">t</span>
<span class="go">t(-5.968849)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">sm</span>
<span class="go">sm(184.098541, 180.176461, 198.689343, 195.462014, 210.856923,</span>
<span class="go">   208.319571, 220.881637, 218.898327, 229.022364, 227.431521,</span>
<span class="go">   235.597338, 234.329294)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">qt</span>
<span class="go">qt(6.017787)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span>
<span class="go">sim(6.017787)</span>
</pre></div>
</div>
<p>In many applications, the simulated time-series is the result we are interested in.
Hence we close our explanations with some detailed examples on this topic that also
cover the potential problem of limited rapid access storage availability.</p>
<p>The <em>HydPy</em> framework does not overwrite already existing time-series by default
files.  However, you can change this and related settings via the <a class="reference internal" href="filetools.html#hydpy.core.filetools.SequenceManager" title="hydpy.core.filetools.SequenceManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">SequenceManager</span></code></a>
object available in module <code class="xref py py-mod docutils literal notranslate"><span class="pre">pub</span></code> (module <code class="xref py py-mod docutils literal notranslate"><span class="pre">pub</span></code> also handles <a class="reference internal" href="filetools.html#hydpy.core.filetools.ControlManager" title="hydpy.core.filetools.ControlManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">ControlManager</span></code></a> and
<a class="reference internal" href="filetools.html#hydpy.core.filetools.ConditionManager" title="hydpy.core.filetools.ConditionManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConditionManager</span></code></a> objects for settings related to reading and writing control
files and condition files).  We change the default behaviour by setting the
<a class="reference internal" href="filetools.html#hydpy.core.filetools.SequenceManager.overwrite" title="hydpy.core.filetools.SequenceManager.overwrite"><code class="xref py py-const docutils literal notranslate"><span class="pre">overwrite</span></code></a> attribute to <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">sequencemanager</span><span class="o">.</span><span class="n">overwrite</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Now we can (over)write all possible time series:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">save_inputseries</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">save_factorseries</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">save_fluxseries</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">save_stateseries</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">save_simseries</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">save_obsseries</span><span class="p">()</span>
</pre></div>
</div>
<p>Alternatively, apply <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_modelseries" title="hydpy.core.hydpytools.HydPy.save_modelseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_modelseries()</span></code></a> to write the series of all the
<a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.InputSequence" title="hydpy.core.sequencetools.InputSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">InputSequence</span></code></a>, <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.FactorSequence" title="hydpy.core.sequencetools.FactorSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">FactorSequence</span></code></a>, <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.FluxSequence" title="hydpy.core.sequencetools.FluxSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">FluxSequence</span></code></a>, and <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.StateSequence" title="hydpy.core.sequencetools.StateSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateSequence</span></code></a> objects and
<a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_nodeseries" title="hydpy.core.hydpytools.HydPy.save_nodeseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_nodeseries()</span></code></a> to write the series of all <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sim" title="hydpy.core.sequencetools.Sim"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sim</span></code></a> and <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Obs" title="hydpy.core.sequencetools.Obs"><code class="xref py py-class docutils literal notranslate"><span class="pre">Obs</span></code></a> objects in one
step:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">save_modelseries</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">save_nodeseries</span><span class="p">()</span>
</pre></div>
</div>
<p>Even shorter, just apply the method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_allseries" title="hydpy.core.hydpytools.HydPy.save_allseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_allseries()</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">save_allseries</span><span class="p">()</span>
</pre></div>
</div>
<p>Next, we show how the reading of time-series works.  We first set the time-series
values of all considered sequences to zero for this purpose:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">sm</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">0.</span>
</pre></div>
</div>
<p>Now we can reload the time-series of all relevant sequences.  However, doing so
would result in a warning due to incomplete data (for example, of the observation
data handled by the <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Obs" title="hydpy.core.sequencetools.Obs"><code class="xref py py-class docutils literal notranslate"><span class="pre">Obs</span></code></a> sequence objects, which is not available in the <cite>LahnH</cite>
example project).  To circumvent this problem, we disable the <a class="reference internal" href="optiontools.html#hydpy.core.optiontools.Options.checkseries" title="hydpy.core.optiontools.Options.checkseries"><code class="xref py py-const docutils literal notranslate"><span class="pre">checkseries</span></code></a>
option, which is one of the public options handled by the instance of class
<a class="reference internal" href="optiontools.html#hydpy.core.optiontools.Options" title="hydpy.core.optiontools.Options"><code class="xref py py-class docutils literal notranslate"><span class="pre">Options</span></code></a> available as another attribute of module <code class="xref py py-mod docutils literal notranslate"><span class="pre">pub</span></code>.  We again use “with
blocks”, making sure the option (and the current working directory) changes only
temporarily while loading the time-series:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">(),</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">checkseries</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">load_inputseries</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">load_factorseries</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">load_fluxseries</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">load_stateseries</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">load_simseries</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">load_obsseries</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">(),</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">checkseries</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">load_modelseries</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">load_nodeseries</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">(),</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">checkseries</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">load_allseries</span><span class="p">()</span>
</pre></div>
</div>
<p>The read time-series data equals the previously written one:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">-0.298846, -0.811539, -2.493848, -5.968849</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">factors</span><span class="o">.</span><span class="n">tc</span><span class="o">.</span><span class="n">series</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">0.751154, 0.238461, -1.443848, -4.918849</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">sm</span><span class="o">.</span><span class="n">series</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">184.926173, 184.603966, 184.386666, 184.098541</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">qt</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">11.78038, 8.901179, 7.131072, 6.017787</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">11.78038, 8.901179, 7.131072, 6.017787</span>
</pre></div>
</div>
<p>We mentioned the possibility for more granular control of <em>HydPy</em> by using the
different objects handled by the <a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a> object instead of using its convenience
methods. Here is an elaborate example showing how to (re)load the states of an
arbitrary simulation time step, which might be relevant for more complex workflows
implementing data assimilation techniques:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">sm</span>
<span class="go">sm(184.603966, 180.671117, 199.234825, 195.998635, 211.435809,</span>
<span class="go">   208.891492, 221.488046, 219.49929, 229.651122, 228.055912,</span>
<span class="go">   236.244147, 234.972621)</span>
</pre></div>
</div>
<p>Using the node sequence <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sim" title="hydpy.core.sequencetools.Sim"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sim</span></code></a> as an example, we also show the inverse functionality
of changing time-series values:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">save_data</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">11.78038, 8.901179, 0.0, 6.017787</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span>
<span class="go">sim(8.901179)</span>
</pre></div>
</div>
<p>In the examples above, we keep all data in rapid access memory, which can be
problematic when handling long time-series in huge <em>HydPy</em> projects.  When in
trouble, first try to prepare only those time-series that are strictly required
(very often, it is sufficient to call <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_inputseries" title="hydpy.core.hydpytools.HydPy.prepare_inputseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_inputseries()</span></code></a>,
<a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_inputseries" title="hydpy.core.hydpytools.HydPy.load_inputseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_inputseries()</span></code></a>, and <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_simseries" title="hydpy.core.hydpytools.HydPy.prepare_simseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_simseries()</span></code></a> only).  If this does not
work in your project, you can read input data from and write output data to NetCDF
files during simulation.  These follow the <a class="reference external" href="http://cfconventions.org/Data/cf-conventions/cf-conventions-1.7/cf-conventions.html#pylint:disable=line-too-long">NetCDF Climate and Forecast (CF)
Metadata Conventions</a>.  To benefit from this feature, assign <code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code> to the
<cite>allocate_ram</cite> argument of the individual “prepare series” methods (which disables
handling the time-series in RAM) and assign <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code> to the respective “jit”
arguments (which prepares the “just-in-time” file access).  The methods
<a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_factorseries" title="hydpy.core.hydpytools.HydPy.prepare_factorseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_factorseries()</span></code></a>, <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_fluxseries" title="hydpy.core.hydpytools.HydPy.prepare_fluxseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_fluxseries()</span></code></a>, and
<a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_stateseries" title="hydpy.core.hydpytools.HydPy.prepare_stateseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_stateseries()</span></code></a> deal with “output sequences” for which read data would
be overwritten during the simulation and thus only support the <cite>write_jit</cite> argument.
The <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_inputseries" title="hydpy.core.hydpytools.HydPy.prepare_inputseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_inputseries()</span></code></a> method, on the other hand, supports both the
<cite>read_jit</cite> and the <cite>write_jit</cite> argument.  However, in most cases, only reading
makes sense.  The argument <cite>write_jit</cite> is thought for when other methods (for
example data assimilation approaches) modify the input data, and we need to keep
track of these modifications:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">prepare_inputseries</span><span class="p">(</span><span class="n">allocate_ram</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">read_jit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">prepare_factorseries</span><span class="p">(</span><span class="n">allocate_ram</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">write_jit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">prepare_fluxseries</span><span class="p">(</span><span class="n">allocate_ram</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">write_jit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">prepare_stateseries</span><span class="p">(</span><span class="n">allocate_ram</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">write_jit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">prepare_simseries</span><span class="p">(</span><span class="n">allocate_ram</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">write_jit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">prepare_obsseries</span><span class="p">(</span><span class="n">allocate_ram</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">read_jit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>By doing so, you lose the previously available time-series information.  We use
function <a class="reference internal" href="exceptiontools.html#hydpy.core.exceptiontools.attrready" title="hydpy.core.exceptiontools.attrready"><code class="xref py py-func docutils literal notranslate"><span class="pre">attrready()</span></code></a> to check this:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">attrready</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attrready</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">t</span><span class="p">,</span> <span class="s2">&quot;series&quot;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">attrready</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">factors</span><span class="o">.</span><span class="n">tc</span><span class="p">,</span> <span class="s2">&quot;series&quot;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">attrready</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">sm</span><span class="p">,</span> <span class="s2">&quot;series&quot;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">attrready</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">qt</span><span class="p">,</span> <span class="s2">&quot;series&quot;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">attrready</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="p">,</span> <span class="s2">&quot;series&quot;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Reloading the initial conditions and starting a new simulation run leads to the
same results as the simulation run above:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">(),</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">checkseries</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">load_conditions</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
</pre></div>
</div>
<p>This time, reading input data from files happened during simulation.  Likewise, the
calculated output data is not directly available in RAM but in different NetCDF
files. To check all results are identical to those shown above, we must load them
into RAM.  Therefore, we first need to prepare the <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence.series" title="hydpy.core.sequencetools.IOSequence.series"><code class="xref py py-const docutils literal notranslate"><span class="pre">series</span></code></a> objects
again:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">prepare_allseries</span><span class="p">()</span>
</pre></div>
</div>
<p>By default, <em>HydPy</em> handles time-series data in simple text files (“asc” files):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">sequencemanager</span><span class="o">.</span><span class="n">filetype</span>
<span class="go">&#39;asc&#39;</span>
</pre></div>
</div>
<p>One way to prepare to load the results from the available NetCDF files instead is
to set the <a class="reference internal" href="filetools.html#hydpy.core.filetools.SequenceManager.filetype" title="hydpy.core.filetools.SequenceManager.filetype"><code class="xref py py-const docutils literal notranslate"><span class="pre">filetype</span></code></a> attribute of the public <a class="reference internal" href="filetools.html#hydpy.core.filetools.SequenceManager" title="hydpy.core.filetools.SequenceManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">SequenceManager</span></code></a>
object to “nc”:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">sequencemanager</span><span class="o">.</span><span class="n">filetype</span> <span class="o">=</span> <span class="s2">&quot;nc&quot;</span>
</pre></div>
</div>
<p>Now we can load the previously written results into RAM (see the documentation on
module <a class="reference internal" href="netcdftools.html#module-hydpy.core.netcdftools" title="hydpy.core.netcdftools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">netcdftools</span></code></a> for further information) and inspect the results:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">(),</span> <span class="n">pub</span><span class="o">.</span><span class="n">sequencemanager</span><span class="o">.</span><span class="n">netcdfreading</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">load_modelseries</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">load_simseries</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">-0.298846, -0.811539, -2.493848, -5.968849</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">factors</span><span class="o">.</span><span class="n">tc</span><span class="o">.</span><span class="n">series</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">0.751154, 0.238461, -1.443848, -4.918849</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">sm</span><span class="o">.</span><span class="n">series</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">184.926173, 184.603966, 184.386666, 184.098541</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">qt</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">11.78038, 8.901179, 7.131072, 6.017787</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">11.78038, 8.901179, 7.131072, 6.017787</span>
</pre></div>
</div>
<p>You can handle time-series in RAM and allow just-in-time NetCDF file access at the
same time.  Before showing how this works, we first disable both functionalities
for all sequences and delete all previously written NetCDF files:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">prepare_allseries</span><span class="p">(</span><span class="n">allocate_ram</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">attrready</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">t</span><span class="p">,</span> <span class="s2">&quot;series&quot;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">attrready</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">factors</span><span class="o">.</span><span class="n">tc</span><span class="p">,</span> <span class="s2">&quot;series&quot;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">attrready</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">sm</span><span class="p">,</span> <span class="s2">&quot;series&quot;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">attrready</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">qt</span><span class="p">,</span> <span class="s2">&quot;series&quot;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">attrready</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="p">,</span> <span class="s2">&quot;series&quot;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;LahnH/series/default&quot;</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">if</span> <span class="s2">&quot;input&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">filename</span><span class="p">:</span>
<span class="gp">... </span>            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;LahnH/series/default/</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>We again call method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_allseries" title="hydpy.core.hydpytools.HydPy.prepare_allseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_allseries()</span></code></a>, but now with assigning <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code> to
the arguments <cite>allocate_ram</cite> and <cite>jit</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">prepare_allseries</span><span class="p">(</span><span class="n">allocate_ram</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">jit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>After another simulation run, all input data (read during simulation) and output
data (calculated during simulation) are directly available:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">(),</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">checkseries</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">load_conditions</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">-0.298846, -0.811539, -2.493848, -5.968849</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">factors</span><span class="o">.</span><span class="n">tc</span><span class="o">.</span><span class="n">series</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">0.751154, 0.238461, -1.443848, -4.918849</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">sm</span><span class="o">.</span><span class="n">series</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">184.926173, 184.603966, 184.386666, 184.098541</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">qt</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">11.78038, 8.901179, 7.131072, 6.017787</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">11.78038, 8.901179, 7.131072, 6.017787</span>
</pre></div>
</div>
<p>After subsequent deallocation and allocation for refreshing RAM, reading the
previously written NetCDF files makes the same data available:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">prepare_allseries</span><span class="p">(</span><span class="n">allocate_ram</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">prepare_allseries</span><span class="p">(</span><span class="n">allocate_ram</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">(),</span> <span class="n">pub</span><span class="o">.</span><span class="n">sequencemanager</span><span class="o">.</span><span class="n">netcdfreading</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">load_modelseries</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">load_simseries</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">-0.298846, -0.811539, -2.493848, -5.968849</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">factors</span><span class="o">.</span><span class="n">tc</span><span class="o">.</span><span class="n">series</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">0.751154, 0.238461, -1.443848, -4.918849</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">sm</span><span class="o">.</span><span class="n">series</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">184.926173, 184.603966, 184.386666, 184.098541</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">qt</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">11.78038, 8.901179, 7.131072, 6.017787</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">11.78038, 8.901179, 7.131072, 6.017787</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.deviceorder">
<span class="sig-name descname"><span class="pre">deviceorder</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><span class="pre">Element</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.deviceorder" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.nodes">
<span class="sig-name descname"><span class="pre">nodes</span></span><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.nodes" title="Link to this definition">¶</a></dt>
<dd><p>The currently handled <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> objects.</p>
<p>You are allowed to get, set and delete the currently handled nodes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.examples</span> <span class="kn">import</span> <span class="n">prepare_full_example_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="p">,</span> <span class="n">pub</span><span class="p">,</span> <span class="n">TestIO</span> <span class="o">=</span> <span class="n">prepare_full_example_2</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span>
<span class="go">Nodes(&quot;dill&quot;, &quot;lahn_1&quot;, &quot;lahn_2&quot;, &quot;lahn_3&quot;)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">hp</span><span class="o">.</span><span class="n">nodes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">AttributeError</span>: <span class="n">The actual HydPy instance does not handle any nodes at the moment.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="s2">&quot;dill&quot;</span><span class="p">,</span> <span class="s2">&quot;lahn_1&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span>
<span class="go">Nodes(&quot;dill&quot;, &quot;lahn_1&quot;)</span>
</pre></div>
</div>
<p>However, note that doing so might result in erroneous networks and that you,
even in case of correctness, must most likely call method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.update_devices" title="hydpy.core.hydpytools.HydPy.update_devices"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_devices()</span></code></a>
before performing the next simulation run.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.elements">
<span class="sig-name descname"><span class="pre">elements</span></span><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.elements" title="Link to this definition">¶</a></dt>
<dd><p>The currently handled <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> objects.</p>
<p>You are allowed to get, set and delete the currently handled elements:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.examples</span> <span class="kn">import</span> <span class="n">prepare_full_example_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="p">,</span> <span class="n">pub</span><span class="p">,</span> <span class="n">TestIO</span> <span class="o">=</span> <span class="n">prepare_full_example_2</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span>
<span class="go">Elements(&quot;land_dill&quot;, &quot;land_lahn_1&quot;, &quot;land_lahn_2&quot;, &quot;land_lahn_3&quot;,</span>
<span class="go">         &quot;stream_dill_lahn_2&quot;, &quot;stream_lahn_1_lahn_2&quot;,</span>
<span class="go">         &quot;stream_lahn_2_lahn_3&quot;)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">hp</span><span class="o">.</span><span class="n">elements</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">AttributeError</span>: <span class="n">The actual HydPy instance does not handle any elements at the moment.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span> <span class="o">=</span> <span class="s2">&quot;land_dill&quot;</span><span class="p">,</span> <span class="s2">&quot;land_lahn_1&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span>
<span class="go">Elements(&quot;land_dill&quot;, &quot;land_lahn_1&quot;)</span>
</pre></div>
</div>
<p>However, note that doing so might result in erroneous networks
and that you, even in case of correctness, must most likely call
method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.update_devices" title="hydpy.core.hydpytools.HydPy.update_devices"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_devices()</span></code></a> before performing the next
simulation run.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.prepare_everything">
<span class="sig-name descname"><span class="pre">prepare_everything</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.prepare_everything"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.prepare_everything" title="Link to this definition">¶</a></dt>
<dd><p>Convenience method to make the actual <a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a> instance runnable.</p>
<p>Method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_everything" title="hydpy.core.hydpytools.HydPy.prepare_everything"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_everything()</span></code></a> is the fastest approach to get a runnable
<a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a> object.  You only need to import class <a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a>, initialise it with the
project name, define the simulation period via the <a class="reference internal" href="timetools.html#hydpy.core.timetools.Timegrids" title="hydpy.core.timetools.Timegrids"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timegrids</span></code></a> object of module
<code class="xref py py-mod docutils literal notranslate"><span class="pre">pub</span></code>, and call method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_everything" title="hydpy.core.hydpytools.HydPy.prepare_everything"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_everything()</span></code></a> (in this documentation, we
first need to prepare the example project via function <a class="reference internal" href="examples.html#hydpy.examples.prepare_full_example_1" title="hydpy.examples.prepare_full_example_1"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_full_example_1()</span></code></a>
and change the current working directory via class <a class="reference internal" href="testtools.html#hydpy.core.testtools.TestIO" title="hydpy.core.testtools.TestIO"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestIO</span></code></a>):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.examples</span> <span class="kn">import</span> <span class="n">prepare_full_example_1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prepare_full_example_1</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">HydPy</span><span class="p">,</span> <span class="n">pub</span><span class="p">,</span> <span class="n">round_</span><span class="p">,</span> <span class="n">TestIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span> <span class="o">=</span> <span class="n">HydPy</span><span class="p">(</span><span class="s2">&quot;LahnH&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span> <span class="o">=</span> <span class="s2">&quot;1996-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;1996-01-05&quot;</span><span class="p">,</span> <span class="s2">&quot;1d&quot;</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">prepare_everything</span><span class="p">()</span>
</pre></div>
</div>
<p>Now you can start a simulation run and inspect the calculated time-series of
all relevant sequences.  We take the discharge values of the flux sequence
<a class="reference internal" href="hland.html#hydpy.models.hland.hland_fluxes.QT" title="hydpy.models.hland.hland_fluxes.QT"><code class="xref py py-class docutils literal notranslate"><span class="pre">QT</span></code></a> of <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> object <cite>land_dill</cite> and of the node sequence
<a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sim" title="hydpy.core.sequencetools.Sim"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sim</span></code></a> of <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> object <cite>dill</cite> as examples, which provide the same information:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">land_dill</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">fluxes</span><span class="o">.</span><span class="n">qt</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">11.78038, 8.901179, 7.131072, 6.017787</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">11.78038, 8.901179, 7.131072, 6.017787</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.prepare_network">
<span class="sig-name descname"><span class="pre">prepare_network</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.prepare_network"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.prepare_network" title="Link to this definition">¶</a></dt>
<dd><p>Load all network files as <a class="reference internal" href="selectiontools.html#hydpy.core.selectiontools.Selections" title="hydpy.core.selectiontools.Selections"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selections</span></code></a> (stored in module <code class="xref py py-mod docutils literal notranslate"><span class="pre">pub</span></code>) and assign
the “complete” selection to the <a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a> object.</p>
<p>First, we call function <a class="reference internal" href="examples.html#hydpy.examples.prepare_full_example_1" title="hydpy.examples.prepare_full_example_1"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_full_example_1()</span></code></a> to prepare the <cite>LahnH</cite> example
project, including its network files <cite>headwaters.py</cite>, <cite>nonheadwaters.py</cite>, and
<cite>streams.py</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.examples</span> <span class="kn">import</span> <span class="n">prepare_full_example_1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prepare_full_example_1</span><span class="p">()</span>
</pre></div>
</div>
<p>Directly after initialising class <a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a>, neither the resulting object nor
module <code class="xref py py-mod docutils literal notranslate"><span class="pre">pub</span></code> contain any information stemming from the network files:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">HydPy</span><span class="p">,</span> <span class="n">pub</span><span class="p">,</span> <span class="n">TestIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span> <span class="o">=</span> <span class="n">HydPy</span><span class="p">(</span><span class="s2">&quot;LahnH&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">selections</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">hydpy.core.exceptiontools.AttributeNotReady</span>: <span class="n">Attribute selections of module `pub` is not defined at the moment.</span>
</pre></div>
</div>
<p>By calling the method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_network" title="hydpy.core.hydpytools.HydPy.prepare_network"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_network()</span></code></a>, one loads all three network
files into separate <a class="reference internal" href="selectiontools.html#hydpy.core.selectiontools.Selection" title="hydpy.core.selectiontools.Selection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selection</span></code></a> objects, all handled by the <a class="reference internal" href="selectiontools.html#hydpy.core.selectiontools.Selections" title="hydpy.core.selectiontools.Selections"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selections</span></code></a> object
of module <code class="xref py py-mod docutils literal notranslate"><span class="pre">pub</span></code>.  Additionally, there is a <a class="reference internal" href="selectiontools.html#hydpy.core.selectiontools.Selection" title="hydpy.core.selectiontools.Selection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selection</span></code></a> object named <cite>complete</cite>,
covering all <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> and <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> objects of the other <a class="reference internal" href="selectiontools.html#hydpy.core.selectiontools.Selection" title="hydpy.core.selectiontools.Selection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selection</span></code></a> objects:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">prepare_network</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">selections</span>
<span class="go">Selections(&quot;complete&quot;, &quot;headwaters&quot;, &quot;nonheadwaters&quot;, &quot;streams&quot;)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">selections</span><span class="o">.</span><span class="n">headwaters</span> <span class="o">&lt;=</span> <span class="n">pub</span><span class="o">.</span><span class="n">selections</span><span class="o">.</span><span class="n">complete</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">selections</span><span class="o">.</span><span class="n">nonheadwaters</span> <span class="o">&lt;=</span> <span class="n">pub</span><span class="o">.</span><span class="n">selections</span><span class="o">.</span><span class="n">complete</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">selections</span><span class="o">.</span><span class="n">streams</span> <span class="o">&lt;=</span> <span class="n">pub</span><span class="o">.</span><span class="n">selections</span><span class="o">.</span><span class="n">complete</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Initially, the <a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a> object is aware of the complete set of <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> and
<a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> objects:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span> <span class="o">==</span> <span class="n">pub</span><span class="o">.</span><span class="n">selections</span><span class="o">.</span><span class="n">complete</span><span class="o">.</span><span class="n">nodes</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span> <span class="o">==</span> <span class="n">pub</span><span class="o">.</span><span class="n">selections</span><span class="o">.</span><span class="n">complete</span><span class="o">.</span><span class="n">elements</span>
<span class="go">True</span>
</pre></div>
</div>
<p>See the documentation on method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.update_devices" title="hydpy.core.hydpytools.HydPy.update_devices"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_devices()</span></code></a> on how to “activate|
another selection in the safest manner.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.prepare_models">
<span class="sig-name descname"><span class="pre">prepare_models</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.prepare_models"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.prepare_models" title="Link to this definition">¶</a></dt>
<dd><p>Read all control files related to the current <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> objects, initialise
the defined models, and prepare their parameter values.</p>
<p>First, we call function <a class="reference internal" href="examples.html#hydpy.examples.prepare_full_example_1" title="hydpy.examples.prepare_full_example_1"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_full_example_1()</span></code></a> to prepare the <cite>LahnH</cite> example
project:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.examples</span> <span class="kn">import</span> <span class="n">prepare_full_example_1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prepare_full_example_1</span><span class="p">()</span>
</pre></div>
</div>
<p>Now we can initialise a <a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a> instance accordingly and call its methods
<a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_network" title="hydpy.core.hydpytools.HydPy.prepare_network"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_network()</span></code></a> and <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_models" title="hydpy.core.hydpytools.HydPy.prepare_models"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_models()</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">HydPy</span><span class="p">,</span> <span class="n">pub</span><span class="p">,</span> <span class="n">round_</span><span class="p">,</span> <span class="n">TestIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span> <span class="o">=</span> <span class="s2">&quot;1996-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;1996-01-05&quot;</span><span class="p">,</span> <span class="s2">&quot;1d&quot;</span>
<span class="gp">... </span>    <span class="n">hp</span> <span class="o">=</span> <span class="n">HydPy</span><span class="p">(</span><span class="s2">&quot;LahnH&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">prepare_network</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">prepare_models</span><span class="p">()</span>
</pre></div>
</div>
<p>As a result, each <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> object handles a model of the type and with the
parameter values defined in the relevant control file:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">land_dill</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;hland_v1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">land_dill</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">area</span>
<span class="go">area(692.3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">stream_lahn_1_lahn_2</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;musk_classic&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">stream_lahn_1_lahn_2</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">nmbsegments</span>
<span class="go">nmbsegments(lag=0.583)</span>
</pre></div>
</div>
<p>The <cite>LahnH</cite> example project comes with one auxiliary file, named <cite>land.py</cite>.
This file defines general parameter values, valid for all single parameter
objects of the different model instances referencing this file via the <cite>auxfile</cite>
keyword argument.  The following examples use the <cite>land_dill</cite> element to show
that the affected parameters are also correctly prepared:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">control</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">land_dill</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">control</span><span class="o">.</span><span class="n">alpha</span>
<span class="go">alpha(1.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">control</span><span class="o">.</span><span class="n">pcorr</span>
<span class="go">pcorr(1.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">control</span><span class="o">.</span><span class="n">resparea</span>
<span class="go">resparea(True)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">control</span><span class="o">.</span><span class="n">icmax</span>
<span class="go">icmax(field=1.0, forest=1.5)</span>
</pre></div>
</div>
<p>We show that the individual <a class="reference internal" href="hland.html#hydpy.models.hland.hland_control.IcMax" title="hydpy.models.hland.hland_control.IcMax"><code class="xref py py-class docutils literal notranslate"><span class="pre">IcMax</span></code></a> values for two different
elements are different to demonstrate that parameter values defined within a
master control file (<a class="reference internal" href="hland.html#hydpy.models.hland.hland_control.ZoneType" title="hydpy.models.hland.hland_control.ZoneType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZoneType</span></code></a>) can affect the actual values of
parameters defined in auxiliary control files:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">control</span><span class="o">.</span><span class="n">icmax</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="go">1.0, 1.5, 1.0, 1.5, 1.0, 1.5, 1.0, 1.5, 1.0, 1.5, 1.0, 1.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">land_lahn_2</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">icmax</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="go">1.0, 1.5, 1.0, 1.5, 1.0, 1.5, 1.0, 1.5, 1.0, 1.5</span>
</pre></div>
</div>
<p>Missing parameter information in auxiliary files results in errors like the
following:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">filepath</span> <span class="o">=</span> <span class="s2">&quot;LahnH/control/default/land.py&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span> <span class="k">as</span> <span class="n">infile</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">text</span> <span class="o">=</span> <span class="n">infile</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;alpha(1.0)&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">prepare_models</span><span class="p">()</span>   
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">While trying to initialise the model object of element `land_dill`, the following error occurred: While trying to load the control file `...land_dill.py`, the following error occurred: While trying to extract information for parameter `alpha` from file `land`, the following error occurred: The selected auxiliary file does not define value(s) for parameter `alpha`.</span>
</pre></div>
</div>
<p>Completely wrong control files result in the following error:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;LahnH/control/default/land_dill.py&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">pass</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">prepare_models</span><span class="p">()</span>   
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">While trying to initialise the model object of element `land_dill`, the following error occurred: Model parameters cannot be loaded from control file `...land_dill.py`.  Please refer to the HydPy documentation on how to prepare control files properly.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.init_models">
<span class="sig-name descname"><span class="pre">init_models</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.init_models"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.init_models" title="Link to this definition">¶</a></dt>
<dd><p>Deprecated! Use method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_models" title="hydpy.core.hydpytools.HydPy.prepare_models"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_models()</span></code></a> instead.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">HydPy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">mock</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.core.testtools</span> <span class="kn">import</span> <span class="n">warn_later</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warn_later</span><span class="p">(),</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">object</span><span class="p">(</span><span class="n">HydPy</span><span class="p">,</span> <span class="s2">&quot;prepare_models&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">mocked</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">hp</span> <span class="o">=</span> <span class="n">HydPy</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">init_models</span><span class="p">()</span>
<span class="go">HydPyDeprecationWarning: Method `init_models` of class `HydPy` is deprecated.  Use method `prepare_models` instead.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mocked</span><span class="o">.</span><span class="n">call_args_list</span>
<span class="go">[call()]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.save_controls">
<span class="sig-name descname"><span class="pre">save_controls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameterstep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">timetools.PeriodConstrArg</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulationstep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">timetools.PeriodConstrArg</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auxfiler</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="auxfiletools.html#hydpy.core.auxfiletools.Auxfiler" title="hydpy.core.auxfiletools.Auxfiler"><span class="pre">auxfiletools.Auxfiler</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.save_controls"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.save_controls" title="Link to this definition">¶</a></dt>
<dd><p>Write the control files of all current <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> objects.</p>
<p>We use the <cite>LahnH</cite> example project to demonstrate how to write a complete set
of parameter control files.  For convenience, we let function
<a class="reference internal" href="examples.html#hydpy.examples.prepare_full_example_2" title="hydpy.examples.prepare_full_example_2"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_full_example_2()</span></code></a> prepare a fully functional <a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a> object, handling
seven <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> objects controlling four <a class="reference internal" href="hland_v1.html#module-hydpy.models.hland_v1" title="hydpy.models.hland_v1"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hland_v1</span></code></a> and three <a class="reference internal" href="musk_classic.html#module-hydpy.models.musk_classic" title="hydpy.models.musk_classic"><code class="xref py py-mod docutils literal notranslate"><span class="pre">musk_classic</span></code></a>
application models:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.examples</span> <span class="kn">import</span> <span class="n">prepare_full_example_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="p">,</span> <span class="n">pub</span><span class="p">,</span> <span class="n">TestIO</span> <span class="o">=</span> <span class="n">prepare_full_example_2</span><span class="p">()</span>
</pre></div>
</div>
<p>At first, there is only one control subfolder named “default”, containing the
seven master control files used in the step above:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s2">&quot;LahnH/control&quot;</span><span class="p">)</span>
<span class="go">[&#39;default&#39;]</span>
</pre></div>
</div>
<p>Next, we use the <a class="reference internal" href="filetools.html#hydpy.core.filetools.ControlManager" title="hydpy.core.filetools.ControlManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">ControlManager</span></code></a> to create a new directory and write analogue
control files into it:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">pub</span><span class="o">.</span><span class="n">controlmanager</span><span class="o">.</span><span class="n">currentdir</span> <span class="o">=</span> <span class="s2">&quot;newdir&quot;</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">save_controls</span><span class="p">()</span>
<span class="gp">... </span>    <span class="nb">sorted</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s2">&quot;LahnH/control&quot;</span><span class="p">))</span>
<span class="go">[&#39;default&#39;, &#39;newdir&#39;]</span>
</pre></div>
</div>
<p>We focus our examples on the (shorter) control files of the application model
<a class="reference internal" href="musk_classic.html#module-hydpy.models.musk_classic" title="hydpy.models.musk_classic"><code class="xref py py-mod docutils literal notranslate"><span class="pre">musk_classic</span></code></a>.  These control files define the values of the parameters
<a class="reference internal" href="musk.html#hydpy.models.musk.musk_control.NmbSegments" title="hydpy.models.musk.musk_control.NmbSegments"><code class="xref py py-class docutils literal notranslate"><span class="pre">NmbSegments</span></code></a> and <a class="reference internal" href="musk.html#hydpy.models.musk.musk_control.Coefficients" title="hydpy.models.musk.musk_control.Coefficients"><code class="xref py py-class docutils literal notranslate"><span class="pre">Coefficients</span></code></a> via the keyword
arguments <cite>lag</cite> and <cite>damp</cite>.  For the river channel connecting the outlets of
subcatchment <cite>lahn_1</cite> and <cite>lahn_2</cite>, the <cite>lag</cite> value is 0.583 days, and the
<cite>damp</cite> value is zero:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">stream_lahn_1_lahn_2</span><span class="o">.</span><span class="n">model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span>
<span class="go">nmbsegments(lag=0.583)</span>
<span class="go">coefficients(damp=0.0)</span>
</pre></div>
</div>
<p>Its control file’s name equals the element’s name:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dir_</span> <span class="o">=</span> <span class="s2">&quot;LahnH/control/newdir/&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">dir_</span> <span class="o">+</span> <span class="s2">&quot;stream_lahn_1_lahn_2.py&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">controlfile</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">controlfile</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="go"># -*- coding: utf-8 -*-</span>

<span class="go">from hydpy.models.musk_classic import *</span>

<span class="go">simulationstep(&quot;1d&quot;)</span>
<span class="go">parameterstep(&quot;1d&quot;)</span>

<span class="go">nmbsegments(lag=0.583)</span>
<span class="go">coefficients(damp=0.0)</span>
</pre></div>
</div>
<p>The time step information stems from the <a class="reference internal" href="timetools.html#hydpy.core.timetools.Timegrid" title="hydpy.core.timetools.Timegrid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timegrid</span></code></a> object available via <code class="xref py py-mod docutils literal notranslate"><span class="pre">pub</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">stepsize</span>
<span class="go">Period(&quot;1d&quot;)</span>
</pre></div>
</div>
<p>Use the <a class="reference internal" href="auxfiletools.html#hydpy.core.auxfiletools.Auxfiler" title="hydpy.core.auxfiletools.Auxfiler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Auxfiler</span></code></a> class to avoid redefining the same parameter values in
multiple control files.  We prepare an <a class="reference internal" href="auxfiletools.html#hydpy.core.auxfiletools.Auxfiler" title="hydpy.core.auxfiletools.Auxfiler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Auxfiler</span></code></a> object that handles the
model’s two parameters discussed above:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">Auxfiler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxfiler</span> <span class="o">=</span> <span class="n">Auxfiler</span><span class="p">(</span><span class="s2">&quot;musk_classic&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxfiler</span><span class="o">.</span><span class="n">musk_classic</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">nmbsegments</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;stream&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxfiler</span><span class="o">.</span><span class="n">musk_classic</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">coefficients</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;stream&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>When passing the <a class="reference internal" href="auxfiletools.html#hydpy.core.auxfiletools.Auxfiler" title="hydpy.core.auxfiletools.Auxfiler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Auxfiler</span></code></a> object to the method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_controls" title="hydpy.core.hydpytools.HydPy.save_controls"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_controls()</span></code></a>, the
control file of element <cite>stream_lahn_1_lahn_2</cite> does not define the values of
both parameters on its own but references the auxiliary file <cite>stream.py</cite>
instead:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">pub</span><span class="o">.</span><span class="n">controlmanager</span><span class="o">.</span><span class="n">currentdir</span> <span class="o">=</span> <span class="s2">&quot;newdir&quot;</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">save_controls</span><span class="p">(</span><span class="n">auxfiler</span><span class="o">=</span><span class="n">auxfiler</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">dir_</span> <span class="o">+</span> <span class="s2">&quot;stream_lahn_1_lahn_2.py&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">controlfile</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">controlfile</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="go"># -*- coding: utf-8 -*-</span>

<span class="go">from hydpy.models.musk_classic import *</span>

<span class="go">simulationstep(&quot;1d&quot;)</span>
<span class="go">parameterstep(&quot;1d&quot;)</span>

<span class="go">nmbsegments(auxfile=&quot;stream&quot;)</span>
<span class="go">coefficients(auxfile=&quot;stream&quot;)</span>
</pre></div>
</div>
<p><cite>stream.py</cite> contains the actual value definitions:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">dir_</span> <span class="o">+</span> <span class="s2">&quot;stream.py&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">controlfile</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">controlfile</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="go"># -*- coding: utf-8 -*-</span>

<span class="go">from hydpy.models.musk_classic import *</span>

<span class="go">simulationstep(&quot;1d&quot;)</span>
<span class="go">parameterstep(&quot;1d&quot;)</span>

<span class="go">nmbsegments(lag=0.583)</span>
<span class="go">coefficients(damp=0.0)</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="musk_classic.html#module-hydpy.models.musk_classic" title="hydpy.models.musk_classic"><code class="xref py py-mod docutils literal notranslate"><span class="pre">musk_classic</span></code></a> model of element <cite>stream_lahn_2_lahn_3</cite> defines the same
value for parameter <a class="reference internal" href="musk.html#hydpy.models.musk.musk_control.Coefficients" title="hydpy.models.musk.musk_control.Coefficients"><code class="xref py py-class docutils literal notranslate"><span class="pre">Coefficients</span></code></a> but a different one for
parameter <a class="reference internal" href="musk.html#hydpy.models.musk.musk_control.NmbSegments" title="hydpy.models.musk.musk_control.NmbSegments"><code class="xref py py-class docutils literal notranslate"><span class="pre">NmbSegments</span></code></a>.  Hence, only <a class="reference internal" href="musk.html#hydpy.models.musk.musk_control.Coefficients" title="hydpy.models.musk.musk_control.Coefficients"><code class="xref py py-class docutils literal notranslate"><span class="pre">Coefficients</span></code></a>
can reference the control file <cite>stream.py</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">dir_</span> <span class="o">+</span> <span class="s2">&quot;stream_lahn_2_lahn_3.py&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">controlfile</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">controlfile</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="go"># -*- coding: utf-8 -*-</span>

<span class="go">from hydpy.models.musk_classic import *</span>

<span class="go">simulationstep(&quot;1d&quot;)</span>
<span class="go">parameterstep(&quot;1d&quot;)</span>

<span class="go">nmbsegments(lag=0.417)</span>
<span class="go">coefficients(auxfile=&quot;stream&quot;)</span>
</pre></div>
</div>
<p>Another option is to pass alternative step size information.  The
<cite>simulationstep</cite> information, which is no integral part of control files but
helpful in testing them, has no impact on the written data.  However, passing
an alternative <cite>parameterstep</cite> information changes the written values of
time-dependent parameters both in the primary and the auxiliary control files:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">pub</span><span class="o">.</span><span class="n">controlmanager</span><span class="o">.</span><span class="n">currentdir</span> <span class="o">=</span> <span class="s2">&quot;newdir&quot;</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">save_controls</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">auxfiler</span><span class="o">=</span><span class="n">auxfiler</span><span class="p">,</span> <span class="n">parameterstep</span><span class="o">=</span><span class="s2">&quot;2d&quot;</span><span class="p">,</span> <span class="n">simulationstep</span><span class="o">=</span><span class="s2">&quot;1h&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">dir_</span> <span class="o">+</span> <span class="s2">&quot;stream_lahn_1_lahn_2.py&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">controlfile</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">controlfile</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="go"># -*- coding: utf-8 -*-</span>

<span class="go">from hydpy.models.musk_classic import *</span>

<span class="go">simulationstep(&quot;1h&quot;)</span>
<span class="go">parameterstep(&quot;2d&quot;)</span>

<span class="go">nmbsegments(auxfile=&quot;stream&quot;)</span>
<span class="go">coefficients(auxfile=&quot;stream&quot;)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">dir_</span> <span class="o">+</span> <span class="s2">&quot;stream.py&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">controlfile</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">controlfile</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="go"># -*- coding: utf-8 -*-</span>

<span class="go">from hydpy.models.musk_classic import *</span>

<span class="go">simulationstep(&quot;1h&quot;)</span>
<span class="go">parameterstep(&quot;2d&quot;)</span>

<span class="go">nmbsegments(lag=0.2915)</span>
<span class="go">coefficients(damp=0.0)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">dir_</span> <span class="o">+</span> <span class="s2">&quot;stream_lahn_2_lahn_3.py&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">controlfile</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">controlfile</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="go"># -*- coding: utf-8 -*-</span>

<span class="go">from hydpy.models.musk_classic import *</span>

<span class="go">simulationstep(&quot;1h&quot;)</span>
<span class="go">parameterstep(&quot;2d&quot;)</span>

<span class="go">nmbsegments(lag=0.2085)</span>
<span class="go">coefficients(auxfile=&quot;stream&quot;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.load_conditions">
<span class="sig-name descname"><span class="pre">load_conditions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.load_conditions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.load_conditions" title="Link to this definition">¶</a></dt>
<dd><p>Load all currently relevant initial conditions.</p>
<p>The following examples demonstrate both the functionality of method
<a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_conditions" title="hydpy.core.hydpytools.HydPy.load_conditions"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_conditions()</span></code></a> and <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_conditions" title="hydpy.core.hydpytools.HydPy.save_conditions"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_conditions()</span></code></a> based on the <cite>LahnH</cite>
project, which we prepare via function <a class="reference internal" href="examples.html#hydpy.examples.prepare_full_example_2" title="hydpy.examples.prepare_full_example_2"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_full_example_2()</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.examples</span> <span class="kn">import</span> <span class="n">prepare_full_example_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="p">,</span> <span class="n">pub</span><span class="p">,</span> <span class="n">TestIO</span> <span class="o">=</span> <span class="n">prepare_full_example_2</span><span class="p">()</span>
</pre></div>
</div>
<p>Our <a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a> instance <cite>hp</cite> is ready for the first simulation run, meaning the
required initial conditions are available already.  First, we start a
simulation run covering the whole initialisation period and inspect the
resulting soil moisture values of <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> <cite>land_dill</cite>, handled by a sequence
object of type <a class="reference internal" href="hland.html#hydpy.models.hland.hland_states.SM" title="hydpy.models.hland.hland_states.SM"><code class="xref py py-class docutils literal notranslate"><span class="pre">SM</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">land_dill</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">sm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span>
<span class="go">sm(184.098541, 180.176461, 198.689343, 195.462014, 210.856923,</span>
<span class="go">   208.319571, 220.881637, 218.898327, 229.022364, 227.431521,</span>
<span class="go">   235.597338, 234.329294)</span>
</pre></div>
</div>
<p>By default, method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_conditions" title="hydpy.core.hydpytools.HydPy.load_conditions"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_conditions()</span></code></a> always (re)loads the initial
conditions from the directory with its name matching the start date of the
simulation period, which we prove by also showing the related content of the
respective condition file <cite>land_dill.py</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">load_conditions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span>
<span class="go">sm(185.13164, 181.18755, 199.80432, 196.55888, 212.04018, 209.48859,</span>
<span class="go">   222.12115, 220.12671, 230.30756, 228.70779, 236.91943, 235.64427)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;LahnH/conditions/init_1996_01_01_00_00_00/land_dill.py&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">lines</span> <span class="o">=</span> <span class="n">file_</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="mi">11</span><span class="p">])</span>
<span class="go">sm(185.13164, 181.18755, 199.80432, 196.55888, 212.04018, 209.48859,</span>
<span class="go">   222.12115, 220.12671, 230.30756, 228.70779, 236.91943, 235.64427)</span>
</pre></div>
</div>
<p>Now we perform two consecutive runs, covering the first and the second half of
the initialisation period, respectively, and write, in both cases, the
resulting final conditions to disk:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">lastdate</span> <span class="o">=</span> <span class="s2">&quot;1996-01-03&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span>
<span class="go">sm(184.603966, 180.671117, 199.234825, 195.998635, 211.435809,</span>
<span class="go">   208.891492, 221.488046, 219.49929, 229.651122, 228.055912,</span>
<span class="go">   236.244147, 234.972621)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">save_conditions</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">firstdate</span> <span class="o">=</span> <span class="s2">&quot;1996-01-03&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">lastdate</span> <span class="o">=</span> <span class="s2">&quot;1996-01-05&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">save_conditions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span>
<span class="go">sm(184.098541, 180.176461, 198.689343, 195.462014, 210.856923,</span>
<span class="go">   208.319571, 220.881637, 218.898327, 229.022364, 227.431521,</span>
<span class="go">   235.597338, 234.329294)</span>
</pre></div>
</div>
<p>Analogous to method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_conditions" title="hydpy.core.hydpytools.HydPy.load_conditions"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_conditions()</span></code></a>, method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_conditions" title="hydpy.core.hydpytools.HydPy.save_conditions"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_conditions()</span></code></a>
writes the resulting conditions to a directory with its name matching the end
date of the simulation period, which we prove by reloading the conditions
related to the middle of the initialisation period and showing the relevant
file content:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">load_conditions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span>
<span class="go">sm(184.603966, 180.671117, 199.234825, 195.998635, 211.435809,</span>
<span class="go">   208.891492, 221.488046, 219.49929, 229.651122, 228.055912,</span>
<span class="go">   236.244147, 234.972621)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;LahnH/conditions/init_1996_01_03_00_00_00/land_dill.py&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">lines</span> <span class="o">=</span> <span class="n">file_</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="mi">11</span><span class="p">])</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="mi">12</span><span class="p">])</span>
<span class="go">sm(184.603966, 180.671117, 199.234825, 195.998635, 211.435809,</span>
<span class="go">   208.891492, 221.488046, 219.49929, 229.651122, 228.055912,</span>
<span class="go">   236.244147, 234.972621)</span>
</pre></div>
</div>
<p>You can define another directory by assigning a different name to the attribute
<a class="reference internal" href="filetools.html#hydpy.core.filetools.FileManager.currentdir" title="hydpy.core.filetools.FileManager.currentdir"><code class="xref py py-const docutils literal notranslate"><span class="pre">currentdir</span></code></a> of the actual <a class="reference internal" href="filetools.html#hydpy.core.filetools.ConditionManager" title="hydpy.core.filetools.ConditionManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConditionManager</span></code></a> instance:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">pub</span><span class="o">.</span><span class="n">conditionmanager</span><span class="o">.</span><span class="n">currentdir</span> <span class="o">=</span> <span class="s2">&quot;test&quot;</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">save_conditions</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;LahnH/conditions/test/land_dill.py&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">lines</span> <span class="o">=</span> <span class="n">file_</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="mi">11</span><span class="p">])</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="mi">12</span><span class="p">])</span>
<span class="go">sm(184.603966, 180.671117, 199.234825, 195.998635, 211.435809,</span>
<span class="go">   208.891492, 221.488046, 219.49929, 229.651122, 228.055912,</span>
<span class="go">   236.244147, 234.972621)</span>
</pre></div>
</div>
<p>This change remains permanent until you undo it manually:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">firstdate</span> <span class="o">=</span> <span class="s2">&quot;1996-01-01&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">load_conditions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span>
<span class="go">sm(184.603966, 180.671117, 199.234825, 195.998635, 211.435809,</span>
<span class="go">   208.891492, 221.488046, 219.49929, 229.651122, 228.055912,</span>
<span class="go">   236.244147, 234.972621)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">pub</span><span class="o">.</span><span class="n">conditionmanager</span><span class="o">.</span><span class="n">currentdir</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">load_conditions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span>
<span class="go">sm(185.13164, 181.18755, 199.80432, 196.55888, 212.04018, 209.48859,</span>
<span class="go">   222.12115, 220.12671, 230.30756, 228.70779, 236.91943, 235.64427)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.save_conditions">
<span class="sig-name descname"><span class="pre">save_conditions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.save_conditions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.save_conditions" title="Link to this definition">¶</a></dt>
<dd><p>Save all currently relevant final conditions.</p>
<p>See the documentation on method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_conditions" title="hydpy.core.hydpytools.HydPy.load_conditions"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_conditions()</span></code></a> for further information.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.trim_conditions">
<span class="sig-name descname"><span class="pre">trim_conditions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.trim_conditions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.trim_conditions" title="Link to this definition">¶</a></dt>
<dd><p>Check all values of the condition sequences (<a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.StateSequence" title="hydpy.core.sequencetools.StateSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateSequence</span></code></a> and
<a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.LogSequence" title="hydpy.core.sequencetools.LogSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">LogSequence</span></code></a> objects) for boundary violations and fix them if necessary.</p>
<p>We use the <cite>LahnH</cite> example project to explain the functionality of the method
<a class="reference internal" href="#hydpy.core.hydpytools.HydPy.trim_conditions" title="hydpy.core.hydpytools.HydPy.trim_conditions"><code class="xref py py-func docutils literal notranslate"><span class="pre">trim_conditions()</span></code></a>, which gives no response when all conditions are
correctly set:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.examples</span> <span class="kn">import</span> <span class="n">prepare_full_example_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="p">,</span> <span class="n">pub</span><span class="p">,</span> <span class="n">TestIO</span> <span class="o">=</span> <span class="n">prepare_full_example_2</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">warntrim</span><span class="p">(</span><span class="kc">True</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">trim_conditions</span><span class="p">()</span>
</pre></div>
</div>
<p>If you try, for example, to set interception capacities (<a class="reference internal" href="hland.html#hydpy.models.hland.hland_states.Ic" title="hydpy.models.hland.hland_states.Ic"><code class="xref py py-class docutils literal notranslate"><span class="pre">Ic</span></code></a>)
that violate the maximum capacity (<a class="reference internal" href="hland.html#hydpy.models.hland.hland_control.IcMax" title="hydpy.models.hland.hland_control.IcMax"><code class="xref py py-class docutils literal notranslate"><span class="pre">IcMax</span></code></a>), you get a direct
response based on function <a class="reference internal" href="variabletools.html#hydpy.core.variabletools.trim" title="hydpy.core.variabletools.trim"><code class="xref py py-func docutils literal notranslate"><span class="pre">trim()</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.core.testtools</span> <span class="kn">import</span> <span class="n">warn_later</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">warntrim</span><span class="p">(</span><span class="kc">True</span><span class="p">),</span> <span class="n">warn_later</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">land_dill</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">ic</span><span class="p">(</span><span class="mf">1.2</span><span class="p">)</span>
<span class="go">UserWarning: For variable `ic` of element `land_dill` at least one value needed to be trimmed.  The old and the new value(s) are `1.2, 1.2, 1.2, 1.2, 1.2, 1.2, 1.2, 1.2, 1.2, 1.2, 1.2, 1.2` and `1.0, 1.2, 1.0, 1.2, 1.0, 1.2, 1.0, 1.2, 1.0, 1.2, 1.0, 1.2`, respectively.</span>
</pre></div>
</div>
<p>However, changing the boundaries themselves without adjusting the conditions
cannot be detected automatically.  Whenever in doubt, call method
<a class="reference internal" href="#hydpy.core.hydpytools.HydPy.trim_conditions" title="hydpy.core.hydpytools.HydPy.trim_conditions"><code class="xref py py-func docutils literal notranslate"><span class="pre">trim_conditions()</span></code></a> explicitly:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">land_dill</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">icmax</span><span class="p">(</span><span class="mf">1.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">warntrim</span><span class="p">(</span><span class="kc">True</span><span class="p">),</span> <span class="n">warn_later</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">trim_conditions</span><span class="p">()</span>
<span class="go">UserWarning: For variable `ic` of element `land_dill` at least one value needed to be trimmed.  The old and the new value(s) are `1.0, 1.2, 1.0, 1.2, 1.0, 1.2, 1.0, 1.2, 1.0, 1.2, 1.0, 1.2` and `1.0, 1.1, 1.0, 1.1, 1.0, 1.1, 1.0, 1.1, 1.0, 1.1, 1.0, 1.1`, respectively.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.reset_conditions">
<span class="sig-name descname"><span class="pre">reset_conditions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.reset_conditions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.reset_conditions" title="Link to this definition">¶</a></dt>
<dd><p>Reset all currently relevant condition sequences.</p>
<p>Method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.reset_conditions" title="hydpy.core.hydpytools.HydPy.reset_conditions"><code class="xref py py-func docutils literal notranslate"><span class="pre">reset_conditions()</span></code></a> is the most convenient way to perform
simulations repeatedly for the same period, each time starting from the same
initial conditions, e.g. for parameter calibration. Each <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.StateSequence" title="hydpy.core.sequencetools.StateSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateSequence</span></code></a> and
<a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.LogSequence" title="hydpy.core.sequencetools.LogSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">LogSequence</span></code></a> object remembers the last assigned values and can reactivate them
for the mentioned purpose.</p>
<p>For demonstration, we perform a simulation for the <cite>LahnH</cite> example project
spanning four days:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.examples</span> <span class="kn">import</span> <span class="n">prepare_full_example_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="p">,</span> <span class="n">pub</span><span class="p">,</span> <span class="n">TestIO</span> <span class="o">=</span> <span class="n">prepare_full_example_2</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">print_values</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">54.043745, 37.320814, 31.922053, 28.413644</span>
</pre></div>
</div>
<p>Just repeating the simulation gives different results due to applying the final
states of the first simulation run as the initial states of the second run:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">26.218473, 25.039964, 24.205384, 23.296241</span>
</pre></div>
</div>
<p>Calling <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.reset_conditions" title="hydpy.core.hydpytools.HydPy.reset_conditions"><code class="xref py py-func docutils literal notranslate"><span class="pre">reset_conditions()</span></code></a> first allows repeating the first simulation
run exactly multiple times:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">reset_conditions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">54.043745, 37.320814, 31.922053, 28.413644</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">reset_conditions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">54.043745, 37.320814, 31.922053, 28.413644</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.conditions">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">conditions</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.11)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.11)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.11)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.25)"><span class="pre">ndarray</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)"><span class="pre">Any</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.25)"><span class="pre">dtype</span></a><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.conditions" title="Link to this definition">¶</a></dt>
<dd><p>A nested dictionary that contains the values of all condition sequences of
all currently handled models.</p>
<p>The primary  purpose of property <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.conditions" title="hydpy.core.hydpytools.HydPy.conditions"><code class="xref py py-const docutils literal notranslate"><span class="pre">conditions</span></code></a> is similar to method
<a class="reference internal" href="#hydpy.core.hydpytools.HydPy.reset_conditions" title="hydpy.core.hydpytools.HydPy.reset_conditions"><code class="xref py py-func docutils literal notranslate"><span class="pre">reset_conditions()</span></code></a>, to allow to perform repeated calculations starting
from the same initial conditions.  Nevertheless, <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.conditions" title="hydpy.core.hydpytools.HydPy.conditions"><code class="xref py py-const docutils literal notranslate"><span class="pre">conditions</span></code></a> is more
flexible when to handling multiple conditions, which can, for example, be
useful for applying ensemble-based assimilation algorithms.</p>
<p>For demonstration, we perform simulations for the <cite>LahnH</cite> example project
spanning the first three months of 1996.  We begin with a preparation run
beginning on January 1 and ending on February 20:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.examples</span> <span class="kn">import</span> <span class="n">prepare_full_example_1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prepare_full_example_1</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">HydPy</span><span class="p">,</span> <span class="n">pub</span><span class="p">,</span> <span class="n">TestIO</span><span class="p">,</span> <span class="n">print_values</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span> <span class="o">=</span> <span class="n">HydPy</span><span class="p">(</span><span class="s2">&quot;LahnH&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span> <span class="o">=</span> <span class="s2">&quot;1996-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;1996-04-01&quot;</span><span class="p">,</span> <span class="s2">&quot;1d&quot;</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">prepare_everything</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">lastdate</span> <span class="o">=</span> <span class="s2">&quot;1996-02-20&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">[</span><span class="mi">48</span><span class="p">:</span><span class="mi">52</span><span class="p">])</span>
<span class="go">70.553509, 94.344086, nan, nan</span>
</pre></div>
</div>
<p>At the end of the preparation run, a snow layer is covering the Lahn catchment.
In the <cite>lahn_1</cite> subcatchment, this snow layer contains 19.5 mm of frozen water
and 1.7 mm of liquid water:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lahn1_states</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">land_lahn_1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">states</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">([</span><span class="n">lahn1_states</span><span class="o">.</span><span class="n">sp</span><span class="o">.</span><span class="n">average_values</span><span class="p">()])</span>
<span class="go">19.543831</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">([</span><span class="n">lahn1_states</span><span class="o">.</span><span class="n">wc</span><span class="o">.</span><span class="n">average_values</span><span class="p">()])</span>
<span class="go">1.745963</span>
</pre></div>
</div>
<p>Now we save the current conditions and perform the first simulation run from
the 20th day of February until the end of March:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conditions</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">conditions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">firstdate</span> <span class="o">=</span> <span class="s2">&quot;1996-02-20&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">lastdate</span> <span class="o">=</span> <span class="s2">&quot;1996-04-01&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">first</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">(</span><span class="n">first</span><span class="p">[</span><span class="mi">48</span><span class="p">:</span><span class="mi">52</span><span class="p">])</span>
<span class="go">0.0, 0.0, 85.150677, 63.902098</span>
</pre></div>
</div>
<p>To exactly repeat the last simulation run, we assign the memorised conditions
to property <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.conditions" title="hydpy.core.hydpytools.HydPy.conditions"><code class="xref py py-const docutils literal notranslate"><span class="pre">conditions</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">conditions</span> <span class="o">=</span> <span class="n">conditions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">([</span><span class="n">lahn1_states</span><span class="o">.</span><span class="n">sp</span><span class="o">.</span><span class="n">average_values</span><span class="p">()])</span>
<span class="go">19.543831</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">([</span><span class="n">lahn1_states</span><span class="o">.</span><span class="n">wc</span><span class="o">.</span><span class="n">average_values</span><span class="p">()])</span>
<span class="go">1.745963</span>
</pre></div>
</div>
<p>All discharge values of the second simulation run are identical to the ones of
the first simulation run:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">firstdate</span> <span class="o">=</span> <span class="s2">&quot;1996-02-20&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">lastdate</span> <span class="o">=</span> <span class="s2">&quot;1996-04-01&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">second</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">(</span><span class="n">second</span><span class="p">[</span><span class="mi">48</span><span class="p">:</span><span class="mi">52</span><span class="p">])</span>
<span class="go">0.0, 0.0, 85.150677, 63.902098</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">all</span><span class="p">(</span><span class="n">first</span> <span class="o">==</span> <span class="n">second</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>We selected the snow period as an example due to potential problems with the
limited water holding capacity of the snow layer, which depends on the ice
content of the snow layer (<a class="reference internal" href="hland.html#hydpy.models.hland.hland_states.SP" title="hydpy.models.hland.hland_states.SP"><code class="xref py py-class docutils literal notranslate"><span class="pre">SP</span></code></a>) and the relative water holding
capacity (<a class="reference internal" href="hland.html#hydpy.models.hland.hland_control.WHC" title="hydpy.models.hland.hland_control.WHC"><code class="xref py py-class docutils literal notranslate"><span class="pre">WHC</span></code></a>).  Due to this restriction, problems can occur.
To give an example, we set <a class="reference internal" href="hland.html#hydpy.models.hland.hland_control.WHC" title="hydpy.models.hland.hland_control.WHC"><code class="xref py py-class docutils literal notranslate"><span class="pre">WHC</span></code></a> to zero temporarily, apply the
memorised conditions, and finally reset the original values of |
hland_control.WHC|:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">catchment</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">element</span><span class="o">.</span><span class="n">whc</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">whc</span><span class="o">.</span><span class="n">values</span>
<span class="gp">... </span>    <span class="n">element</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">whc</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">warntrim</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">conditions</span> <span class="o">=</span> <span class="n">conditions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">catchment</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">element</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">control</span><span class="o">.</span><span class="n">whc</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">whc</span>
</pre></div>
</div>
<p>Without any water holding capacity of the snow layer, its water content is zero
despite the actual memorised value of 1.7 mm:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">([</span><span class="n">lahn1_states</span><span class="o">.</span><span class="n">sp</span><span class="o">.</span><span class="n">average_values</span><span class="p">()])</span>
<span class="go">19.543831</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">([</span><span class="n">lahn1_states</span><span class="o">.</span><span class="n">wc</span><span class="o">.</span><span class="n">average_values</span><span class="p">()])</span>
<span class="go">0.0</span>
</pre></div>
</div>
<p>What is happening in such conflicts partly depends on the implementation of the
respective application model.  For safety, we suggest setting the option
<a class="reference internal" href="optiontools.html#hydpy.core.optiontools.Options.warntrim" title="hydpy.core.optiontools.Options.warntrim"><code class="xref py py-const docutils literal notranslate"><span class="pre">warntrim</span></code></a> to <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code> before resetting conditions.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.networkproperties">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">networkproperties</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">devicetools.NodeVariableType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.networkproperties" title="Link to this definition">¶</a></dt>
<dd><p>Some properties of the network defined by the currently relevant <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> and
<a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> objects.</p>
<p>See the documentation on method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.print_networkproperties" title="hydpy.core.hydpytools.HydPy.print_networkproperties"><code class="xref py py-func docutils literal notranslate"><span class="pre">print_networkproperties()</span></code></a> for further
information.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.print_networkproperties">
<span class="sig-name descname"><span class="pre">print_networkproperties</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.print_networkproperties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.print_networkproperties" title="Link to this definition">¶</a></dt>
<dd><p>Print some properties of the network defined by the currently relevant
<a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> and <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> objects.</p>
<p><a class="reference internal" href="#hydpy.core.hydpytools.HydPy.print_networkproperties" title="hydpy.core.hydpytools.HydPy.print_networkproperties"><code class="xref py py-func docutils literal notranslate"><span class="pre">print_networkproperties()</span></code></a> is for convenience to summarise specific
network measures like <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.segregatednetworks" title="hydpy.core.hydpytools.HydPy.segregatednetworks"><code class="xref py py-const docutils literal notranslate"><span class="pre">segregatednetworks</span></code></a>.</p>
<p>The <cite>LahnH</cite> example project defines a small, single network, with all
catchments ultimately discharging to node <cite>lahn_3</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.examples</span> <span class="kn">import</span> <span class="n">prepare_full_example_1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prepare_full_example_1</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">HydPy</span><span class="p">,</span> <span class="n">pub</span><span class="p">,</span> <span class="n">TestIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span> <span class="o">=</span> <span class="s2">&quot;1996-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;1996-01-05&quot;</span><span class="p">,</span> <span class="s2">&quot;1d&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span> <span class="o">=</span> <span class="n">HydPy</span><span class="p">(</span><span class="s2">&quot;LahnH&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">prepare_network</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">prepare_models</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">print_networkproperties</span><span class="p">()</span>
<span class="go">Number of nodes: 4</span>
<span class="go">Number of elements: 7</span>
<span class="go">Number of end nodes: 1</span>
<span class="go">Number of distinct networks: 1</span>
<span class="go">Applied node variables: Q (4)</span>
<span class="go">Applied model types: hland_v1 (4) and musk_classic (3)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.endnodes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">endnodes</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Nodes" title="hydpy.core.devicetools.Nodes"><span class="pre">Nodes</span></a></em><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.endnodes" title="Link to this definition">¶</a></dt>
<dd><p>All currently relevant <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> objects that define a downstream endpoint of
the network.</p>
<p>The <cite>LahnH</cite> example project defines a small, single network, with all
catchments ultimately discharging to node <cite>lahn_3</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.examples</span> <span class="kn">import</span> <span class="n">prepare_full_example_1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prepare_full_example_1</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">HydPy</span><span class="p">,</span> <span class="n">TestIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span> <span class="o">=</span> <span class="n">HydPy</span><span class="p">(</span><span class="s2">&quot;LahnH&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">prepare_network</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">endnodes</span>
<span class="go">Nodes(&quot;lahn_3&quot;)</span>
</pre></div>
</div>
<p>After breaking the connection between node <cite>lahn_1</cite> and its downstream river
channel element <cite>stream_lahn_1_lahn2</cite>, <cite>lahn_1</cite> also becomes an end node:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_1</span><span class="o">.</span><span class="n">exits</span><span class="o">.</span><span class="n">mutable</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">stream_lahn_1_lahn_2</span><span class="o">.</span><span class="n">inlets</span><span class="o">.</span><span class="n">mutable</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_1</span><span class="o">.</span><span class="n">exits</span><span class="o">.</span><span class="n">stream_lahn_1_lahn_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">stream_lahn_1_lahn_2</span><span class="o">.</span><span class="n">inlets</span><span class="o">.</span><span class="n">lahn_1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">endnodes</span>
<span class="go">Nodes(&quot;lahn_1&quot;, &quot;lahn_3&quot;)</span>
</pre></div>
</div>
<p>Even with a proper connection to a downstream element, a node counts as an end
node as long as these elements are not part of the currently relevant network
(meaning, currently handled by the <a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a> object):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">stream_dill_lahn_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill</span><span class="o">.</span><span class="n">exits</span>
<span class="go">Elements(&quot;stream_dill_lahn_2&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">endnodes</span>
<span class="go">Nodes(&quot;dill&quot;, &quot;lahn_1&quot;, &quot;lahn_3&quot;)</span>
</pre></div>
</div>
<p>Connections with “remote” elements are considered irrelevant:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stream</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">stream_lahn_2_lahn_3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream</span><span class="o">.</span><span class="n">inlets</span><span class="o">.</span><span class="n">mutable</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream</span><span class="o">.</span><span class="n">receivers</span><span class="o">.</span><span class="n">mutable</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream</span><span class="o">.</span><span class="n">receivers</span> <span class="o">+=</span> <span class="n">stream</span><span class="o">.</span><span class="n">inlets</span><span class="o">.</span><span class="n">lahn_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">stream</span><span class="o">.</span><span class="n">inlets</span><span class="o">.</span><span class="n">lahn_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">endnodes</span>
<span class="go">Nodes(&quot;dill&quot;, &quot;lahn_1&quot;, &quot;lahn_2&quot;, &quot;lahn_3&quot;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.segregatednetworks">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">segregatednetworks</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="selectiontools.html#hydpy.core.selectiontools.Selections" title="hydpy.core.selectiontools.Selections"><span class="pre">Selections</span></a></em><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.segregatednetworks" title="Link to this definition">¶</a></dt>
<dd><p>The number of segregated networks defined by the currently relevant <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a>
and <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> objects.</p>
<p>Each end node (as defined by property <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.endnodes" title="hydpy.core.hydpytools.HydPy.endnodes"><code class="xref py py-const docutils literal notranslate"><span class="pre">endnodes</span></code></a>) eventually defines a
single network, segregated from the networks of other end nodes.  Due to the
<cite>LahnH</cite> example project defining only a single end node, there can be only one
segregate network, accordingly:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.examples</span> <span class="kn">import</span> <span class="n">prepare_full_example_1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prepare_full_example_1</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">HydPy</span><span class="p">,</span> <span class="n">TestIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span> <span class="o">=</span> <span class="n">HydPy</span><span class="p">(</span><span class="s2">&quot;LahnH&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">prepare_network</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">segregatednetworks</span>
<span class="go">Selections(&quot;lahn_3&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">segregatednetworks</span><span class="o">.</span><span class="n">lahn_3</span>
<span class="go">Selection(&quot;lahn_3&quot;,</span>
<span class="go">          nodes=(&quot;dill&quot;, &quot;lahn_1&quot;, &quot;lahn_2&quot;, &quot;lahn_3&quot;),</span>
<span class="go">          elements=(&quot;land_dill&quot;, &quot;land_lahn_1&quot;, &quot;land_lahn_2&quot;,</span>
<span class="go">                    &quot;land_lahn_3&quot;, &quot;stream_dill_lahn_2&quot;,</span>
<span class="go">                    &quot;stream_lahn_1_lahn_2&quot;, &quot;stream_lahn_2_lahn_3&quot;))</span>
</pre></div>
</div>
<p>Revisiting the examples of the documentation on property <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.endnodes" title="hydpy.core.hydpytools.HydPy.endnodes"><code class="xref py py-const docutils literal notranslate"><span class="pre">endnodes</span></code></a>, we
get the similar results.  Note that the segregated networks are always
<a class="reference internal" href="selectiontools.html#hydpy.core.selectiontools.Selection" title="hydpy.core.selectiontools.Selection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selection</span></code></a> objects that do not overlap each other (meaning, no <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> or
<a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> object occurs more than one time):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_1</span><span class="o">.</span><span class="n">exits</span><span class="o">.</span><span class="n">mutable</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">stream_lahn_1_lahn_2</span><span class="o">.</span><span class="n">inlets</span><span class="o">.</span><span class="n">mutable</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_1</span><span class="o">.</span><span class="n">exits</span><span class="o">.</span><span class="n">stream_lahn_1_lahn_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">stream_lahn_1_lahn_2</span><span class="o">.</span><span class="n">inlets</span><span class="o">.</span><span class="n">lahn_1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">segregatednetworks</span>
<span class="go">Selections(&quot;lahn_1&quot;, &quot;lahn_3&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">segregatednetworks</span><span class="o">.</span><span class="n">lahn_1</span>
<span class="go">Selection(&quot;lahn_1&quot;,</span>
<span class="go">          nodes=&quot;lahn_1&quot;,</span>
<span class="go">          elements=&quot;land_lahn_1&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">segregatednetworks</span><span class="o">.</span><span class="n">lahn_3</span>
<span class="go">Selection(&quot;lahn_3&quot;,</span>
<span class="go">          nodes=(&quot;dill&quot;, &quot;lahn_2&quot;, &quot;lahn_3&quot;),</span>
<span class="go">          elements=(&quot;land_dill&quot;, &quot;land_lahn_2&quot;, &quot;land_lahn_3&quot;,</span>
<span class="go">                    &quot;stream_dill_lahn_2&quot;, &quot;stream_lahn_1_lahn_2&quot;,</span>
<span class="go">                    &quot;stream_lahn_2_lahn_3&quot;))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">stream_dill_lahn_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill</span><span class="o">.</span><span class="n">exits</span>
<span class="go">Elements(&quot;stream_dill_lahn_2&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">segregatednetworks</span>
<span class="go">Selections(&quot;dill&quot;, &quot;lahn_1&quot;, &quot;lahn_3&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">segregatednetworks</span><span class="o">.</span><span class="n">dill</span>
<span class="go">Selection(&quot;dill&quot;,</span>
<span class="go">          nodes=&quot;dill&quot;,</span>
<span class="go">          elements=&quot;land_dill&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">segregatednetworks</span><span class="o">.</span><span class="n">lahn_1</span>
<span class="go">Selection(&quot;lahn_1&quot;,</span>
<span class="go">          nodes=&quot;lahn_1&quot;,</span>
<span class="go">          elements=&quot;land_lahn_1&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">segregatednetworks</span><span class="o">.</span><span class="n">lahn_3</span>
<span class="go">Selection(&quot;lahn_3&quot;,</span>
<span class="go">          nodes=(&quot;lahn_2&quot;, &quot;lahn_3&quot;),</span>
<span class="go">          elements=(&quot;land_lahn_2&quot;, &quot;land_lahn_3&quot;,</span>
<span class="go">                    &quot;stream_lahn_1_lahn_2&quot;, &quot;stream_lahn_2_lahn_3&quot;))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stream</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">elements</span><span class="o">.</span><span class="n">stream_lahn_2_lahn_3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream</span><span class="o">.</span><span class="n">inlets</span><span class="o">.</span><span class="n">mutable</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream</span><span class="o">.</span><span class="n">receivers</span><span class="o">.</span><span class="n">mutable</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream</span><span class="o">.</span><span class="n">receivers</span> <span class="o">+=</span> <span class="n">stream</span><span class="o">.</span><span class="n">inlets</span><span class="o">.</span><span class="n">lahn_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">stream</span><span class="o">.</span><span class="n">inlets</span><span class="o">.</span><span class="n">lahn_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">segregatednetworks</span>
<span class="go">Selections(&quot;dill&quot;, &quot;lahn_1&quot;, &quot;lahn_2&quot;, &quot;lahn_3&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">segregatednetworks</span><span class="o">.</span><span class="n">dill</span>
<span class="go">Selection(&quot;dill&quot;,</span>
<span class="go">          nodes=&quot;dill&quot;,</span>
<span class="go">          elements=&quot;land_dill&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">segregatednetworks</span><span class="o">.</span><span class="n">lahn_1</span>
<span class="go">Selection(&quot;lahn_1&quot;,</span>
<span class="go">          nodes=&quot;lahn_1&quot;,</span>
<span class="go">          elements=&quot;land_lahn_1&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">segregatednetworks</span><span class="o">.</span><span class="n">lahn_2</span>
<span class="go">Selection(&quot;lahn_2&quot;,</span>
<span class="go">          nodes=&quot;lahn_2&quot;,</span>
<span class="go">          elements=(&quot;land_lahn_2&quot;, &quot;stream_lahn_1_lahn_2&quot;))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">segregatednetworks</span><span class="o">.</span><span class="n">lahn_3</span>
<span class="go">Selection(&quot;lahn_3&quot;,</span>
<span class="go">          nodes=&quot;lahn_3&quot;,</span>
<span class="go">          elements=(&quot;land_lahn_3&quot;, &quot;stream_lahn_2_lahn_3&quot;))</span>
</pre></div>
</div>
<p>In all examples above, the number of the end nodes and the number of the
segregated networks are identical, which is not the case when two or more
networks share the same network.  We restore our original network and add two
additional end nodes, <cite>nowhere</cite> and <cite>somewhere</cite>,  linking the first one with
element <cite>stream_lahn_2_lahn_3</cite> and the second one with the additional element
<cite>stream_lahn_1_nowhere</cite>, which we connect to node <cite>lahn_1</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span> <span class="o">=</span> <span class="n">HydPy</span><span class="p">(</span><span class="s2">&quot;LahnH&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">prepare_network</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">Element</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;stream_lahn_2_lahn_3&quot;</span><span class="p">,</span> <span class="n">outlets</span><span class="o">=</span><span class="s2">&quot;nowhere&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span> <span class="o">+=</span> <span class="s2">&quot;nowhere&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span> <span class="o">+=</span> <span class="n">Element</span><span class="p">(</span><span class="s2">&quot;stream_lahn_1_nowhere&quot;</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">inlets</span><span class="o">=</span><span class="s2">&quot;lahn_1&quot;</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">outlets</span><span class="o">=</span><span class="s2">&quot;somewhere&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span> <span class="o">+=</span> <span class="s2">&quot;somewhere&quot;</span>
</pre></div>
</div>
<p>Now there are three end nodes but only two segregated networks, as node
<cite>nowhere</cite> does not reference any upstream devices not also referenced by node
<cite>lahn_3</cite>.  The unique feature of element <cite>lahn_3</cite> and <cite>stream_lahn_1_nowhere</cite>
is that they drain to either node <cite>lahn_3</cite> or <cite>somewhere</cite> but not both, which
is why they are the only members of selection <cite>lahn_3</cite> and <cite>somewhere</cite>,
respectively:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">endnodes</span>
<span class="go">Nodes(&quot;lahn_3&quot;, &quot;nowhere&quot;, &quot;somewhere&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">segregatednetworks</span>
<span class="go">Selections(&quot;lahn_3&quot;, &quot;somewhere&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">segregatednetworks</span><span class="o">.</span><span class="n">lahn_3</span>
<span class="go">Selection(&quot;lahn_3&quot;,</span>
<span class="go">          nodes=&quot;lahn_3&quot;,</span>
<span class="go">          elements=&quot;land_lahn_3&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">segregatednetworks</span><span class="o">.</span><span class="n">somewhere</span>
<span class="go">Selection(&quot;somewhere&quot;,</span>
<span class="go">          nodes=&quot;somewhere&quot;,</span>
<span class="go">          elements=&quot;stream_lahn_1_nowhere&quot;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.variables">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">variables</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">devicetools.NodeVariableType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.variables" title="Link to this definition">¶</a></dt>
<dd><p>Summary of all <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node.variable" title="hydpy.core.devicetools.Node.variable"><code class="xref py py-const docutils literal notranslate"><span class="pre">variable</span></code></a> properties of the currently relevant <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a>
objects.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.examples</span> <span class="kn">import</span> <span class="n">prepare_full_example_1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prepare_full_example_1</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">HydPy</span><span class="p">,</span> <span class="n">TestIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span> <span class="o">=</span> <span class="n">HydPy</span><span class="p">(</span><span class="s2">&quot;LahnH&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">prepare_network</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">variables</span>
<span class="go">{&#39;Q&#39;: 4}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">FusedVariable</span><span class="p">,</span> <span class="n">Node</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.inputs</span> <span class="kn">import</span> <span class="n">hland_T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span> <span class="o">+=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="n">FusedVariable</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">hland_T</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">variables</span>
<span class="go">{&#39;Q&#39;: 4, FusedVariable(&quot;T&quot;, hland_T): 1}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.modeltypes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">modeltypes</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.11)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.modeltypes" title="Link to this definition">¶</a></dt>
<dd><p>Summary of all <a class="reference internal" href="modeltools.html#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> subclasses of the currently relevant <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a>
objects.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.examples</span> <span class="kn">import</span> <span class="n">prepare_full_example_1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prepare_full_example_1</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">HydPy</span><span class="p">,</span> <span class="n">pub</span><span class="p">,</span> <span class="n">TestIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span> <span class="o">=</span> <span class="n">HydPy</span><span class="p">(</span><span class="s2">&quot;LahnH&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">prepare_network</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">modeltypes</span>
<span class="go">{&#39;unprepared&#39;: 7}</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span> <span class="o">=</span> <span class="s2">&quot;1996-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;1996-01-05&quot;</span><span class="p">,</span> <span class="s2">&quot;1d&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TestIO</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">prepare_models</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">modeltypes</span>
<span class="go">{&#39;hland_v1&#39;: 4, &#39;musk_classic&#39;: 3}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.update_devices">
<span class="sig-name descname"><span class="pre">update_devices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selection</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="selectiontools.html#hydpy.core.selectiontools.Selection" title="hydpy.core.selectiontools.Selection"><span class="pre">selectiontools.Selection</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">devicetools.NodesConstrArg</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elements</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">devicetools.ElementsConstrArg</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.update_devices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.update_devices" title="Link to this definition">¶</a></dt>
<dd><p>Determine the order in which method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.simulate" title="hydpy.core.hydpytools.HydPy.simulate"><code class="xref py py-func docutils literal notranslate"><span class="pre">simulate()</span></code></a> processes the currently
relevant <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> and <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> objects.</p>
<p>Eventually passed <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> and <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> objects (for example, contained within a
<a class="reference internal" href="selectiontools.html#hydpy.core.selectiontools.Selection" title="hydpy.core.selectiontools.Selection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selection</span></code></a> object) replace existing ones.</p>
<p>As described in the documentation on the method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_network" title="hydpy.core.hydpytools.HydPy.prepare_network"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_network()</span></code></a>, a
<a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a> object usually starts with the “complete” network of the considered
project:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.examples</span> <span class="kn">import</span> <span class="n">prepare_full_example_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="p">,</span> <span class="n">pub</span><span class="p">,</span> <span class="n">TestIO</span> <span class="o">=</span> <span class="n">prepare_full_example_2</span><span class="p">()</span>
</pre></div>
</div>
<p>The safest approach to “activate” another selection is to use the method
<a class="reference internal" href="#hydpy.core.hydpytools.HydPy.update_devices" title="hydpy.core.hydpytools.HydPy.update_devices"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_devices()</span></code></a>.  The first option is to pass a complete <a class="reference internal" href="selectiontools.html#hydpy.core.selectiontools.Selection" title="hydpy.core.selectiontools.Selection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selection</span></code></a>
object:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">selections</span><span class="o">.</span><span class="n">headwaters</span>
<span class="go">Selection(&quot;headwaters&quot;,</span>
<span class="go">          nodes=(&quot;dill&quot;, &quot;lahn_1&quot;),</span>
<span class="go">          elements=(&quot;land_dill&quot;, &quot;land_lahn_1&quot;))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">update_devices</span><span class="p">(</span><span class="n">selection</span><span class="o">=</span><span class="n">pub</span><span class="o">.</span><span class="n">selections</span><span class="o">.</span><span class="n">headwaters</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span>
<span class="go">Nodes(&quot;dill&quot;, &quot;lahn_1&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span>
<span class="go">Elements(&quot;land_dill&quot;, &quot;land_lahn_1&quot;)</span>
</pre></div>
</div>
<p>Method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.update_devices" title="hydpy.core.hydpytools.HydPy.update_devices"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_devices()</span></code></a> automatically updates the <cite>deviceorder</cite>, assuring
method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.simulate" title="hydpy.core.hydpytools.HydPy.simulate"><code class="xref py py-func docutils literal notranslate"><span class="pre">simulate()</span></code></a> processes “upstream” model instances before it
processes their “downstream” neighbours:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">hp</span><span class="o">.</span><span class="n">deviceorder</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
<span class="go">land_dill</span>
<span class="go">land_lahn_1</span>
<span class="go">dill</span>
<span class="go">lahn_1</span>
</pre></div>
</div>
<p>Second, you can pass some nodes only, which by the way removes the old elements:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">update_devices</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="s2">&quot;dill&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span>
<span class="go">Nodes(&quot;dill&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span>
<span class="go">Elements()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">hp</span><span class="o">.</span><span class="n">deviceorder</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
<span class="go">dill</span>
</pre></div>
</div>
<p>Third, you can pass some elements only, which by the way removes the old nodes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">update_devices</span><span class="p">(</span><span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;land_lahn_1&quot;</span><span class="p">,</span> <span class="s2">&quot;land_dill&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span>
<span class="go">Nodes()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span>
<span class="go">Elements(&quot;land_dill&quot;, &quot;land_lahn_1&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">hp</span><span class="o">.</span><span class="n">deviceorder</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
<span class="go">land_dill</span>
<span class="go">land_lahn_1</span>
</pre></div>
</div>
<p>Fourth, you can pass nodes and elements at the same time:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">update_devices</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="s2">&quot;dill&quot;</span><span class="p">,</span>
<span class="gp">... </span>                  <span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;land_lahn_1&quot;</span><span class="p">,</span> <span class="s2">&quot;land_dill&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span>
<span class="go">Nodes(&quot;dill&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">elements</span>
<span class="go">Elements(&quot;land_dill&quot;, &quot;land_lahn_1&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">hp</span><span class="o">.</span><span class="n">deviceorder</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
<span class="go">land_dill</span>
<span class="go">land_lahn_1</span>
<span class="go">dill</span>
</pre></div>
</div>
<p>Fifth, you can pass no argument at all, which only updates the device order:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">dill</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">hp</span><span class="o">.</span><span class="n">deviceorder</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
<span class="go">land_dill</span>
<span class="go">land_lahn_1</span>
<span class="go">dill</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">update_devices</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">hp</span><span class="o">.</span><span class="n">deviceorder</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
<span class="go">land_dill</span>
<span class="go">land_lahn_1</span>
</pre></div>
</div>
<p>Method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.update_devices" title="hydpy.core.hydpytools.HydPy.update_devices"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_devices()</span></code></a> does not allow to pass single devices and devices
contained within a selection at the same time:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">update_devices</span><span class="p">(</span><span class="n">selection</span><span class="o">=</span><span class="n">pub</span><span class="o">.</span><span class="n">selections</span><span class="o">.</span><span class="n">headwaters</span><span class="p">,</span>
<span class="gp">... </span>                  <span class="n">nodes</span><span class="o">=</span><span class="s2">&quot;dill&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Method `update_devices` of class `HydPy` does not allow to use both the `selection` argument and the `nodes` or  the `elements` argument at the same time.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">update_devices</span><span class="p">(</span><span class="n">selection</span><span class="o">=</span><span class="n">pub</span><span class="o">.</span><span class="n">selections</span><span class="o">.</span><span class="n">headwaters</span><span class="p">,</span>
<span class="gp">... </span>                  <span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;land_lahn_1&quot;</span><span class="p">,</span> <span class="s2">&quot;land_dill&quot;</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Method `update_devices` of class `HydPy` does not allow to use both the `selection` argument and the `nodes` or  the `elements` argument at the same time.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.methodorder">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">methodorder</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.methodorder" title="Link to this definition">¶</a></dt>
<dd><p>All methods of the currently relevant <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> and <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> objects to be
processed by method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.simulate" title="hydpy.core.hydpytools.HydPy.simulate"><code class="xref py py-func docutils literal notranslate"><span class="pre">simulate()</span></code></a> during a simulation time step, ordered in
a correct execution sequence.</p>
<p>Property <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.methodorder" title="hydpy.core.hydpytools.HydPy.methodorder"><code class="xref py py-const docutils literal notranslate"><span class="pre">methodorder</span></code></a> should be of interest to framework developers only.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.simulate">
<span class="sig-name descname"><span class="pre">simulate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.simulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.simulate" title="Link to this definition">¶</a></dt>
<dd><p>Perform a simulation run over the actual simulation period defined by the
<a class="reference internal" href="timetools.html#hydpy.core.timetools.Timegrids" title="hydpy.core.timetools.Timegrids"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timegrids</span></code></a> object stored in module <code class="xref py py-mod docutils literal notranslate"><span class="pre">pub</span></code>.</p>
<p>We let function <a class="reference internal" href="examples.html#hydpy.examples.prepare_full_example_2" title="hydpy.examples.prepare_full_example_2"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_full_example_2()</span></code></a> prepare a runnable <a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a> object
related to the <cite>LahnH</cite> example project:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.examples</span> <span class="kn">import</span> <span class="n">prepare_full_example_2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="p">,</span> <span class="n">pub</span><span class="p">,</span> <span class="n">TestIO</span> <span class="o">=</span> <span class="n">prepare_full_example_2</span><span class="p">()</span>
</pre></div>
</div>
<p>First, we execute a default simulation run covering the whole simulation period
and inspect the discharge series simulated at the outlet of the river basin,
represented by node <cite>lahn_3</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">54.043745, 37.320814, 31.922053, 28.413644</span>
</pre></div>
</div>
<p>After resetting the initial conditions via method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.reset_conditions" title="hydpy.core.hydpytools.HydPy.reset_conditions"><code class="xref py py-func docutils literal notranslate"><span class="pre">reset_conditions()</span></code></a>, we
repeat the simulation run and get the same results:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">reset_conditions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">54.043745, 37.320814, 31.922053, 28.413644</span>
</pre></div>
</div>
<p>Simulation runs do not need to cover the whole initialisation period at once.
After setting the <a class="reference internal" href="timetools.html#hydpy.core.timetools.Timegrid.lastdate" title="hydpy.core.timetools.Timegrid.lastdate"><code class="xref py py-const docutils literal notranslate"><span class="pre">lastdate</span></code></a> property of the <cite>sim</cite> <a class="reference internal" href="timetools.html#hydpy.core.timetools.Timegrid" title="hydpy.core.timetools.Timegrid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timegrid</span></code></a> of the
<a class="reference internal" href="timetools.html#hydpy.core.timetools.Timegrids" title="hydpy.core.timetools.Timegrids"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timegrids</span></code></a> objects stored within module <code class="xref py py-mod docutils literal notranslate"><span class="pre">pub</span></code> to the middle of the
initialisation period, method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.simulate" title="hydpy.core.hydpytools.HydPy.simulate"><code class="xref py py-func docutils literal notranslate"><span class="pre">simulate()</span></code></a> calculates the first two
discharge values only:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">reset_conditions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">lastdate</span> <span class="o">=</span> <span class="s2">&quot;1996-01-03&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">54.043745, 37.320814, 0.0, 0.0</span>
</pre></div>
</div>
<p>After adjusting both the <a class="reference internal" href="timetools.html#hydpy.core.timetools.Timegrid.firstdate" title="hydpy.core.timetools.Timegrid.firstdate"><code class="xref py py-const docutils literal notranslate"><span class="pre">firstdate</span></code></a> and <a class="reference internal" href="timetools.html#hydpy.core.timetools.Timegrid.lastdate" title="hydpy.core.timetools.Timegrid.lastdate"><code class="xref py py-const docutils literal notranslate"><span class="pre">lastdate</span></code></a> of the
<cite>sim</cite> <a class="reference internal" href="timetools.html#hydpy.core.timetools.Timegrid" title="hydpy.core.timetools.Timegrid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timegrid</span></code></a> to the second half of the initialisation period,
<a class="reference internal" href="#hydpy.core.hydpytools.HydPy.simulate" title="hydpy.core.hydpytools.HydPy.simulate"><code class="xref py py-func docutils literal notranslate"><span class="pre">simulate()</span></code></a> completes the time-series:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">firstdate</span> <span class="o">=</span> <span class="s2">&quot;1996-01-03&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">lastdate</span> <span class="o">=</span> <span class="s2">&quot;1996-01-05&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">54.043745, 37.320814, 31.922053, 28.413644</span>
</pre></div>
</div>
<p>In the above examples, each <a class="reference internal" href="modeltools.html#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> object (handled by an <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Element" title="hydpy.core.devicetools.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> object)
passes its simulated values via a <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> object to its downstream <a class="reference internal" href="modeltools.html#hydpy.core.modeltools.Model" title="hydpy.core.modeltools.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>
object.  There are four ways to deviate from this default behaviour that can be
selected for each node individually via the property <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node.deploymode" title="hydpy.core.devicetools.Node.deploymode"><code class="xref py py-const docutils literal notranslate"><span class="pre">deploymode</span></code></a>.  We
focus on node <cite>lahn_2</cite> as the upstream neighbour of node <cite>lahn_3</cite>.  So far, its
deploy mode is <cite>newsim</cite>, meaning that the node passes newly calculated
simulation values to the downstream element <cite>stream_lahn_2_lahn_3</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_2</span><span class="o">.</span><span class="n">deploymode</span>
<span class="go">&#39;newsim&#39;</span>
</pre></div>
</div>
<p>Under the second option, <cite>oldsim</cite>, node <cite>lahn_2</cite> does not pass the discharge
values simulated in the next simulation run, but the “old” discharge values
already available by the <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence.series" title="hydpy.core.sequencetools.IOSequence.series"><code class="xref py py-const docutils literal notranslate"><span class="pre">series</span></code></a> array of the <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sim" title="hydpy.core.sequencetools.Sim"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sim</span></code></a> sequence.  This
behaviour can, for example, be useful when calibrating subsequent subareas of a
river basin sequentially, beginning with the headwaters and continuing with
their downstream neighbours.  For the clarity of this example, we decrease all
values of the “old” simulated series of node <cite>lahn_2</cite> by 10 m³/s:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_2</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">42.3697, 27.210443, 22.930066, 20.20133</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_2</span><span class="o">.</span><span class="n">deploymode</span> <span class="o">=</span> <span class="s2">&quot;oldsim&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_2</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span> <span class="o">-=</span> <span class="mf">10.0</span>
</pre></div>
</div>
<p>After performing another simulation run (over the whole initialisation period,
again), the modified discharge values of node <cite>lahn_2</cite> are unchanged.  The
simulated values of node <cite>lahn_3</cite> are, compared to the <cite>newsim</cite> runs, decreased
by 10 m³/s (there is no time delay or dampening of the discharge values between
both nodes due to the lag time of application model <a class="reference internal" href="musk_classic.html#module-hydpy.models.musk_classic" title="hydpy.models.musk_classic"><code class="xref py py-mod docutils literal notranslate"><span class="pre">musk_classic</span></code></a> being
smaller than the simulation time step):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">reset_conditions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">firstdate</span> <span class="o">=</span> <span class="s2">&quot;1996-01-01&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">lastdate</span> <span class="o">=</span> <span class="s2">&quot;1996-01-05&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_2</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">32.3697, 17.210443, 12.930066, 10.20133</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">44.043745, 27.320814, 21.922053, 18.413644</span>
</pre></div>
</div>
<p>The third option is <cite>obs</cite>, where node <cite>lahn_2</cite> receives and stores the values
from its upstream models but passes other, observed values, handled by sequence
<a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Obs" title="hydpy.core.sequencetools.Obs"><code class="xref py py-class docutils literal notranslate"><span class="pre">Obs</span></code></a>, which we, for simplicity, set to zero for the complete initialisation
and simulation period (more often, one would read measured data from files via
methods as <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_obsseries" title="hydpy.core.hydpytools.HydPy.load_obsseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_obsseries()</span></code></a>):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_2</span><span class="o">.</span><span class="n">deploymode</span> <span class="o">=</span> <span class="s2">&quot;obs&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_2</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">0.0</span>
</pre></div>
</div>
<p>Now the simulated values of node <cite>lahn_2</cite> are identical with the ones of the
<cite>newsim</cite> example, but the simulated values of node <cite>lahn_3</cite> are lower due to
receiving the observed instead of the simulated values from upstream:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">reset_conditions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_2</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">0.0, 0.0, 0.0, 0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_2</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">42.3697, 27.210443, 22.930066, 20.20133</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">11.674045, 10.110371, 8.991987, 8.212314</span>
</pre></div>
</div>
<p>Unfortunately, observation time-series are often incomplete.  <em>HydPy</em> generally
uses <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.25)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> <code class="xref py py-const docutils literal notranslate"><span class="pre">nan</span></code> to represent missing values.  Passing <code class="xref py py-const docutils literal notranslate"><span class="pre">nan</span></code>
inputs to a model usually results in <code class="xref py py-const docutils literal notranslate"><span class="pre">nan</span></code> outputs.  Hence, after
assigning <code class="xref py py-const docutils literal notranslate"><span class="pre">nan</span></code> to some entries of the observation series of node
<cite>lahn_2</cite>, the simulation series of node <cite>lahn_3</cite> also contains <code class="xref py py-const docutils literal notranslate"><span class="pre">nan</span></code>
values:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">checkseries</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_2</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span><span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">reset_conditions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_2</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">0.0, nan, 0.0, nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_2</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">42.3697, 27.210443, 22.930066, 20.20133</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">11.674045, nan, 8.991987, nan</span>
</pre></div>
</div>
<p>To avoid calculating <code class="xref py py-const docutils literal notranslate"><span class="pre">nan</span></code> values, one can select the fourth option,
<cite>obs_newsim</cite>.  Now the priority for node <cite>lahn_2</cite> is to deploy its observed
values.  However, for each missing observation, it deploys its newly simulated
value instead:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_2</span><span class="o">.</span><span class="n">deploymode</span> <span class="o">=</span> <span class="s2">&quot;obs_newsim&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">reset_conditions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_2</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">0.0, nan, 0.0, nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_2</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">42.3697, 27.210443, 22.930066, 20.20133</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">11.674045, 37.320814, 8.991987, 28.413644</span>
</pre></div>
</div>
<p>The fifth option, <cite>obs_oldsim</cite>, serves the same purpose as option <cite>obs_newsim</cite>
but uses already available “old” simulation results as substitutes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_2</span><span class="o">.</span><span class="n">deploymode</span> <span class="o">=</span> <span class="s2">&quot;obs_oldsim&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">reset_conditions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_2</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="mf">32.3697</span><span class="p">,</span> <span class="mf">17.210443</span><span class="p">,</span> <span class="mf">12.930066</span><span class="p">,</span> <span class="mf">10.20133</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_2</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">0.0, nan, 0.0, nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_2</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">32.3697, 17.210443, 12.930066, 10.20133</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">11.674045, 27.320814, 8.991987, 18.413644</span>
</pre></div>
</div>
<p>The last example shows that resetting option <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node.deploymode" title="hydpy.core.devicetools.Node.deploymode"><code class="xref py py-const docutils literal notranslate"><span class="pre">deploymode</span></code></a> to <cite>newsim</cite>
results in the default behaviour of the method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.simulate" title="hydpy.core.hydpytools.HydPy.simulate"><code class="xref py py-func docutils literal notranslate"><span class="pre">simulate()</span></code></a> again:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_2</span><span class="o">.</span><span class="n">deploymode</span> <span class="o">=</span> <span class="s2">&quot;newsim&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">reset_conditions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hp</span><span class="o">.</span><span class="n">simulate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_2</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">42.3697, 27.210443, 22.930066, 20.20133</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hp</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">lahn_3</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="go">54.043745, 37.320814, 31.922053, 28.413644</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.doit">
<span class="sig-name descname"><span class="pre">doit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.doit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.doit" title="Link to this definition">¶</a></dt>
<dd><p>Deprecated! Use method <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.simulate" title="hydpy.core.hydpytools.HydPy.simulate"><code class="xref py py-func docutils literal notranslate"><span class="pre">simulate()</span></code></a> instead.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">HydPy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.core.testtools</span> <span class="kn">import</span> <span class="n">warn_later</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">mock</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warn_later</span><span class="p">(),</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">object</span><span class="p">(</span><span class="n">HydPy</span><span class="p">,</span> <span class="s2">&quot;simulate&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">mocked</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">hp</span> <span class="o">=</span> <span class="n">HydPy</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">hp</span><span class="o">.</span><span class="n">doit</span><span class="p">()</span>
<span class="go">HydPyDeprecationWarning: Method `doit` of class `HydPy` is deprecated.  Use method `simulate` instead.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mocked</span><span class="o">.</span><span class="n">call_args_list</span>
<span class="go">[call()]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.prepare_allseries">
<span class="sig-name descname"><span class="pre">prepare_allseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allocate_ram</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.prepare_allseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.prepare_allseries" title="Link to this definition">¶</a></dt>
<dd><p>Tell all current <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence" title="hydpy.core.sequencetools.IOSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">IOSequence</span></code></a> objects how to handle time-series data.</p>
<p>Assign <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code> to the <cite>allocate_ram</cite> argument (default) to activate the
<a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence.series" title="hydpy.core.sequencetools.IOSequence.series"><code class="xref py py-const docutils literal notranslate"><span class="pre">series</span></code></a> property of all sequences so that their time-series data
can become available in RAM.</p>
<p>Assign <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code> to the <cite>jit</cite> argument to activate the “just-in-time” reading from
NetCDF files for all <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.InputSequence" title="hydpy.core.sequencetools.InputSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">InputSequence</span></code></a> and <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Obs" title="hydpy.core.sequencetools.Obs"><code class="xref py py-class docutils literal notranslate"><span class="pre">Obs</span></code></a> objects and to activate the
“just-in-time” writing of NetCDF files for all <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.FactorSequence" title="hydpy.core.sequencetools.FactorSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">FactorSequence</span></code></a>, <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.FluxSequence" title="hydpy.core.sequencetools.FluxSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">FluxSequence</span></code></a>,
<a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.StateSequence" title="hydpy.core.sequencetools.StateSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateSequence</span></code></a> and <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.Sim" title="hydpy.core.sequencetools.Sim"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sim</span></code></a> objects.</p>
<p>See the main documentation on class <a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a> for further information.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.prepare_modelseries">
<span class="sig-name descname"><span class="pre">prepare_modelseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allocate_ram</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.prepare_modelseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.prepare_modelseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_allseries" title="hydpy.core.hydpytools.HydPy.prepare_allseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_allseries()</span></code></a> specialised for model
sequences.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.prepare_inputseries">
<span class="sig-name descname"><span class="pre">prepare_inputseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allocate_ram</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_jit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_jit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.prepare_inputseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.prepare_inputseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_allseries" title="hydpy.core.hydpytools.HydPy.prepare_allseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_allseries()</span></code></a> specialised for model
input sequences.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.prepare_factorseries">
<span class="sig-name descname"><span class="pre">prepare_factorseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allocate_ram</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_jit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.prepare_factorseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.prepare_factorseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_allseries" title="hydpy.core.hydpytools.HydPy.prepare_allseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_allseries()</span></code></a> specialised for model
factor sequences.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.prepare_fluxseries">
<span class="sig-name descname"><span class="pre">prepare_fluxseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allocate_ram</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_jit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.prepare_fluxseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.prepare_fluxseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_allseries" title="hydpy.core.hydpytools.HydPy.prepare_allseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_allseries()</span></code></a> specialised for model
flux sequences.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.prepare_stateseries">
<span class="sig-name descname"><span class="pre">prepare_stateseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allocate_ram</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_jit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.prepare_stateseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.prepare_stateseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_allseries" title="hydpy.core.hydpytools.HydPy.prepare_allseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_allseries()</span></code></a> specialised for model
state sequences.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.prepare_nodeseries">
<span class="sig-name descname"><span class="pre">prepare_nodeseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allocate_ram</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.prepare_nodeseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.prepare_nodeseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_allseries" title="hydpy.core.hydpytools.HydPy.prepare_allseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_allseries()</span></code></a> specialised for node
sequences.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.prepare_simseries">
<span class="sig-name descname"><span class="pre">prepare_simseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allocate_ram</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_jit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_jit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.prepare_simseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.prepare_simseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_allseries" title="hydpy.core.hydpytools.HydPy.prepare_allseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_allseries()</span></code></a> specialised for
simulation sequences of nodes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.prepare_obsseries">
<span class="sig-name descname"><span class="pre">prepare_obsseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allocate_ram</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_jit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_jit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.prepare_obsseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.prepare_obsseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.prepare_allseries" title="hydpy.core.hydpytools.HydPy.prepare_allseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_allseries()</span></code></a> specialised for
observation sequences of nodes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.save_allseries">
<span class="sig-name descname"><span class="pre">save_allseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.save_allseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.save_allseries" title="Link to this definition">¶</a></dt>
<dd><p>Write the time-series data of all current <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence" title="hydpy.core.sequencetools.IOSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">IOSequence</span></code></a> objects at once to
data file(s).</p>
<p>See the main documentation on class <a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a> for further information.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.save_modelseries">
<span class="sig-name descname"><span class="pre">save_modelseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.save_modelseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.save_modelseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_modelseries" title="hydpy.core.hydpytools.HydPy.save_modelseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_modelseries()</span></code></a> specialised for model
sequences.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.save_inputseries">
<span class="sig-name descname"><span class="pre">save_inputseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.save_inputseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.save_inputseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_modelseries" title="hydpy.core.hydpytools.HydPy.save_modelseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_modelseries()</span></code></a> specialised for model
input sequences.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.save_factorseries">
<span class="sig-name descname"><span class="pre">save_factorseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.save_factorseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.save_factorseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_modelseries" title="hydpy.core.hydpytools.HydPy.save_modelseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_modelseries()</span></code></a> specialised for model
factor sequences.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.save_fluxseries">
<span class="sig-name descname"><span class="pre">save_fluxseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.save_fluxseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.save_fluxseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_modelseries" title="hydpy.core.hydpytools.HydPy.save_modelseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_modelseries()</span></code></a> specialised for model
flux sequences.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.save_stateseries">
<span class="sig-name descname"><span class="pre">save_stateseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.save_stateseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.save_stateseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_modelseries" title="hydpy.core.hydpytools.HydPy.save_modelseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_modelseries()</span></code></a> specialised for model
state sequences.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.save_nodeseries">
<span class="sig-name descname"><span class="pre">save_nodeseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.save_nodeseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.save_nodeseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_modelseries" title="hydpy.core.hydpytools.HydPy.save_modelseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_modelseries()</span></code></a> specialised for node
sequences.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.save_simseries">
<span class="sig-name descname"><span class="pre">save_simseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.save_simseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.save_simseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_modelseries" title="hydpy.core.hydpytools.HydPy.save_modelseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_modelseries()</span></code></a> specialised for
simulation sequences of nodes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.save_obsseries">
<span class="sig-name descname"><span class="pre">save_obsseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.save_obsseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.save_obsseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.save_modelseries" title="hydpy.core.hydpytools.HydPy.save_modelseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_modelseries()</span></code></a> specialised for
observation sequences of nodes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.load_allseries">
<span class="sig-name descname"><span class="pre">load_allseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.load_allseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.load_allseries" title="Link to this definition">¶</a></dt>
<dd><p>Read the time-series data of all current <a class="reference internal" href="sequencetools.html#hydpy.core.sequencetools.IOSequence" title="hydpy.core.sequencetools.IOSequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">IOSequence</span></code></a> objects at once from
data file(s).</p>
<p>See the main documentation on class <a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HydPy</span></code></a> for further information.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.load_modelseries">
<span class="sig-name descname"><span class="pre">load_modelseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.load_modelseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.load_modelseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_modelseries" title="hydpy.core.hydpytools.HydPy.load_modelseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_modelseries()</span></code></a> specialised for model
sequences.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.load_inputseries">
<span class="sig-name descname"><span class="pre">load_inputseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.load_inputseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.load_inputseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_modelseries" title="hydpy.core.hydpytools.HydPy.load_modelseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_modelseries()</span></code></a> specialised for model
input sequences.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.load_factorseries">
<span class="sig-name descname"><span class="pre">load_factorseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.load_factorseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.load_factorseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_modelseries" title="hydpy.core.hydpytools.HydPy.load_modelseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_modelseries()</span></code></a> specialised for model
factor sequences.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.load_fluxseries">
<span class="sig-name descname"><span class="pre">load_fluxseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.load_fluxseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.load_fluxseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_modelseries" title="hydpy.core.hydpytools.HydPy.load_modelseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_modelseries()</span></code></a> specialised for model
flux sequences.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.load_stateseries">
<span class="sig-name descname"><span class="pre">load_stateseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.load_stateseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.load_stateseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_modelseries" title="hydpy.core.hydpytools.HydPy.load_modelseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_modelseries()</span></code></a> specialised for model
state sequences.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.load_nodeseries">
<span class="sig-name descname"><span class="pre">load_nodeseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.load_nodeseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.load_nodeseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_modelseries" title="hydpy.core.hydpytools.HydPy.load_modelseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_modelseries()</span></code></a> specialised for node
sequences.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.load_simseries">
<span class="sig-name descname"><span class="pre">load_simseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.load_simseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.load_simseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_modelseries" title="hydpy.core.hydpytools.HydPy.load_modelseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_modelseries()</span></code></a> specialised for
simulation sequences of nodes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.HydPy.load_obsseries">
<span class="sig-name descname"><span class="pre">load_obsseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#HydPy.load_obsseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.HydPy.load_obsseries" title="Link to this definition">¶</a></dt>
<dd><p>An alternative method for <a class="reference internal" href="#hydpy.core.hydpytools.HydPy.load_modelseries" title="hydpy.core.hydpytools.HydPy.load_modelseries"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_modelseries()</span></code></a> specialised for
observation sequences of nodes.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.core.hydpytools.create_directedgraph">
<span class="sig-prename descclassname"><span class="pre">hydpy.core.hydpytools.</span></span><span class="sig-name descname"><span class="pre">create_directedgraph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">devices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#hydpy.core.hydpytools.HydPy" title="hydpy.core.hydpytools.HydPy"><span class="pre">HydPy</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="selectiontools.html#hydpy.core.selectiontools.Selection" title="hydpy.core.selectiontools.Selection"><span class="pre">Selection</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DiGraph</span></span></span><a class="reference internal" href="_modules/hydpy/core/hydpytools.html#create_directedgraph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.core.hydpytools.create_directedgraph" title="Link to this definition">¶</a></dt>
<dd><p>Create a directed graph based on the given devices.</p>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="importtools.html" title="importtools"
             >next</a> |</li>
        <li class="right" >
          <a href="filetools.html" title="filetools"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">HydPy 5.0.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="framework.html" >Framework Tools</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="core.html" >Core Tools</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">hydpytools</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2023, HydPy Developers.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>
<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>hydpy.models.dam_detention &#8212; HydPy 6.2dev6 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../../_static/classic.css?v=127cebf3" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=4ae1632d" />
    
    <script src="../../../_static/documentation_options.js?v=fd5328d9"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">HydPy 6.2dev6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" accesskey="U">Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">hydpy.models.dam_detention</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/HydPy_Logo.png" alt="Logo"/>
            </a></p>
  <div>
    <h3><a href="../../../index.html">Table of Contents</a></h3>
    <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../example_projects.html">Example Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developer_guide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_manual.html">Reference Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../zbibliography.html">Bibliography</a></li>
</ul>

  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for hydpy.models.dam_detention</h1><div class="highlight"><pre>
<span></span><span class="c1"># pylint: disable=line-too-long, unused-wildcard-import</span>
<span class="sd">&quot;&quot;&quot;|dam_detention| simulates the flood protection effects of dry detention basins that</span>
<span class="sd">actively control their release.</span>

<span class="sd">|dam_detention| serves similar purposes as |dam_lretention| but controls its outflow</span>
<span class="sd">actively according to &quot;safe discharge&quot; estimates, which are usually derived from</span>
<span class="sd">discharge values simulated (or measured) at other river segments.  Opposed to</span>
<span class="sd">|dam_lretention|, |dam_detention| requires no relationship between water level and</span>
<span class="sd">(possible) release, as it tries to release the ideal amount of water and neglects any</span>
<span class="sd">&quot;natural&quot; lake retention effects.  Due to this conceptual design, |dam_detention|</span>
<span class="sd">requires no numerical solution algorithms (like most other models in the HydPy-Dam</span>
<span class="sd">family) and is therefore solved analytically.</span>

<span class="sd">It is also possible to simulate wet basins by setting the |TargetVolume| parameter to a</span>
<span class="sd">value larger than one.  Note that even then, natural lake retention effects are</span>
<span class="sd">neglected, so |dam_lretention| or a similar model of the HydPy-Dam family might be</span>
<span class="sd">preferable.</span>

<span class="sd">The information for estimating the safe discharge is transmitted via an arbitrary</span>
<span class="sd">number of observer nodes.  Therefore, |dam_detention| can react as soon as critical</span>
<span class="sd">situations somewhere else in the river network occur.   Please note that an observer</span>
<span class="sd">node cannot be positioned downstream of the element that handles the observing</span>
<span class="sd">|dam_detention| instance.</span>

<span class="sd">Integration tests</span>
<span class="sd">=================</span>

<span class="sd">We perform all example calculations over a period of 20 days:</span>

<span class="sd">&gt;&gt;&gt; from hydpy import Element, IntegrationTest, Node, pub</span>
<span class="sd">&gt;&gt;&gt; pub.timegrids = &quot;01.01.2000&quot;, &quot;21.01.2000&quot;, &quot;1d&quot;</span>

<span class="sd">We prepare a |dam_detention| model instance:</span>

<span class="sd">&gt;&gt;&gt; from hydpy.models.dam_detention import *</span>
<span class="sd">&gt;&gt;&gt; parameterstep(&quot;1d&quot;)</span>

<span class="sd">We begin with the simplest case of a single inlet and a single outlet node and leave</span>
<span class="sd">the possibility of adding observer nodes for later consideration:</span>

<span class="sd">&gt;&gt;&gt; inflow, outflow = Node(&quot;inflow&quot;), Node(&quot;outflow&quot;)</span>
<span class="sd">&gt;&gt;&gt; element = Element(&quot;element&quot;, inlets=inflow, outlets=outflow)</span>
<span class="sd">&gt;&gt;&gt; element.model = model</span>

<span class="sd">The following test function instance facilitates the convenient execution of all</span>
<span class="sd">integration tests:</span>

<span class="sd">&gt;&gt;&gt; test = IntegrationTest(element)</span>
<span class="sd">&gt;&gt;&gt; test.dateformat = &quot;%d.%m.&quot;</span>
<span class="sd">&gt;&gt;&gt; test.plotting_options.axis1 = fluxes.inflow, fluxes.outflow</span>
<span class="sd">&gt;&gt;&gt; test.plotting_options.axis2 = states.watervolume</span>

<span class="sd">All integration tests shall start from dry initial conditions:</span>

<span class="sd">&gt;&gt;&gt; test.inits = [(states.watervolume, 0.0), (logs.loggedadjustedevaporation, 0.0)]</span>
<span class="sd">&gt;&gt;&gt; test.reset_inits()</span>
<span class="sd">&gt;&gt;&gt; conditions = model.conditions</span>

<span class="sd">The following input time series stems from the integration tests on application model</span>
<span class="sd">|dam_lretention|:</span>

<span class="sd">&gt;&gt;&gt; inflow.sequences.sim.series = [</span>
<span class="sd">...     0.0, 1.0, 6.0, 12.0, 10.0, 6.0, 3.0, 2.0, 1.0, 0.0,</span>
<span class="sd">...     0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0</span>
<span class="sd">... ]</span>

<span class="sd">The first tests deal with a dry detention basin:</span>

<span class="sd">&gt;&gt;&gt; targetvolume(0.0)</span>
<span class="sd">&gt;&gt;&gt; maximumvolume(1.5)</span>

<span class="sd">As the surface area (which becomes relevant only after adding submodels that include</span>
<span class="sd">precipitation and evaporation into the water balance) is a fixed property, we set its</span>
<span class="sd">size to zero, which is the &quot;regular&quot; surface area of dry detention basins:</span>

<span class="sd">&gt;&gt;&gt; surfacearea(0.0)</span>

<span class="sd">The following three parameters require values even if no corresponding submodels are</span>
<span class="sd">added (we plan to make this more convenient in the future):</span>

<span class="sd">&gt;&gt;&gt; correctionprecipitation(1.0)</span>
<span class="sd">&gt;&gt;&gt; correctionevaporation(1.0)</span>
<span class="sd">&gt;&gt;&gt; weightevaporation(0.8)</span>

<span class="sd">The allowed release, which does not cause any harm directly downstream of the detention</span>
<span class="sd">basin, is 2 mÂ³/s:</span>

<span class="sd">&gt;&gt;&gt; allowedrelease(2.0)</span>

<span class="sd">As dry detention basins cannot help much in ensuring a minimum flow (e.g. for</span>
<span class="sd">ecological reasons), we set the minimum release to zero:</span>

<span class="sd">&gt;&gt;&gt; minimumrelease(0.0)</span>

<span class="sd">We begin without any restrictions on the emptying speed:</span>

<span class="sd">&gt;&gt;&gt; allowedwaterleveldrop(inf)</span>

<span class="sd">The following simple relationship between water volume and level does not affect the</span>
<span class="sd">basin&#39;s behaviour as long as |AllowedWaterLevelDrop| is set to infinity but enables</span>
<span class="sd">calculating the water level at the end of the respective simulation steps for</span>
<span class="sd">informational purposes:</span>

<span class="sd">&gt;&gt;&gt; watervolume2waterlevel(PPoly.from_data(xs=[0.0, 1.0, 2.0], ys=[0.0, 1.0, 1.5]))</span>

<span class="sd">.. _dam_detention_local_protection:</span>

<span class="sd">local protection</span>
<span class="sd">________________</span>

<span class="sd">The current simple configuration shows the basic flood protection functionality of</span>
<span class="sd">|dam_detention|.  In this case, the protection is not perfect, but at least it reduces</span>
<span class="sd">the peak flow from 12 mÂ³/s to less than 7 mÂ³/s:</span>

<span class="sd">.. integration-test::</span>

<span class="sd">    &gt;&gt;&gt; test(&quot;dam_detention_local_protection&quot;)</span>
<span class="sd">    |   date | waterlevel | precipitation | adjustedprecipitation | potentialevaporation | adjustedevaporation | actualevaporation | inflow | saferelease | aimedrelease | unavoidablerelease |  outflow | watervolume | inflow |  outflow |</span>
<span class="sd">    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="sd">    | 01.01. |        0.0 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |          0.0 |                0.0 |      0.0 |         0.0 |    0.0 |      0.0 |</span>
<span class="sd">    | 02.01. |        0.0 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    1.0 |         2.0 |          1.0 |                0.0 |      1.0 |         0.0 |    1.0 |      1.0 |</span>
<span class="sd">    | 03.01. |     0.3456 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    6.0 |         2.0 |          2.0 |                0.0 |      2.0 |      0.3456 |    6.0 |      2.0 |</span>
<span class="sd">    | 04.01. |     1.1048 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |   12.0 |         2.0 |          2.0 |                0.0 |      2.0 |      1.2096 |   12.0 |      2.0 |</span>
<span class="sd">    | 05.01. |       1.25 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |   10.0 |         2.0 |          2.0 |           4.638889 | 6.638889 |         1.5 |   10.0 | 6.638889 |</span>
<span class="sd">    | 06.01. |       1.25 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    6.0 |         2.0 |          2.0 |                4.0 |      6.0 |         1.5 |    6.0 |      6.0 |</span>
<span class="sd">    | 07.01. |       1.25 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    3.0 |         2.0 |          2.0 |                1.0 |      3.0 |         1.5 |    3.0 |      3.0 |</span>
<span class="sd">    | 08.01. |       1.25 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    2.0 |         2.0 |          2.0 |                0.0 |      2.0 |         1.5 |    2.0 |      2.0 |</span>
<span class="sd">    | 09.01. |     1.2068 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    1.0 |         2.0 |          2.0 |                0.0 |      2.0 |      1.4136 |    1.0 |      2.0 |</span>
<span class="sd">    | 10.01. |     1.1204 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |          2.0 |                0.0 |      2.0 |      1.2408 |    0.0 |      2.0 |</span>
<span class="sd">    | 11.01. |      1.034 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |          2.0 |                0.0 |      2.0 |       1.068 |    0.0 |      2.0 |</span>
<span class="sd">    | 12.01. |     0.8952 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |          2.0 |                0.0 |      2.0 |      0.8952 |    0.0 |      2.0 |</span>
<span class="sd">    | 13.01. |     0.7224 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |          2.0 |                0.0 |      2.0 |      0.7224 |    0.0 |      2.0 |</span>
<span class="sd">    | 14.01. |     0.5496 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |          2.0 |                0.0 |      2.0 |      0.5496 |    0.0 |      2.0 |</span>
<span class="sd">    | 15.01. |     0.3768 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |          2.0 |                0.0 |      2.0 |      0.3768 |    0.0 |      2.0 |</span>
<span class="sd">    | 16.01. |      0.204 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |          2.0 |                0.0 |      2.0 |       0.204 |    0.0 |      2.0 |</span>
<span class="sd">    | 17.01. |     0.0312 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |          2.0 |                0.0 |      2.0 |      0.0312 |    0.0 |      2.0 |</span>
<span class="sd">    | 18.01. |        0.0 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |     0.361111 |                0.0 | 0.361111 |         0.0 |    0.0 | 0.361111 |</span>
<span class="sd">    | 19.01. |        0.0 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |          0.0 |                0.0 |      0.0 |         0.0 |    0.0 |      0.0 |</span>
<span class="sd">    | 20.01. |        0.0 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |          0.0 |                0.0 |      0.0 |         0.0 |    0.0 |      0.0 |</span>

<span class="sd">There is no indication of an error in the water balance:</span>

<span class="sd">&gt;&gt;&gt; from hydpy import round_</span>
<span class="sd">&gt;&gt;&gt; round_(model.check_waterbalance(conditions))</span>
<span class="sd">0.0</span>

<span class="sd">.. _dam_detention_restricted_emptying:</span>

<span class="sd">restricted emptying</span>
<span class="sd">___________________</span>

<span class="sd">Setting the allowed water level drop to 0.15 m/day reduces the water release at the</span>
<span class="sd">later declining phase of the flood event (due to the higher water level decrease for</span>
<span class="sd">the same water volume decrease at this time):</span>

<span class="sd">.. integration-test::</span>

<span class="sd">    &gt;&gt;&gt; allowedwaterleveldrop(0.15)</span>
<span class="sd">    &gt;&gt;&gt; test(&quot;dam_detention_restricted_emptying&quot;)</span>
<span class="sd">    |   date | waterlevel | precipitation | adjustedprecipitation | potentialevaporation | adjustedevaporation | actualevaporation | inflow | saferelease | aimedrelease | unavoidablerelease |  outflow | watervolume | inflow |  outflow |</span>
<span class="sd">    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="sd">    | 01.01. |        0.0 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |          0.0 |                0.0 |      0.0 |         0.0 |    0.0 |      0.0 |</span>
<span class="sd">    | 02.01. |        0.0 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    1.0 |         2.0 |          1.0 |                0.0 |      1.0 |         0.0 |    1.0 |      1.0 |</span>
<span class="sd">    | 03.01. |     0.3456 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    6.0 |         2.0 |          2.0 |                0.0 |      2.0 |      0.3456 |    6.0 |      2.0 |</span>
<span class="sd">    | 04.01. |     1.1048 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |   12.0 |         2.0 |          2.0 |                0.0 |      2.0 |      1.2096 |   12.0 |      2.0 |</span>
<span class="sd">    | 05.01. |       1.25 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |   10.0 |         2.0 |          2.0 |           4.638889 | 6.638889 |         1.5 |   10.0 | 6.638889 |</span>
<span class="sd">    | 06.01. |       1.25 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    6.0 |         2.0 |          2.0 |                4.0 |      6.0 |         1.5 |    6.0 |      6.0 |</span>
<span class="sd">    | 07.01. |       1.25 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    3.0 |         2.0 |          2.0 |                1.0 |      3.0 |         1.5 |    3.0 |      3.0 |</span>
<span class="sd">    | 08.01. |       1.25 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    2.0 |         2.0 |          2.0 |                0.0 |      2.0 |         1.5 |    2.0 |      2.0 |</span>
<span class="sd">    | 09.01. |     1.2068 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    1.0 |         2.0 |          2.0 |                0.0 |      2.0 |      1.4136 |    1.0 |      2.0 |</span>
<span class="sd">    | 10.01. |     1.1204 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |          2.0 |                0.0 |      2.0 |      1.2408 |    0.0 |      2.0 |</span>
<span class="sd">    | 11.01. |      1.034 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |          2.0 |                0.0 |      2.0 |       1.068 |    0.0 |      2.0 |</span>
<span class="sd">    | 12.01. |     0.8952 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |          2.0 |                0.0 |      2.0 |      0.8952 |    0.0 |      2.0 |</span>
<span class="sd">    | 13.01. |     0.7452 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |     1.736111 |                0.0 | 1.736111 |      0.7452 |    0.0 | 1.736111 |</span>
<span class="sd">    | 14.01. |     0.5952 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |     1.736111 |                0.0 | 1.736111 |      0.5952 |    0.0 | 1.736111 |</span>
<span class="sd">    | 15.01. |     0.4452 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |     1.736111 |                0.0 | 1.736111 |      0.4452 |    0.0 | 1.736111 |</span>
<span class="sd">    | 16.01. |     0.2952 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |     1.736111 |                0.0 | 1.736111 |      0.2952 |    0.0 | 1.736111 |</span>
<span class="sd">    | 17.01. |     0.1452 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |     1.736111 |                0.0 | 1.736111 |      0.1452 |    0.0 | 1.736111 |</span>
<span class="sd">    | 18.01. |        0.0 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |     1.680556 |                0.0 | 1.680556 |         0.0 |    0.0 | 1.680556 |</span>
<span class="sd">    | 19.01. |        0.0 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |          0.0 |                0.0 |      0.0 |         0.0 |    0.0 |      0.0 |</span>
<span class="sd">    | 20.01. |        0.0 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |          0.0 |                0.0 |      0.0 |         0.0 |    0.0 |      0.0 |</span>

<span class="sd">There is no indication of an error in the water balance:</span>

<span class="sd">&gt;&gt;&gt; round_(model.check_waterbalance(conditions))</span>
<span class="sd">0.0</span>

<span class="sd">.. _dam_detention_remote_protection:</span>

<span class="sd">remote protection</span>
<span class="sd">_________________</span>

<span class="sd">We now add the observer node `gauge`, which provides discharge information from</span>
<span class="sd">somewhere else in the river network:</span>

<span class="sd">&gt;&gt;&gt; gauge = Node(&quot;gauge&quot;)</span>
<span class="sd">&gt;&gt;&gt; element.observers = gauge</span>

<span class="sd">Next, we add an |exch_interp| submodel that takes the observer node&#39;s discharge</span>
<span class="sd">information in converts it into a safe discharge estimate.  From 0 to 3 mÂ³/s, this</span>
<span class="sd">estimate decreases linearly from 3 to 0 mÂ³/s (and remains at 0 mÂ³/s for larger values):</span>

<span class="sd">&gt;&gt;&gt; nmbsafereleasemodels(1)</span>
<span class="sd">&gt;&gt;&gt; with model.add_safereleasemodel(&quot;exch_interp&quot;, position=0):</span>
<span class="sd">...     observernodes(&quot;gauge&quot;)</span>
<span class="sd">...     x2y(PPoly.from_data(xs=[0.0, 3.0, 6.0], ys=[3.0, 0.0, 0.0]))</span>

<span class="sd">Due to the change in the network configuration, we need to recreate the test function</span>
<span class="sd">object:</span>

<span class="sd">&gt;&gt;&gt; element.model.connect()</span>
<span class="sd">&gt;&gt;&gt; test = IntegrationTest(element)</span>
<span class="sd">&gt;&gt;&gt; test.dateformat = &quot;%d.%m.&quot;</span>
<span class="sd">&gt;&gt;&gt; test.plotting_options.axis1 = fluxes.inflow, fluxes.outflow</span>
<span class="sd">&gt;&gt;&gt; test.plotting_options.axis2 = states.watervolume</span>
<span class="sd">&gt;&gt;&gt; test.inits = [(states.watervolume, 0.0), (logs.loggedadjustedevaporation, 0.0)]</span>
<span class="sd">&gt;&gt;&gt; test.reset_inits()</span>
<span class="sd">&gt;&gt;&gt; conditions = model.conditions</span>

<span class="sd">The inflow time series is initially identical to the one previously used but remains at</span>
<span class="sd">1 mÂ³/s instead of decreasing to zero after the event:</span>

<span class="sd">&gt;&gt;&gt; inflow.sequences.sim.series = [</span>
<span class="sd">...     0.0, 1.0, 6.0, 12.0, 10.0, 6.0, 3.0, 2.0, 1.0, 1.0,</span>
<span class="sd">...     1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0</span>
<span class="sd">... ]</span>

<span class="sd">The observed discharge time also includes a runoff event, but this one occurs slightly</span>
<span class="sd">later in time:</span>

<span class="sd">&gt;&gt;&gt; gauge.sequences.sim.series = [</span>
<span class="sd">...     1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0,</span>
<span class="sd">...     3.0, 6.0, 4.0, 2.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0</span>
<span class="sd">... ]</span>


<span class="sd">During the first days of the simulation period, the detention basin adjusts its</span>
<span class="sd">release, as in the previous examples, for local flood protection.   After that, it</span>
<span class="sd">reduces its release as much as possible to help decrease the flood at the remote</span>
<span class="sd">location (which does not work too well because there is still much water left from the</span>
<span class="sd">first event):</span>

<span class="sd">.. integration-test::</span>

<span class="sd">    &gt;&gt;&gt; test(&quot;dam_detention_remote_protection&quot;)</span>
<span class="sd">    |   date | waterlevel | precipitation | adjustedprecipitation | potentialevaporation | adjustedevaporation | actualevaporation | inflow | saferelease | aimedrelease | unavoidablerelease |  outflow | watervolume | gauge | inflow |  outflow |</span>
<span class="sd">    ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="sd">    | 01.01. |        0.0 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    0.0 |         2.0 |          0.0 |                0.0 |      0.0 |         0.0 |   1.0 |    0.0 |      0.0 |</span>
<span class="sd">    | 02.01. |        0.0 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    1.0 |         2.0 |          1.0 |                0.0 |      1.0 |         0.0 |   1.0 |    1.0 |      1.0 |</span>
<span class="sd">    | 03.01. |     0.3456 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    6.0 |         2.0 |          2.0 |                0.0 |      2.0 |      0.3456 |   1.0 |    6.0 |      2.0 |</span>
<span class="sd">    | 04.01. |     1.1048 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |   12.0 |         2.0 |          2.0 |                0.0 |      2.0 |      1.2096 |   1.0 |   12.0 |      2.0 |</span>
<span class="sd">    | 05.01. |       1.25 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |   10.0 |         2.0 |          2.0 |           4.638889 | 6.638889 |         1.5 |   1.0 |   10.0 | 6.638889 |</span>
<span class="sd">    | 06.01. |       1.25 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    6.0 |         2.0 |          2.0 |                4.0 |      6.0 |         1.5 |   1.0 |    6.0 |      6.0 |</span>
<span class="sd">    | 07.01. |       1.25 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    3.0 |         2.0 |          2.0 |                1.0 |      3.0 |         1.5 |   1.0 |    3.0 |      3.0 |</span>
<span class="sd">    | 08.01. |       1.25 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    2.0 |         2.0 |          2.0 |                0.0 |      2.0 |         1.5 |   1.0 |    2.0 |      2.0 |</span>
<span class="sd">    | 09.01. |     1.2068 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    1.0 |         2.0 |          2.0 |                0.0 |      2.0 |      1.4136 |   1.0 |    1.0 |      2.0 |</span>
<span class="sd">    | 10.01. |     1.1636 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    1.0 |         2.0 |          2.0 |                0.0 |      2.0 |      1.3272 |   1.0 |    1.0 |      2.0 |</span>
<span class="sd">    | 11.01. |     1.2068 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    1.0 |         0.0 |          0.0 |                0.0 |      0.0 |      1.4136 |   3.0 |    1.0 |      0.0 |</span>
<span class="sd">    | 12.01. |       1.25 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    1.0 |         0.0 |          0.0 |                0.0 |      0.0 |         1.5 |   6.0 |    1.0 |      0.0 |</span>
<span class="sd">    | 13.01. |       1.25 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    1.0 |         0.0 |          0.0 |                1.0 |      1.0 |         1.5 |   4.0 |    1.0 |      1.0 |</span>
<span class="sd">    | 14.01. |       1.25 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    1.0 |         1.0 |          1.0 |                0.0 |      1.0 |         1.5 |   2.0 |    1.0 |      1.0 |</span>
<span class="sd">    | 15.01. |     1.2068 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    1.0 |         2.0 |          2.0 |                0.0 |      2.0 |      1.4136 |   1.0 |    1.0 |      2.0 |</span>
<span class="sd">    | 16.01. |     1.1636 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    1.0 |         2.0 |          2.0 |                0.0 |      2.0 |      1.3272 |   1.0 |    1.0 |      2.0 |</span>
<span class="sd">    | 17.01. |     1.1204 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    1.0 |         2.0 |          2.0 |                0.0 |      2.0 |      1.2408 |   1.0 |    1.0 |      2.0 |</span>
<span class="sd">    | 18.01. |     1.0772 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    1.0 |         2.0 |          2.0 |                0.0 |      2.0 |      1.1544 |   1.0 |    1.0 |      2.0 |</span>
<span class="sd">    | 19.01. |      1.034 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    1.0 |         2.0 |          2.0 |                0.0 |      2.0 |       1.068 |   1.0 |    1.0 |      2.0 |</span>
<span class="sd">    | 20.01. |     0.9816 |           0.0 |                   0.0 |                  0.0 |                 0.0 |               0.0 |    1.0 |         2.0 |          2.0 |                0.0 |      2.0 |      0.9816 |   1.0 |    1.0 |      2.0 |</span>

<span class="sd">There is no indication of an error in the water balance:</span>

<span class="sd">&gt;&gt;&gt; round_(model.check_waterbalance(conditions))</span>
<span class="sd">0.0</span>

<span class="sd">.. _dam_detention_target_volume:</span>

<span class="sd">target volume</span>
<span class="sd">_____________</span>

<span class="sd">This example demonstrates how |dam_detention| works for targeted water volumes larger</span>
<span class="sd">than zero:</span>

<span class="sd">&gt;&gt;&gt; targetvolume(1.0)</span>

<span class="sd">Specifying a minimum release larger than zero now makes sense, as keeping the desired</span>
<span class="sd">water volume during wet periods may provide the opportunity to release additional water</span>
<span class="sd">in subsequent dry periods:</span>

<span class="sd">&gt;&gt;&gt; minimumrelease(1.0)</span>


<span class="sd">The higher the targeted volume, the more reasonable it is to set the (time-averaged)</span>
<span class="sd">surface area size to a value larger than one:</span>

<span class="sd">&gt;&gt;&gt; surfacearea(1.44)</span>

<span class="sd">With a non-zero surface area, adding submodels that introduce precipitation and</span>
<span class="sd">evaporation can make a relevant difference in the basin&#39;s water balance:</span>

<span class="sd">&gt;&gt;&gt; with model.add_precipmodel_v2(&quot;meteo_precip_io&quot;) as precipmodel:</span>
<span class="sd">...     precipitationfactor(1.2)</span>
<span class="sd">...     inputs.precipitation.prepare_series()</span>
<span class="sd">...     inputs.precipitation.series = 0.0</span>
<span class="sd">...     inputs.precipitation.series[1] = 50.0</span>
<span class="sd">&gt;&gt;&gt; with model.add_pemodel_v1(&quot;evap_ret_io&quot;) as pemodel:</span>
<span class="sd">...     evapotranspirationfactor(1.0)</span>
<span class="sd">...     inputs.referenceevapotranspiration.prepare_series()</span>
<span class="sd">...     inputs.referenceevapotranspiration.series = 6.0</span>


<span class="sd">We suppress the inflow directly after the event but reactivate it with 1.5 mÂ³/s for the</span>
<span class="sd">last few simulation steps:</span>

<span class="sd">&gt;&gt;&gt; inflow.sequences.sim.series[9:16] = 0.0</span>
<span class="sd">&gt;&gt;&gt; inflow.sequences.sim.series[16:] = 1.5</span>

<span class="sd">As expected, |dam_detention| now keeps the targeted volume in flood-free periods as</span>
<span class="sd">long as the sum of inflow and precipitation exceeds the sum of evaporation and minimum</span>
<span class="sd">release:</span>

<span class="sd">.. integration-test::</span>

<span class="sd">    &gt;&gt;&gt; test(&quot;dam_detention_target_volume&quot;)</span>
<span class="sd">    |   date | waterlevel | precipitation | adjustedprecipitation | potentialevaporation | adjustedevaporation | actualevaporation | inflow | saferelease | aimedrelease | unavoidablerelease |  outflow | watervolume | gauge | inflow |  outflow |</span>
<span class="sd">    ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="sd">    | 01.01. |        0.0 |           0.0 |                   0.0 |                  6.0 |                0.08 |               0.0 |    0.0 |         2.0 |          0.0 |                0.0 |      0.0 |         0.0 |   1.0 |    0.0 |      0.0 |</span>
<span class="sd">    | 02.01. |   0.078106 |          60.0 |                   1.0 |                  6.0 |               0.096 |             0.096 |    1.0 |         2.0 |          1.0 |                0.0 |      1.0 |    0.078106 |   1.0 |    1.0 |      1.0 |</span>
<span class="sd">    | 03.01. |   0.501535 |           0.0 |                   0.0 |                  6.0 |              0.0992 |            0.0992 |    6.0 |         2.0 |          1.0 |                0.0 |      1.0 |    0.501535 |   1.0 |    6.0 |      1.0 |</span>
<span class="sd">    | 04.01. |   1.178454 |           0.0 |                   0.0 |                  6.0 |             0.09984 |           0.09984 |   12.0 |         2.0 |          2.0 |                0.0 |      2.0 |    1.356909 |   1.0 |   12.0 |      2.0 |</span>
<span class="sd">    | 05.01. |       1.25 |           0.0 |                   0.0 |                  6.0 |            0.099968 |          0.099968 |   10.0 |         2.0 |          2.0 |           6.243881 | 8.243881 |         1.5 |   1.0 |   10.0 | 8.243881 |</span>
<span class="sd">    | 06.01. |       1.25 |           0.0 |                   0.0 |                  6.0 |            0.099994 |          0.099994 |    6.0 |         2.0 |          2.0 |           3.900006 | 5.900006 |         1.5 |   1.0 |    6.0 | 5.900006 |</span>
<span class="sd">    | 07.01. |       1.25 |           0.0 |                   0.0 |                  6.0 |            0.099999 |          0.099999 |    3.0 |         2.0 |          2.0 |           0.900001 | 2.900001 |         1.5 |   1.0 |    3.0 | 2.900001 |</span>
<span class="sd">    | 08.01. |    1.24568 |           0.0 |                   0.0 |                  6.0 |                 0.1 |               0.1 |    2.0 |         2.0 |          2.0 |                0.0 |      2.0 |     1.49136 |   1.0 |    2.0 |      2.0 |</span>
<span class="sd">    | 09.01. |    1.19816 |           0.0 |                   0.0 |                  6.0 |                 0.1 |               0.1 |    1.0 |         2.0 |          2.0 |                0.0 |      2.0 |     1.39632 |   1.0 |    1.0 |      2.0 |</span>
<span class="sd">    | 10.01. |    1.10744 |           0.0 |                   0.0 |                  6.0 |                 0.1 |               0.1 |    0.0 |         2.0 |          2.0 |                0.0 |      2.0 |     1.21488 |   1.0 |    0.0 |      2.0 |</span>
<span class="sd">    | 11.01. |    1.10312 |           0.0 |                   0.0 |                  6.0 |                 0.1 |               0.1 |    0.0 |         0.0 |          0.0 |                0.0 |      0.0 |     1.20624 |   3.0 |    0.0 |      0.0 |</span>
<span class="sd">    | 12.01. |     1.0988 |           0.0 |                   0.0 |                  6.0 |                 0.1 |               0.1 |    0.0 |         0.0 |          0.0 |                0.0 |      0.0 |      1.1976 |   6.0 |    0.0 |      0.0 |</span>
<span class="sd">    | 13.01. |    1.09448 |           0.0 |                   0.0 |                  6.0 |                 0.1 |               0.1 |    0.0 |         0.0 |          0.0 |                0.0 |      0.0 |     1.18896 |   4.0 |    0.0 |      0.0 |</span>
<span class="sd">    | 14.01. |    1.04696 |           0.0 |                   0.0 |                  6.0 |                 0.1 |               0.1 |    0.0 |         1.0 |          1.0 |                0.0 |      1.0 |     1.09392 |   2.0 |    0.0 |      1.0 |</span>
<span class="sd">    | 15.01. |    0.99888 |           0.0 |                   0.0 |                  6.0 |                 0.1 |               0.1 |    0.0 |         2.0 |          1.0 |                0.0 |      1.0 |     0.99888 |   1.0 |    0.0 |      1.0 |</span>
<span class="sd">    | 16.01. |    0.90384 |           0.0 |                   0.0 |                  6.0 |                 0.1 |               0.1 |    0.0 |         2.0 |          1.0 |                0.0 |      1.0 |     0.90384 |   1.0 |    0.0 |      1.0 |</span>
<span class="sd">    | 17.01. |     0.9384 |           0.0 |                   0.0 |                  6.0 |                 0.1 |               0.1 |    1.5 |         2.0 |          1.0 |                0.0 |      1.0 |      0.9384 |   1.0 |    1.5 |      1.0 |</span>
<span class="sd">    | 18.01. |    0.97296 |           0.0 |                   0.0 |                  6.0 |                 0.1 |               0.1 |    1.5 |         2.0 |          1.0 |                0.0 |      1.0 |     0.97296 |   1.0 |    1.5 |      1.0 |</span>
<span class="sd">    | 19.01. |        1.0 |           0.0 |                   0.0 |                  6.0 |                 0.1 |               0.1 |    1.5 |         2.0 |     1.087037 |                0.0 | 1.087037 |         1.0 |   1.0 |    1.5 | 1.087037 |</span>
<span class="sd">    | 20.01. |        1.0 |           0.0 |                   0.0 |                  6.0 |                 0.1 |               0.1 |    1.5 |         2.0 |          1.4 |                0.0 |      1.4 |         1.0 |   1.0 |    1.5 |      1.4 |</span>

<span class="sd">There is no indication of an error in the water balance:</span>

<span class="sd">&gt;&gt;&gt; round_(model.check_waterbalance(conditions))</span>
<span class="sd">0.0</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="c1"># import...</span>
<span class="c1"># ...from HydPy</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.auxs.anntools</span><span class="w"> </span><span class="kn">import</span> <span class="n">ANN</span>  <span class="c1"># pylint: disable=unused-import</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.auxs.ppolytools</span><span class="w"> </span><span class="kn">import</span> <span class="n">Poly</span><span class="p">,</span> <span class="n">PPoly</span>  <span class="c1"># pylint: disable=unused-import</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.exe.modelimports</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">importtools</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">modeltools</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.core.typingtools</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.interfaces</span><span class="w"> </span><span class="kn">import</span> <span class="n">exchangeinterfaces</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.interfaces</span><span class="w"> </span><span class="kn">import</span> <span class="n">petinterfaces</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.interfaces</span><span class="w"> </span><span class="kn">import</span> <span class="n">precipinterfaces</span>

<span class="c1"># ...from dam</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hydpy.models.dam</span><span class="w"> </span><span class="kn">import</span> <span class="n">dam_model</span>


<div class="viewcode-block" id="Model">
<a class="viewcode-back" href="../../../dam_detention.html#hydpy.models.dam_detention.Model">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Model</span><span class="p">(</span>
    <span class="n">modeltools</span><span class="o">.</span><span class="n">AdHocModel</span><span class="p">,</span>
    <span class="n">dam_model</span><span class="o">.</span><span class="n">MixinSimpleWaterBalance</span><span class="p">,</span>
    <span class="n">dam_model</span><span class="o">.</span><span class="n">Main_PrecipModel_V2</span><span class="p">,</span>
    <span class="n">dam_model</span><span class="o">.</span><span class="n">Main_PEModel_V1</span><span class="p">,</span>
    <span class="n">exchangeinterfaces</span><span class="o">.</span><span class="n">ExchangeModel_V1</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;|dam_detention.DOCNAME.complete|.&quot;&quot;&quot;</span>

    <span class="n">DOCNAME</span> <span class="o">=</span> <span class="n">modeltools</span><span class="o">.</span><span class="n">DocName</span><span class="p">(</span><span class="n">short</span><span class="o">=</span><span class="s2">&quot;Dam-DB&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;detention basin model&quot;</span><span class="p">)</span>
    <span class="n">__HYDPY_ROOTMODEL__</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="n">INLET_METHODS</span> <span class="o">=</span> <span class="p">(</span><span class="n">dam_model</span><span class="o">.</span><span class="n">Pick_Inflow_V1</span><span class="p">,)</span>
    <span class="n">OBSERVER_METHODS</span> <span class="o">=</span> <span class="p">()</span>
    <span class="n">RECEIVER_METHODS</span> <span class="o">=</span> <span class="p">()</span>
    <span class="n">RUN_METHODS</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">dam_model</span><span class="o">.</span><span class="n">Calc_Precipitation_V1</span><span class="p">,</span>
        <span class="n">dam_model</span><span class="o">.</span><span class="n">Calc_AdjustedPrecipitation_V1</span><span class="p">,</span>
        <span class="n">dam_model</span><span class="o">.</span><span class="n">Calc_PotentialEvaporation_V1</span><span class="p">,</span>
        <span class="n">dam_model</span><span class="o">.</span><span class="n">Calc_AdjustedEvaporation_V1</span><span class="p">,</span>
        <span class="n">dam_model</span><span class="o">.</span><span class="n">Calc_AllowedWaterLevel_V1</span><span class="p">,</span>
        <span class="n">dam_model</span><span class="o">.</span><span class="n">Calc_AllowedDischarge_V3</span><span class="p">,</span>
        <span class="n">dam_model</span><span class="o">.</span><span class="n">Update_WaterVolume_V5</span><span class="p">,</span>
        <span class="n">dam_model</span><span class="o">.</span><span class="n">Calc_ActualEvaporation_WaterVolume_V1</span><span class="p">,</span>
        <span class="n">dam_model</span><span class="o">.</span><span class="n">Calc_SafeRelease_V1</span><span class="p">,</span>
        <span class="n">dam_model</span><span class="o">.</span><span class="n">Calc_AimedRelease_WaterVolume_V1</span><span class="p">,</span>
        <span class="n">dam_model</span><span class="o">.</span><span class="n">Calc_UnavoidableRelease_WaterVolume_V1</span><span class="p">,</span>
        <span class="n">dam_model</span><span class="o">.</span><span class="n">Calc_WaterLevel_V1</span><span class="p">,</span>
        <span class="n">dam_model</span><span class="o">.</span><span class="n">Calc_Outflow_V6</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">ADD_METHODS</span> <span class="o">=</span> <span class="p">(</span><span class="n">dam_model</span><span class="o">.</span><span class="n">Return_WaterLevelError_V1</span><span class="p">,)</span>
    <span class="n">OUTLET_METHODS</span> <span class="o">=</span> <span class="p">(</span><span class="n">dam_model</span><span class="o">.</span><span class="n">Pass_Outflow_V1</span><span class="p">,)</span>
    <span class="n">SENDER_METHODS</span> <span class="o">=</span> <span class="p">()</span>
    <span class="n">SUBMODELINTERFACES</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">precipinterfaces</span><span class="o">.</span><span class="n">PrecipModel_V2</span><span class="p">,</span>
        <span class="n">petinterfaces</span><span class="o">.</span><span class="n">PETModel_V1</span><span class="p">,</span>
        <span class="n">exchangeinterfaces</span><span class="o">.</span><span class="n">ExchangeModel_V1</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">SUBMODELS</span> <span class="o">=</span> <span class="p">(</span><span class="n">dam_model</span><span class="o">.</span><span class="n">PegasusWaterVolume</span><span class="p">,)</span>

    <span class="n">precipmodel</span> <span class="o">=</span> <span class="n">modeltools</span><span class="o">.</span><span class="n">SubmodelProperty</span><span class="p">(</span>
        <span class="n">precipinterfaces</span><span class="o">.</span><span class="n">PrecipModel_V2</span><span class="p">,</span> <span class="n">optional</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
    <span class="n">pemodel</span> <span class="o">=</span> <span class="n">modeltools</span><span class="o">.</span><span class="n">SubmodelProperty</span><span class="p">(</span><span class="n">petinterfaces</span><span class="o">.</span><span class="n">PETModel_V1</span><span class="p">,</span> <span class="n">optional</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">safereleasemodels</span> <span class="o">=</span> <span class="n">modeltools</span><span class="o">.</span><span class="n">SubmodelsProperty</span><span class="p">(</span>
        <span class="n">exchangeinterfaces</span><span class="o">.</span><span class="n">ExchangeModel_V1</span>
    <span class="p">)</span>

    <span class="nd">@importtools</span><span class="o">.</span><span class="n">prepare_submodel</span><span class="p">(</span>
        <span class="s2">&quot;safereleasemodels&quot;</span><span class="p">,</span> <span class="n">exchangeinterfaces</span><span class="o">.</span><span class="n">ExchangeModel_V1</span><span class="p">,</span> <span class="n">dimensionality</span><span class="o">=</span><span class="n">l1</span>
    <span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">add_safereleasemodel</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">safereleasemodel</span><span class="p">:</span> <span class="n">exchangeinterfaces</span><span class="o">.</span><span class="n">ExchangeModel_V1</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">position</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">refresh</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialise the given `safereleasemodel` that follows the |ExchangeModel_V1|</span>
<span class="sd">        interface.&quot;&quot;&quot;</span></div>



<span class="n">tester</span> <span class="o">=</span> <span class="n">Tester</span><span class="p">()</span>
<span class="n">cythonizer</span> <span class="o">=</span> <span class="n">Cythonizer</span><span class="p">()</span>
</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">HydPy 6.2dev6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" >Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">hydpy.models.dam_detention</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2013-2025, HydPy Developers.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>
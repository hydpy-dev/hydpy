<?xml version="1.0" encoding="UTF-8"?>
<hpcmr:config xmlns="https://github.com/hydpy-dev/hydpy/releases/download/your-hydpy-version/HydPyConfigBase.xsd"
              xmlns:hpcmr="https://github.com/hydpy-dev/hydpy/releases/download/your-hydpy-version/HydPyConfigMultipleRuns.xsd">

    <options>
        <reprdigits>6</reprdigits>
    </options>

    <timegrid>
        <firstdate>1996-01-01T00:00:00</firstdate>
        <lastdate>1996-01-06T00:00:00</lastdate>
        <stepsize>1d</stepsize>
    </timegrid>

    <add_selections>
        <add_selection>
            <name>gauge_dill</name>
            <devices>
                dill
            </devices>
        </add_selection>
        <add_selection>
            <name>catchment_dill</name>
            <devices>
                land_dill
            </devices>
        </add_selection>
        <add_selection>
            <name>catchment_lahn_1</name>
            <devices>
                land_lahn_1
            </devices>
        </add_selection>
        <add_selection>
            <name>catchment_lahn_2</name>
            <devices>
                land_lahn_2
            </devices>
        </add_selection>
        <add_selection>
            <name>catchment_lahn_3</name>
            <devices>
                land_lahn_3
            </devices>
        </add_selection>
    </add_selections>

    <selections>
        complete
    </selections>

    <conditions_io>
        <inputdir>init_1996_01_01_00_00_00</inputdir>
        <outputdir>init_1996_01_06</outputdir> <!-- optional ? -->
        <zip>false</zip> <!-- optional ? -->
    </conditions_io>
    
    <series_io>

        <filetype>
            <general>asc</general>
        </filetype>

        <overwrite>
            <general>true</general>
        </overwrite>

        <dirpath>
            <inputs>LahnH/series/input</inputs>
            <fluxes>LahnH/series/output</fluxes>
            <states>LahnH/series/output</states>
            <nodes>LahnH/series/node</nodes>
        </dirpath>

        <aggregation>
            <general>none</general>
        </aggregation>

        <readers>
            <reader info="all input data">
                <sequences>
                    <hland_v1>
                        <inputs>
                            <p/>
                            <t/>
                            <tn/>
                            <epn/>
                        </inputs>
                    </hland_v1>
                </sequences>
            </reader>
        </readers>

        <writers/>

    </series_io>

    <exchange>

        <setitems info="globally applied items">
            <hland_v1>
                <control>
                    <alpha>
                        <name>alpha</name>
                        <level>global</level>
                        <init>2.0</init>
                    </alpha>
                </control>
            </hland_v1>
            <hland_v1>
                <control>
                    <beta>
                        <name>beta</name>
                        <level>global</level>
                        <init>1.0</init>
                    </beta>
                </control>
            </hland_v1>
            <hstream_v1>
                <control>
                    <lag>
                        <name>lag</name>
                        <level>global</level>
                        <init>5.0</init> <!--parameterstep???-->
                    </lag>
                    <damp>
                        <name>damp</name>
                        <level>global</level>
                        <init>0.5</init>
                    </damp>
                </control>
            </hstream_v1>
        </setitems>
        <setitems>
            <hland_v1>
                <states>
                    <ic>
                        <selections>catchment_lahn_2</selections>
                        <name>ic_lahn_2</name>
                        <level>device</level>
                    </ic>
                    <ic>
                        <selections>catchment_lahn_1</selections>
                        <name>ic_lahn_1</name>
                        <level>subunit</level>
                    </ic>
                    <sm>
                        <selections>catchment_lahn_2</selections>
                        <name>sm_lahn_2</name>
                        <level>device</level>
                        <init>123.0</init>
                    </sm>
                    <sm>
                        <selections>catchment_lahn_1</selections>
                        <name>sm_lahn_1</name>
                        <level>subunit</level>
                        <init>
                            110.0 120.0 130.0 140.0 150.0 160.0 170.0
                            180.0 190.0 200.0 210.0 220.0 230.0
                        </init>
                    </sm>
                </states>
                <logs>
                    <selections>catchment_lahn_2</selections>
                    <quh>
                        <name>quh</name>
                        <level>device</level>
                        <init>10.0</init>
                    </quh>
                </logs>
            </hland_v1>
        </setitems>
        <setitems>
            <hland_v1>
                <inputs>
                    <t.series>
                        <selections>headwaters</selections>
                        <name>t_headwaters</name>
                        <level>device</level>
                    </t.series>
                </inputs>
            </hland_v1>
        </setitems>
        <additems>
            <hland_v1>
                <selections>headwaters</selections>
                <control>
                    <sfcf>
                        <name>sfcf_1</name>
                        <level>global</level>
                        <init>0.3</init>
                        <control.rfcf/>
                    </sfcf>
                </control>
                <control>
                    <selections>nonheadwaters</selections>
                    <sfcf>
                        <name>sfcf_2</name>
                        <level>global</level>
                        <init>0.2</init>
                        <control.rfcf/>
                    </sfcf>
                    <sfcf>
                        <selections>catchment_lahn_3</selections>
                        <name>sfcf_3</name>
                        <level>subunit</level>
                        <init>
                            0.1 0.2 0.1 0.2 0.1 0.2 0.1 0.2
                            0.1 0.2 0.1 0.2 0.2 0.2
                        </init>
                        <control.rfcf/>
                    </sfcf>
                </control>
            </hland_v1>
        </additems>
        <multiplyitems>
            <selections>complete</selections>
            <hland_v1>
                <control>
                    <k4>
                        <name>k4</name>
                        <level>global</level>
                        <init>10.0</init>
                        <control.k/>
                    </k4>
                </control>
            </hland_v1>
        </multiplyitems>
        <getitems>
            <hland_v1>
                <factors>
                    <selections>catchment_dill</selections>
                    <tmean/>
                </factors>
                <fluxes>
                    <selections>catchment_dill</selections>
                    <qt>
                        <name>current_discharge</name>
                    </qt>
                    <qt.series>
                        <name>entire_discharge_series</name>
                    </qt.series>
                </fluxes>
                <states>
                    <sm/>
                    <sm.series>
                        <selections>catchment_lahn_3</selections>
                    </sm.series>
                </states>
            </hland_v1>
            <nodes>
                <selections>gauge_dill</selections>
                <sim.series/>
            </nodes>
        </getitems>
    </exchange>

</hpcmr:config>

<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>statstools &#8212; HydPy 5.0.3 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css?v=127cebf3" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=eafc0fe6" />
    
    <script src="_static/documentation_options.js?v=f98c4cc8"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="validtools" href="validtools.html" />
    <link rel="prev" title="smoothtools" href="smoothtools.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="validtools.html" title="validtools"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="smoothtools.html" title="smoothtools"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">HydPy 5.0.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="framework.html" >Framework Tools</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="auxiliaries.html" accesskey="U">Auxiliary Tools</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">statstools</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/HydPy_Logo.png" alt="Logo"/>
            </a></p>
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="how_to.html">How to…</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="framework.html">Framework Tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="core.html">Core Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="execution.html">Execution Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="cythons.html">Cython Tools</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="auxiliaries.html">Auxiliary Tools</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="anntools.html">anntools</a></li>
<li class="toctree-l3"><a class="reference internal" href="armatools.html">armatools</a></li>
<li class="toctree-l3"><a class="reference internal" href="calibtools.html">calibtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="interptools.html">interptools</a></li>
<li class="toctree-l3"><a class="reference internal" href="iuhtools.html">iuhtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="networktools.html">networktools</a></li>
<li class="toctree-l3"><a class="reference internal" href="ppolytools.html">ppolytools</a></li>
<li class="toctree-l3"><a class="reference internal" href="quadtools.html">quadtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="roottools.html">roottools</a></li>
<li class="toctree-l3"><a class="reference internal" href="smoothtools.html">smoothtools</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">statstools</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.SimObs"><code class="docutils literal notranslate"><span class="pre">SimObs</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.auxs.statstools.SimObs.sim"><code class="docutils literal notranslate"><span class="pre">SimObs.sim</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.auxs.statstools.SimObs.obs"><code class="docutils literal notranslate"><span class="pre">SimObs.obs</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.filter_series"><code class="docutils literal notranslate"><span class="pre">filter_series()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays"><code class="docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.Criterion"><code class="docutils literal notranslate"><span class="pre">Criterion</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.rmse"><code class="docutils literal notranslate"><span class="pre">rmse()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.nse"><code class="docutils literal notranslate"><span class="pre">nse()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.nse_log"><code class="docutils literal notranslate"><span class="pre">nse_log()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.corr2"><code class="docutils literal notranslate"><span class="pre">corr2()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.kge"><code class="docutils literal notranslate"><span class="pre">kge()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.bias_abs"><code class="docutils literal notranslate"><span class="pre">bias_abs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.bias_rel"><code class="docutils literal notranslate"><span class="pre">bias_rel()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.std_ratio"><code class="docutils literal notranslate"><span class="pre">std_ratio()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.var_ratio"><code class="docutils literal notranslate"><span class="pre">var_ratio()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.corr"><code class="docutils literal notranslate"><span class="pre">corr()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.hsepd_pdf"><code class="docutils literal notranslate"><span class="pre">hsepd_pdf()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.hsepd_manual"><code class="docutils literal notranslate"><span class="pre">hsepd_manual()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.hsepd"><code class="docutils literal notranslate"><span class="pre">hsepd()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.calc_mean_time"><code class="docutils literal notranslate"><span class="pre">calc_mean_time()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.calc_mean_time_deviation"><code class="docutils literal notranslate"><span class="pre">calc_mean_time_deviation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.calc_weights"><code class="docutils literal notranslate"><span class="pre">calc_weights()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.SummaryRow"><code class="docutils literal notranslate"><span class="pre">SummaryRow</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.auxs.statstools.SummaryRow.name"><code class="docutils literal notranslate"><span class="pre">SummaryRow.name</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.auxs.statstools.SummaryRow.summarise_criteria"><code class="docutils literal notranslate"><span class="pre">SummaryRow.summarise_criteria()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.auxs.statstools.SummaryRow.summarise_criterion"><code class="docutils literal notranslate"><span class="pre">SummaryRow.summarise_criterion()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.SummaryRowSimple"><code class="docutils literal notranslate"><span class="pre">SummaryRowSimple</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.auxs.statstools.SummaryRowSimple.summarise_criterion"><code class="docutils literal notranslate"><span class="pre">SummaryRowSimple.summarise_criterion()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.SummaryRowWeighted"><code class="docutils literal notranslate"><span class="pre">SummaryRowWeighted</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="#hydpy.auxs.statstools.SummaryRowWeighted.summarise_criterion"><code class="docutils literal notranslate"><span class="pre">SummaryRowWeighted.summarise_criterion()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#hydpy.auxs.statstools.print_evaluationtable"><code class="docutils literal notranslate"><span class="pre">print_evaluationtable()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="validtools.html">validtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="xmltools.html">xmltools</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Configuration Tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modelcollection.html">Model Collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Example Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="zbibliography.html">Bibliography</a></li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="smoothtools.html"
                          title="previous chapter">smoothtools</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="validtools.html"
                          title="next chapter">validtools</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/statstools.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="statstools">
<span id="id1"></span><h1>statstools<a class="headerlink" href="#statstools" title="Link to this heading">¶</a></h1>
<p id="module-hydpy.auxs.statstools">This module implements statistical functionalities frequently used in hydrological
modelling.</p>
<p>Module <a class="reference internal" href="#module-hydpy.auxs.statstools" title="hydpy.auxs.statstools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">statstools</span></code></a> implements the following members:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.SimObs" title="hydpy.auxs.statstools.SimObs"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimObs</span></code></a> A named tuple containing one array of simulated and one array of observed values.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.filter_series" title="hydpy.auxs.statstools.filter_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">filter_series()</span></code></a> Filter time series for the given date ranges or months.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> Prepare and return two <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.25)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> arrays based on the given arguments.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.Criterion" title="hydpy.auxs.statstools.Criterion"><code class="xref py py-class docutils literal notranslate"><span class="pre">Criterion</span></code></a> Callback protocol for efficiency criteria like <a class="reference internal" href="#hydpy.auxs.statstools.nse" title="hydpy.auxs.statstools.nse"><code class="xref py py-func docutils literal notranslate"><span class="pre">nse()</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.rmse" title="hydpy.auxs.statstools.rmse"><code class="xref py py-func docutils literal notranslate"><span class="pre">rmse()</span></code></a> Calculate the root-mean-square error.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.nse" title="hydpy.auxs.statstools.nse"><code class="xref py py-func docutils literal notranslate"><span class="pre">nse()</span></code></a> Calculate the efficiency criteria after Nash &amp; Sutcliffe.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.nse_log" title="hydpy.auxs.statstools.nse_log"><code class="xref py py-func docutils literal notranslate"><span class="pre">nse_log()</span></code></a> Calculate the efficiency criteria after Nash &amp; Sutcliffe for logarithmic values.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.corr2" title="hydpy.auxs.statstools.corr2"><code class="xref py py-func docutils literal notranslate"><span class="pre">corr2()</span></code></a> Calculate the coefficient of determination via the square of the coefficient of correlation according to Bravais-Pearson.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.kge" title="hydpy.auxs.statstools.kge"><code class="xref py py-func docutils literal notranslate"><span class="pre">kge()</span></code></a> Calculate the Kling-Gupta efficiency according to <span id="id2"><a class="reference internal" href="zbibliography.html#id18" title="Harald Kling, Martin Fuchs, and Maria Paulin. Runoff conditions in the upper Danube basin under an ensemble of climate change scenarios. Journal of Hydrology, 424-425:264–277, 2012. doi:10.1016/j.jhydrol.2012.01.011.">Kling <em>et al.</em> (2012)</a></span>.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.bias_abs" title="hydpy.auxs.statstools.bias_abs"><code class="xref py py-func docutils literal notranslate"><span class="pre">bias_abs()</span></code></a> Calculate the absolute difference between the means of the simulated and the observed values.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.bias_rel" title="hydpy.auxs.statstools.bias_rel"><code class="xref py py-func docutils literal notranslate"><span class="pre">bias_rel()</span></code></a> Calculate the relative difference between the means of the simulated and the observed values.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.std_ratio" title="hydpy.auxs.statstools.std_ratio"><code class="xref py py-func docutils literal notranslate"><span class="pre">std_ratio()</span></code></a> Calculate the ratio between the standard deviation of the simulated and the observed values.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.var_ratio" title="hydpy.auxs.statstools.var_ratio"><code class="xref py py-func docutils literal notranslate"><span class="pre">var_ratio()</span></code></a> Calculate the ratio between the variation coefficients of the simulated and the observed values.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.corr" title="hydpy.auxs.statstools.corr"><code class="xref py py-func docutils literal notranslate"><span class="pre">corr()</span></code></a> Calculate the product-moment correlation coefficient after Pearson.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.hsepd_pdf" title="hydpy.auxs.statstools.hsepd_pdf"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd_pdf()</span></code></a> Calculate the probability densities based on the heteroskedastic skewed exponential power distribution.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.hsepd_manual" title="hydpy.auxs.statstools.hsepd_manual"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd_manual()</span></code></a> Calculate the mean of the logarithmic probability densities of the heteroskedastic skewed exponential power distribution.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.hsepd" title="hydpy.auxs.statstools.hsepd"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd()</span></code></a> Calculate the mean of the logarithmic probability densities of the heteroskedastic skewed exponential power distribution.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.calc_mean_time" title="hydpy.auxs.statstools.calc_mean_time"><code class="xref py py-func docutils literal notranslate"><span class="pre">calc_mean_time()</span></code></a> Return the weighted mean of the given time points.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.calc_mean_time_deviation" title="hydpy.auxs.statstools.calc_mean_time_deviation"><code class="xref py py-func docutils literal notranslate"><span class="pre">calc_mean_time_deviation()</span></code></a> Return the weighted deviation of the given timepoints from their mean time.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.calc_weights" title="hydpy.auxs.statstools.calc_weights"><code class="xref py py-func docutils literal notranslate"><span class="pre">calc_weights()</span></code></a> Calculate “statistical” weights for all given nodes based on the number of observations within the evaluation period.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.SummaryRow" title="hydpy.auxs.statstools.SummaryRow"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRow</span></code></a> Abstract base class for <a class="reference internal" href="#hydpy.auxs.statstools.SummaryRowSimple" title="hydpy.auxs.statstools.SummaryRowSimple"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRowSimple</span></code></a> and <a class="reference internal" href="#hydpy.auxs.statstools.SummaryRowWeighted" title="hydpy.auxs.statstools.SummaryRowWeighted"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRowWeighted</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.SummaryRowSimple" title="hydpy.auxs.statstools.SummaryRowSimple"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRowSimple</span></code></a> Helper to define additional “summary rows” in evaluation tables based on simple (non-weighted) averages.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.SummaryRowWeighted" title="hydpy.auxs.statstools.SummaryRowWeighted"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRowWeighted</span></code></a> Helper to define additional “summary rows” in evaluation tables based on weighted averages.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.print_evaluationtable" title="hydpy.auxs.statstools.print_evaluationtable"><code class="xref py py-func docutils literal notranslate"><span class="pre">print_evaluationtable()</span></code></a> Print a table containing the results of the given evaluation criteria for the given <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> objects.</p></li>
</ul>
</div></blockquote>
<hr class="docutils" />
<dl class="py class">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.SimObs">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">SimObs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.Vector" title="hydpy.core.typingtools.Vector"><span class="pre">Vector</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.Vector" title="hydpy.core.typingtools.Vector"><span class="pre">Vector</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#SimObs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.SimObs" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.NamedTuple" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></a></p>
<p>A named tuple containing one array of simulated and one array of observed
values.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.SimObs.sim">
<span class="sig-name descname"><span class="pre">sim</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.Vector" title="hydpy.core.typingtools.Vector"><span class="pre">Vector</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.auxs.statstools.SimObs.sim" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.SimObs.obs">
<span class="sig-name descname"><span class="pre">obs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.Vector" title="hydpy.core.typingtools.Vector"><span class="pre">Vector</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#hydpy.auxs.statstools.SimObs.obs" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.filter_series">
<span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">filter_series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_ranges</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.11)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="timetools.html#hydpy.core.timetools.Date" title="hydpy.core.timetools.Date"><span class="pre">Date</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.11)"><span class="pre">datetime</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="timetools.html#hydpy.core.timetools.Date" title="hydpy.core.timetools.Date"><span class="pre">Date</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.11)"><span class="pre">datetime</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">months</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.11)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#hydpy.auxs.statstools.SimObs" title="hydpy.auxs.statstools.SimObs"><span class="pre">SimObs</span></a></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#filter_series"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.filter_series" title="Link to this definition">¶</a></dt>
<dd><p>Filter time series for the given date ranges or months.</p>
<p>Often, we want to apply objective functions like <a class="reference internal" href="#hydpy.auxs.statstools.nse" title="hydpy.auxs.statstools.nse"><code class="xref py py-func docutils literal notranslate"><span class="pre">nse()</span></code></a> on a subset of the available
simulated and observed values.  The function <a class="reference internal" href="#hydpy.auxs.statstools.filter_series" title="hydpy.auxs.statstools.filter_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">filter_series()</span></code></a> helps to extract the
relevant data either by data ranges or by months.  Common examples are to pass a
single date range to ignore the first non-optimal values of a warm-up period, to
pass a set of date ranges to focus on certain events or to pass a set of months to
perform a seasonal analysis.</p>
<p>To show how <a class="reference internal" href="#hydpy.auxs.statstools.filter_series" title="hydpy.auxs.statstools.filter_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">filter_series()</span></code></a> works, we prepare a daily initialisation time grid
spanning two hydrological years:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">filter_series</span><span class="p">,</span> <span class="n">pub</span><span class="p">,</span> <span class="n">Node</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span> <span class="o">=</span> <span class="s2">&quot;2001-11-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2003-11-01&quot;</span><span class="p">,</span> <span class="s2">&quot;1d&quot;</span>
</pre></div>
</div>
<p>Next, we prepare a <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> object and assign some constantly increasing and
decreasing values to its <cite>simulation</cite> and the <cite>observation</cite> series, respectively:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span><span class="o">.</span><span class="n">prepare_allseries</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="mi">365</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="mi">365</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>First, we select data of arbitrary sub-periods via the <cite>data_ranges</cite> argument.
Each data range consists of the start-point and the end-point of a sub-period.
Here, we choose all values that belong to 31 October or 1 November (note that
unsorted data ranges are acceptable):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">date_ranges</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;2001-11-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2001-11-02&quot;</span><span class="p">),</span>
<span class="gp">... </span>               <span class="p">(</span><span class="s2">&quot;2002-10-31&quot;</span><span class="p">,</span> <span class="s2">&quot;2002-11-02&quot;</span><span class="p">),</span>
<span class="gp">... </span>               <span class="p">(</span><span class="s2">&quot;2003-10-31&quot;</span><span class="p">,</span> <span class="s2">&quot;2003-11-01&quot;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">filter_series</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">date_ranges</span><span class="o">=</span><span class="n">date_ranges</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference internal" href="#hydpy.auxs.statstools.filter_series" title="hydpy.auxs.statstools.filter_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">filter_series()</span></code></a> returns the data within index-sorted <a class="reference external" href="https://pandas.pydata.org/pandas-docs/dev/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v2.2.0dev0+224.g81fb7e7607)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> objects (note
that the index addresses the left boundary of each time step):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">results</span><span class="o">.</span><span class="n">sim</span>   
<span class="go">2001-11-01      1.0</span>
<span class="go">2002-10-31    365.0</span>
<span class="go">2002-11-01    366.0</span>
<span class="go">2003-10-31    730.0</span>
<span class="go">Name: sim...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span><span class="o">.</span><span class="n">obs</span>   
<span class="go">2001-11-01    730.0</span>
<span class="go">2002-10-31    366.0</span>
<span class="go">2002-11-01    365.0</span>
<span class="go">2003-10-31      1.0</span>
<span class="go">Name: obs...</span>
</pre></div>
</div>
<p>To help avoiding possible hard-to-find errors, <a class="reference internal" href="#hydpy.auxs.statstools.filter_series" title="hydpy.auxs.statstools.filter_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">filter_series()</span></code></a> performs the
following checks:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">date_ranges</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;2001-10-31&quot;</span><span class="p">,</span> <span class="s2">&quot;2003-11-01&quot;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_series</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">date_ranges</span><span class="o">=</span><span class="n">date_ranges</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to filter the given series, the following error occurred: The given date (2001-10-31 00:00:00) is before the first date of the initialisation period (2001-11-01 00:00:00).</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">date_ranges</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;2001-11-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2003-11-02&quot;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_series</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">date_ranges</span><span class="o">=</span><span class="n">date_ranges</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to filter the given series, the following error occurred: The given date (2003-11-02 00:00:00) is behind the last date of the initialisation period (2003-11-01 00:00:00).</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">date_ranges</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;2001-11-02&quot;</span><span class="p">,</span> <span class="s2">&quot;2001-11-02&quot;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_series</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">date_ranges</span><span class="o">=</span><span class="n">date_ranges</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to filter the given series, the following error occurred: The given first date `2001-11-02 00:00:00` is not before than the given last date `2001-11-02 00:00:00`.</span>
</pre></div>
</div>
<p>Note that function <a class="reference internal" href="#hydpy.auxs.statstools.filter_series" title="hydpy.auxs.statstools.filter_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">filter_series()</span></code></a> does not remove any duplicates:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">date_ranges</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;2001-11-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2001-11-05&quot;</span><span class="p">),</span>
<span class="gp">... </span>               <span class="p">(</span><span class="s2">&quot;2001-11-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2001-11-02&quot;</span><span class="p">),</span>
<span class="gp">... </span>               <span class="p">(</span><span class="s2">&quot;2001-11-04&quot;</span><span class="p">,</span> <span class="s2">&quot;2001-11-06&quot;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span> <span class="o">=</span> <span class="n">filter_series</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">date_ranges</span><span class="o">=</span><span class="n">date_ranges</span><span class="p">)</span><span class="o">.</span><span class="n">sim</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span>   
<span class="go">2001-11-01    1.0</span>
<span class="go">2001-11-01    1.0</span>
<span class="go">2001-11-02    2.0</span>
<span class="go">2001-11-03    3.0</span>
<span class="go">2001-11-04    4.0</span>
<span class="go">2001-11-04    4.0</span>
<span class="go">2001-11-05    5.0</span>
<span class="go">Name: sim...</span>
</pre></div>
</div>
<p>Instead of date ranges, one can specify months via integer numbers.  We begin with
selecting October (10) and November (11) individually:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span> <span class="o">=</span> <span class="n">filter_series</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">months</span><span class="o">=</span><span class="p">[</span><span class="mi">11</span><span class="p">])</span><span class="o">.</span><span class="n">sim</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">sim</span><span class="p">)</span>
<span class="go">60</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span>   
<span class="go">2001-11-01      1.0</span>
<span class="go">2001-11-02      2.0</span>
<span class="go">...</span>
<span class="go">2002-11-29    394.0</span>
<span class="go">2002-11-30    395.0</span>
<span class="go">Name: sim...</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span> <span class="o">=</span> <span class="n">filter_series</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">months</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">])</span><span class="o">.</span><span class="n">sim</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">sim</span><span class="p">)</span>
<span class="go">62</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span>   
<span class="go">2002-10-01    335.0</span>
<span class="go">2002-10-02    336.0</span>
<span class="go">...</span>
<span class="go">2003-10-30    729.0</span>
<span class="go">2003-10-31    730.0</span>
<span class="go">Name: sim...</span>
</pre></div>
</div>
<p>One can select multiple months, which neither need to be sorted nor consecutive:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span> <span class="o">=</span> <span class="n">filter_series</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">months</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">sim</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">sim</span><span class="p">)</span>
<span class="go">122</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span>   
<span class="go">2002-01-01     62.0</span>
<span class="go">2002-01-02     63.0</span>
<span class="go">...</span>
<span class="go">2003-04-29    545.0</span>
<span class="go">2003-04-30    546.0</span>
<span class="go">Name: sim...</span>
</pre></div>
</div>
<p>Note that you are also free to either pass the <cite>sim</cite> and <cite>obs</cite> series directly
instead of a <cite>node</cite> (see function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for further information):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xs</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ys</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_series</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">xs</span><span class="p">,</span> <span class="n">obs</span><span class="o">=</span><span class="n">ys</span><span class="p">,</span> <span class="n">months</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">sim</span>   
<span class="go">2002-01-01     62.0</span>
<span class="go">2002-01-02     63.0</span>
<span class="go">...</span>
<span class="go">2003-04-29    545.0</span>
<span class="go">2003-04-30    546.0</span>
<span class="go">Name: sim...</span>
</pre></div>
</div>
<p>Missing or double information for arguments <cite>date_ranges</cite> and <cite>months</cite> results in
the following error messages:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">filter_series</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to filter the given series, the following error occurred: You need to define either the `date_ranges` or `months` argument, but none of them is given.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">filter_series</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">date_ranges</span><span class="o">=</span><span class="p">[],</span> <span class="n">months</span><span class="o">=</span><span class="p">[])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to filter the given series, the following error occurred: You need to define either the `date_ranges` or `months` argument, but both of them are given.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.prepare_arrays">
<span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">prepare_arrays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#hydpy.auxs.statstools.SimObs" title="hydpy.auxs.statstools.SimObs"><span class="pre">SimObs</span></a></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#prepare_arrays"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.prepare_arrays" title="Link to this definition">¶</a></dt>
<dd><p>Prepare and return two <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.25)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> arrays based on the given arguments.</p>
<p>Note that many functions provided by module <a class="reference internal" href="#module-hydpy.auxs.statstools" title="hydpy.auxs.statstools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">statstools</span></code></a> apply function
<a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> internally (e.g. <a class="reference internal" href="#hydpy.auxs.statstools.nse" title="hydpy.auxs.statstools.nse"><code class="xref py py-func docutils literal notranslate"><span class="pre">nse()</span></code></a>).  But you can also use it manually, as
shown in the following examples.</p>
<p>Function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> can extract time-series data from <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> objects.  To set
up an example for this, we define an initialisation period and prepare a <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a>
object:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">pub</span><span class="p">,</span> <span class="n">Node</span><span class="p">,</span> <span class="n">round_</span><span class="p">,</span> <span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span> <span class="o">=</span> <span class="s2">&quot;01.01.2000&quot;</span><span class="p">,</span> <span class="s2">&quot;07.01.2000&quot;</span><span class="p">,</span> <span class="s2">&quot;1d&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Next, we assign some values to the <cite>simulation</cite> and the <cite>observation</cite> sequences of
the node:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">node</span><span class="o">.</span><span class="n">prepare_allseries</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">checkseries</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span>
<span class="gp">... </span>    <span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="mf">6.0</span>
</pre></div>
</div>
<p>Now we can pass the node object to function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> and get the
(unmodified) time-series data:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">prepare_arrays</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arrays</span> <span class="o">=</span> <span class="n">prepare_arrays</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">sim</span><span class="p">)</span>
<span class="go">1.0, nan, nan, nan, 2.0, 3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">obs</span><span class="p">)</span>
<span class="go">4.0, 5.0, nan, nan, nan, 6.0</span>
</pre></div>
</div>
<p>Alternatively, we can pass directly any iterable (e.g. <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> and <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> objects)
containing the <cite>simulated</cite> and <cite>observed</cite> data:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">arrays</span> <span class="o">=</span> <span class="n">prepare_arrays</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">),</span>
<span class="gp">... </span>                        <span class="n">obs</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">sim</span><span class="p">)</span>
<span class="go">1.0, nan, nan, nan, 2.0, 3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">obs</span><span class="p">)</span>
<span class="go">4.0, 5.0, nan, nan, nan, 6.0</span>
</pre></div>
</div>
<p>The optional <cite>skip_nan</cite> flag allows skipping all values, which are no numbers.
Note that <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> returns only those pairs of <cite>simulated</cite> and <cite>observed</cite>
values that do not contain any <cite>nan</cite> value:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">arrays</span> <span class="o">=</span> <span class="n">prepare_arrays</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">skip_nan</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">sim</span><span class="p">)</span>
<span class="go">1.0, 3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">obs</span><span class="p">)</span>
<span class="go">4.0, 6.0</span>
</pre></div>
</div>
<p>If you are interested in analysing a sub-period, adapt the global <a class="reference internal" href="timetools.html#hydpy.core.timetools.Timegrids.eval_" title="hydpy.core.timetools.Timegrids.eval_"><code class="xref py py-attr docutils literal notranslate"><span class="pre">eval_</span></code></a>
<a class="reference internal" href="timetools.html#hydpy.core.timetools.Timegrid" title="hydpy.core.timetools.Timegrid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timegrid</span></code></a> beforehand.  When passing a <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> object, function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a>
then returns the data of the current evaluation sub-period only:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">eval_</span><span class="o">.</span><span class="n">dates</span> <span class="o">=</span> <span class="s2">&quot;02.01.2000&quot;</span><span class="p">,</span> <span class="s2">&quot;06.01.2000&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arrays</span> <span class="o">=</span> <span class="n">prepare_arrays</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">sim</span><span class="p">)</span>
<span class="go">nan, nan, nan, 2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">obs</span><span class="p">)</span>
<span class="go">5.0, nan, nan, nan</span>
</pre></div>
</div>
<p>Suppose one instead passes the simulation and observation time-series directly
(which possibly fit the evaluation period already).  In that case, function
<a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> ignores the current <a class="reference internal" href="timetools.html#hydpy.core.timetools.Timegrids.eval_" title="hydpy.core.timetools.Timegrids.eval_"><code class="xref py py-attr docutils literal notranslate"><span class="pre">eval_</span></code></a> <a class="reference internal" href="timetools.html#hydpy.core.timetools.Timegrid" title="hydpy.core.timetools.Timegrid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timegrid</span></code></a> by default:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">arrays</span> <span class="o">=</span> <span class="n">prepare_arrays</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">arrays</span><span class="o">.</span><span class="n">sim</span><span class="p">,</span> <span class="n">obs</span><span class="o">=</span><span class="n">arrays</span><span class="o">.</span><span class="n">obs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">sim</span><span class="p">)</span>
<span class="go">nan, nan, nan, 2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">obs</span><span class="p">)</span>
<span class="go">5.0, nan, nan, nan</span>
</pre></div>
</div>
<p>Use the <cite>subperiod</cite> argument to deviate from the default behaviour:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">arrays</span> <span class="o">=</span> <span class="n">prepare_arrays</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">subperiod</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">sim</span><span class="p">)</span>
<span class="go">1.0, nan, nan, nan, 2.0, 3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">obs</span><span class="p">)</span>
<span class="go">4.0, 5.0, nan, nan, nan, 6.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">arrays</span> <span class="o">=</span> <span class="n">prepare_arrays</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">arrays</span><span class="o">.</span><span class="n">sim</span><span class="p">,</span> <span class="n">obs</span><span class="o">=</span><span class="n">arrays</span><span class="o">.</span><span class="n">obs</span><span class="p">,</span> <span class="n">subperiod</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">sim</span><span class="p">)</span>
<span class="go">nan, nan, nan, 2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">obs</span><span class="p">)</span>
<span class="go">5.0, nan, nan, nan</span>
</pre></div>
</div>
<p>The final examples show the error messages returned in case of invalid combinations
of input arguments:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prepare_arrays</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Neither a `Node` object is passed to argument `node` nor are arrays passed to arguments `sim` and `obs`.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prepare_arrays</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">,</span> <span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Values are passed to both arguments `sim` and `node`, which is not allowed.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prepare_arrays</span><span class="p">(</span><span class="n">obs</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span><span class="p">,</span> <span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Values are passed to both arguments `obs` and `node`, which is not allowed.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prepare_arrays</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">A value is passed to argument `sim` but no value is passed to argument `obs`.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prepare_arrays</span><span class="p">(</span><span class="n">obs</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">A value is passed to argument `obs` but no value is passed to argument `sim`.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.Criterion">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">Criterion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#Criterion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.Criterion" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Protocol" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Protocol</span></code></a></p>
<p>Callback protocol for efficiency criteria like <a class="reference internal" href="#hydpy.auxs.statstools.nse" title="hydpy.auxs.statstools.nse"><code class="xref py py-func docutils literal notranslate"><span class="pre">nse()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.rmse">
<span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">rmse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#rmse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.rmse" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the root-mean-square error.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">rmse</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">rmse</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">rmse</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">]))</span>
<span class="go">0.912871</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some additional instructions
for using <a class="reference internal" href="#hydpy.auxs.statstools.rmse" title="hydpy.auxs.statstools.rmse"><code class="xref py py-func docutils literal notranslate"><span class="pre">rmse()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.nse">
<span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">nse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#nse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.nse" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the efficiency criteria after Nash &amp; Sutcliffe.</p>
<p>If the simulated values predict the observed values and the average observed value
(regarding the mean square error), the NSE value is zero:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">nse</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">nse</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">nse</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">0.0</span>
</pre></div>
</div>
<p>For worse and better agreement, the NSE is negative or positive, respectively:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">nse</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">-3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">nse</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">0.5</span>
</pre></div>
</div>
<p>The highest possible value is one:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">nse</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">1.0</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some additional instructions
for using <a class="reference internal" href="#hydpy.auxs.statstools.nse" title="hydpy.auxs.statstools.nse"><code class="xref py py-func docutils literal notranslate"><span class="pre">nse()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.nse_log">
<span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">nse_log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#nse_log"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.nse_log" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the efficiency criteria after Nash &amp; Sutcliffe for logarithmic values.</p>
<p>The following calculations repeat the ones of the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.nse" title="hydpy.auxs.statstools.nse"><code class="xref py py-func docutils literal notranslate"><span class="pre">nse()</span></code></a>
but with exponentiated values.  Hence, the results are similar or, as in the first
and the last example, even identical:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">nse_log</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">exp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">nse_log</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">exp</span><span class="p">([</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]),</span> <span class="n">obs</span><span class="o">=</span><span class="n">exp</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])))</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">nse_log</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">exp</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">]),</span> <span class="n">obs</span><span class="o">=</span><span class="n">exp</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])))</span>
<span class="go">0.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">nse</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">exp</span><span class="p">([</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]),</span> <span class="n">obs</span><span class="o">=</span><span class="n">exp</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])))</span>
<span class="go">-2.734185</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">nse</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">exp</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]),</span> <span class="n">obs</span><span class="o">=</span><span class="n">exp</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])))</span>
<span class="go">0.002139</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">nse</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">exp</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]),</span> <span class="n">obs</span><span class="o">=</span><span class="n">exp</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])))</span>
<span class="go">1.0</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some additional instructions
for using <a class="reference internal" href="#hydpy.auxs.statstools.nse_log" title="hydpy.auxs.statstools.nse_log"><code class="xref py py-func docutils literal notranslate"><span class="pre">nse_log()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.corr2">
<span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">corr2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#corr2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.corr2" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the coefficient of determination via the square of the coefficient of
correlation according to Bravais-Pearson.</p>
<p>For perfect positive or negative correlation, <a class="reference internal" href="#hydpy.auxs.statstools.corr2" title="hydpy.auxs.statstools.corr2"><code class="xref py py-func docutils literal notranslate"><span class="pre">corr2()</span></code></a> returns 1:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">corr2</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">corr2</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">corr2</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">1.0</span>
</pre></div>
</div>
<p>If there is no correlation at all, <a class="reference internal" href="#hydpy.auxs.statstools.corr2" title="hydpy.auxs.statstools.corr2"><code class="xref py py-func docutils literal notranslate"><span class="pre">corr2()</span></code></a> returns 0:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">corr2</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]))</span>
<span class="go">0.0</span>
</pre></div>
</div>
<p>An intermediate example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">corr2</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">0.75</span>
</pre></div>
</div>
<p>Take care if there is no variation in one of the data series.  Then the correlation
coefficient is not defined, and <a class="reference internal" href="#hydpy.auxs.statstools.corr2" title="hydpy.auxs.statstools.corr2"><code class="xref py py-func docutils literal notranslate"><span class="pre">corr2()</span></code></a> returns <code class="xref py py-const docutils literal notranslate"><span class="pre">nan</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">corr2</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">nan</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some additional instructions
for using <a class="reference internal" href="#hydpy.auxs.statstools.corr2" title="hydpy.auxs.statstools.corr2"><code class="xref py py-func docutils literal notranslate"><span class="pre">corr2()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.kge">
<span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">kge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#kge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.kge" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the Kling-Gupta efficiency according to <span id="id3"><a class="reference internal" href="zbibliography.html#id18" title="Harald Kling, Martin Fuchs, and Maria Paulin. Runoff conditions in the upper Danube basin under an ensemble of climate change scenarios. Journal of Hydrology, 424-425:264–277, 2012. doi:10.1016/j.jhydrol.2012.01.011.">Kling <em>et al.</em> (2012)</a></span>.</p>
<p>For a perfect fit, <a class="reference internal" href="#hydpy.auxs.statstools.kge" title="hydpy.auxs.statstools.kge"><code class="xref py py-func docutils literal notranslate"><span class="pre">kge()</span></code></a> returns one:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span>  <span class="n">kge</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">kge</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">1.0</span>
</pre></div>
</div>
<p>In each of the following three examples, only one of the KGE components deviates
from one:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">kge</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>  <span class="c1"># imperfect correlation</span>
<span class="go">-1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">kge</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">6.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]))</span>  <span class="c1"># imperfect average</span>
<span class="go">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">kge</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]))</span>  <span class="c1"># imperfect variation</span>
<span class="go">0.5</span>
</pre></div>
</div>
<p>Finally, a mixed example, where all components deviate from one:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">kge</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]))</span>
<span class="go">0.495489</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some additional instructions
for using <a class="reference internal" href="#hydpy.auxs.statstools.kge" title="hydpy.auxs.statstools.kge"><code class="xref py py-func docutils literal notranslate"><span class="pre">kge()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.bias_abs">
<span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">bias_abs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#bias_abs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.bias_abs" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the absolute difference between the means of the simulated and the
observed values.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">bias_abs</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">bias_abs</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">bias_abs</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">bias_abs</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">-1.0</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some additional instructions
for using <a class="reference internal" href="#hydpy.auxs.statstools.bias_abs" title="hydpy.auxs.statstools.bias_abs"><code class="xref py py-func docutils literal notranslate"><span class="pre">bias_abs()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.bias_rel">
<span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">bias_rel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#bias_rel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.bias_rel" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the relative difference between the means of the simulated and the
observed values.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">bias_rel</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">bias_rel</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">bias_rel</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">bias_rel</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">-0.5</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some additional instructions
for using <a class="reference internal" href="#hydpy.auxs.statstools.bias_rel" title="hydpy.auxs.statstools.bias_rel"><code class="xref py py-func docutils literal notranslate"><span class="pre">bias_rel()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.std_ratio">
<span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">std_ratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#std_ratio"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.std_ratio" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the ratio between the standard deviation of the simulated and the
observed values.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">round_</span><span class="p">,</span> <span class="n">std_ratio</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">std_ratio</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">std_ratio</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">-1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">std_ratio</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">2.0</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some additional instructions
for using <a class="reference internal" href="#hydpy.auxs.statstools.std_ratio" title="hydpy.auxs.statstools.std_ratio"><code class="xref py py-func docutils literal notranslate"><span class="pre">std_ratio()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.var_ratio">
<span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">var_ratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#var_ratio"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.var_ratio" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the ratio between the variation coefficients of the simulated and the
observed values.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">round_</span><span class="p">,</span> <span class="n">var_ratio</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">var_ratio</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">var_ratio</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]))</span>
<span class="go">-0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">var_ratio</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">]))</span>
<span class="go">-0.5</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some additional instructions
for using <a class="reference internal" href="#hydpy.auxs.statstools.var_ratio" title="hydpy.auxs.statstools.var_ratio"><code class="xref py py-func docutils literal notranslate"><span class="pre">var_ratio()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.corr">
<span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">corr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#corr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.corr" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the product-moment correlation coefficient after Pearson.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">corr</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">corr</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">corr</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">-1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">corr</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">0.0</span>
</pre></div>
</div>
<p>Take care if there is no variation in one of the data series.  Then the correlation
coefficient is not defined, and <a class="reference internal" href="#hydpy.auxs.statstools.corr" title="hydpy.auxs.statstools.corr"><code class="xref py py-func docutils literal notranslate"><span class="pre">corr()</span></code></a> returns <code class="xref py py-const docutils literal notranslate"><span class="pre">nan</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">corr</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">nan</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some additional instructions
for use of function <a class="reference internal" href="#hydpy.auxs.statstools.corr" title="hydpy.auxs.statstools.corr"><code class="xref py py-func docutils literal notranslate"><span class="pre">corr()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.hsepd_pdf">
<span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">hsepd_pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">xi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.Vector" title="hydpy.core.typingtools.Vector"><span class="pre">Vector</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#hsepd_pdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.hsepd_pdf" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the probability densities based on the heteroskedastic skewed
exponential power distribution.</p>
<p>For convenience, we store the required parameters of the probability density
function as well as the simulated and observed values in a dictionary:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">hsepd_pdf</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">general</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;sigma1&quot;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
<span class="gp">... </span>           <span class="s2">&quot;sigma2&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="gp">... </span>           <span class="s2">&quot;xi&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="gp">... </span>           <span class="s2">&quot;beta&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="gp">... </span>           <span class="s2">&quot;sim&quot;</span><span class="p">:</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">41.0</span><span class="p">),</span>
<span class="gp">... </span>           <span class="s2">&quot;obs&quot;</span><span class="p">:</span> <span class="n">numpy</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mf">25.0</span><span class="p">)}</span>
</pre></div>
</div>
<p>The following test function allows for varying one parameter and prints some and
plots all the probability density values corresponding to different simulated
values:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">... </span>    <span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span>
<span class="gp">... </span>    <span class="n">special</span> <span class="o">=</span> <span class="n">general</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">name</span><span class="p">,</span> <span class="n">values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">... </span>    <span class="n">results</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">general</span><span class="p">[</span><span class="s2">&quot;sim&quot;</span><span class="p">]),</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">... </span>    <span class="n">results</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">general</span><span class="p">[</span><span class="s2">&quot;sim&quot;</span><span class="p">]</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">jdx</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">values</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">special</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
<span class="gp">... </span>        <span class="n">results</span><span class="p">[:,</span> <span class="n">jdx</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">hsepd_pdf</span><span class="p">(</span><span class="o">**</span><span class="n">special</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">pyplot</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">results</span><span class="p">[:,</span> <span class="n">jdx</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">=</span><span class="si">%.1f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
<span class="gp">... </span>    <span class="n">pyplot</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">result</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">results</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">idx</span> <span class="o">%</span> <span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>            <span class="n">round_</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p>When varying <cite>beta</cite>, the resulting probabilities correspond to the Laplace
distribution (1.0), normal distribution (0.0), and the uniform distribution (-1.0),
respectively.  Note that we use -0.99 instead of -1.0 for approximating the uniform
distribution to prevent from running into numerical problems, which are not solved
yet:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="n">beta</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.99</span><span class="p">])</span>
<span class="go">10.0, 0.002032, 0.000886, 0.0</span>
<span class="go">15.0, 0.008359, 0.010798, 0.0</span>
<span class="go">20.0, 0.034382, 0.048394, 0.057739</span>
<span class="go">25.0, 0.141421, 0.079788, 0.057739</span>
<span class="go">30.0, 0.034382, 0.048394, 0.057739</span>
<span class="go">35.0, 0.008359, 0.010798, 0.0</span>
<span class="go">40.0, 0.002032, 0.000886, 0.0</span>
</pre></div>
</div>
<p>When varying <cite>xi</cite>, the resulting density is negatively skewed (0.2), symmetric
(1.0), and positively skewed (5.0), respectively:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="n">xi</span><span class="o">=</span><span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">])</span>
<span class="go">10.0, 0.0, 0.000886, 0.003175</span>
<span class="go">15.0, 0.0, 0.010798, 0.012957</span>
<span class="go">20.0, 0.092845, 0.048394, 0.036341</span>
<span class="go">25.0, 0.070063, 0.079788, 0.070063</span>
<span class="go">30.0, 0.036341, 0.048394, 0.092845</span>
<span class="go">35.0, 0.012957, 0.010798, 0.0</span>
<span class="go">40.0, 0.003175, 0.000886, 0.0</span>
</pre></div>
</div>
<p>In the above examples, the actual <cite>sigma</cite> (5.0) is calculated by multiplying
<cite>sigma1</cite> (0.2) with the mean simulated value (25.0) internally.  This can be done
for modelling homoscedastic errors.  Instead, <cite>sigma2</cite> is multiplied with the
individual simulated values to account for heteroscedastic errors.  With increasing
values of <cite>sigma2</cite>, the resulting densities are modified as follows:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="n">sigma2</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">])</span>
<span class="go">10.0, 0.000886, 0.002921, 0.005737</span>
<span class="go">15.0, 0.010798, 0.018795, 0.022831</span>
<span class="go">20.0, 0.048394, 0.044159, 0.037988</span>
<span class="go">25.0, 0.079788, 0.053192, 0.039894</span>
<span class="go">30.0, 0.048394, 0.04102, 0.032708</span>
<span class="go">35.0, 0.010798, 0.023493, 0.023493</span>
<span class="go">40.0, 0.000886, 0.011053, 0.015771</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some additional instructions
for using <a class="reference internal" href="#hydpy.auxs.statstools.hsepd_pdf" title="hydpy.auxs.statstools.hsepd_pdf"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd_pdf()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.hsepd_manual">
<span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">hsepd_manual</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">xi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#hsepd_manual"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.hsepd_manual" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the mean of the logarithmic probability densities of the
heteroskedastic skewed exponential power distribution.</p>
<p>The following examples stem from the documentation of function <a class="reference internal" href="#hydpy.auxs.statstools.hsepd_pdf" title="hydpy.auxs.statstools.hsepd_pdf"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd_pdf()</span></code></a>, which
is used by function <a class="reference internal" href="#hydpy.auxs.statstools.hsepd_manual" title="hydpy.auxs.statstools.hsepd_manual"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd_manual()</span></code></a>.  The first one deals with a heteroscedastic
normal distribution:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">hsepd_manual</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hsepd_manual</span><span class="p">(</span><span class="n">sigma1</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">sigma2</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">xi</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">beta</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">sim</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">41.0</span><span class="p">),</span>
<span class="gp">... </span>                    <span class="n">obs</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mf">25.0</span><span class="p">)))</span>
<span class="go">-3.682842</span>
</pre></div>
</div>
<p>Too small probability density values are set to 1e-200 before calculating their
logarithm (which means that the lowest possible value returned by function
<a class="reference internal" href="#hydpy.auxs.statstools.hsepd_manual" title="hydpy.auxs.statstools.hsepd_manual"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd_manual()</span></code></a> is approximately -460):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hsepd_manual</span><span class="p">(</span><span class="n">sigma1</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">sigma2</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">xi</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">beta</span><span class="o">=-</span><span class="mf">0.99</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">sim</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">41.0</span><span class="p">),</span>
<span class="gp">... </span>                    <span class="n">obs</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mf">25.0</span><span class="p">)))</span>
<span class="go">-209.539335</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some additional instructions
for using <a class="reference internal" href="#hydpy.auxs.statstools.hsepd_manual" title="hydpy.auxs.statstools.hsepd_manual"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd_manual()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.hsepd">
<span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">hsepd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.11)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_pars</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#hsepd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.hsepd" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the mean of the logarithmic probability densities of the
heteroskedastic skewed exponential power distribution.</p>
<p>Function <a class="reference internal" href="#hydpy.auxs.statstools.hsepd" title="hydpy.auxs.statstools.hsepd"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd()</span></code></a> serves the same purpose as function <a class="reference internal" href="#hydpy.auxs.statstools.hsepd_manual" title="hydpy.auxs.statstools.hsepd_manual"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd_manual()</span></code></a> but tries to
estimate the parameters of the heteroscedastic skewed exponential distribution via
an optimisation algorithm.  This is shown by generating a random sample.  One
thousand simulated values are scattered around the observed (true) value of 10.0
with a standard deviation of 2.0:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obs</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">)</span>
</pre></div>
</div>
<p>First, as a reference, we calculate the “true” value based on function
<a class="reference internal" href="#hydpy.auxs.statstools.hsepd_manual" title="hydpy.auxs.statstools.hsepd_manual"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd_manual()</span></code></a> and the correct distribution parameters:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">hsepd</span><span class="p">,</span> <span class="n">hsepd_manual</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hsepd_manual</span><span class="p">(</span><span class="n">sigma1</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">sigma2</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">xi</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">beta</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">sim</span><span class="o">=</span><span class="n">sim</span><span class="p">,</span> <span class="n">obs</span><span class="o">=</span><span class="n">obs</span><span class="p">))</span>
<span class="go">-2.100093</span>
</pre></div>
</div>
<p>When using function <a class="reference internal" href="#hydpy.auxs.statstools.hsepd" title="hydpy.auxs.statstools.hsepd"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd()</span></code></a>, the returned value is even a little “better”:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hsepd</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">sim</span><span class="p">,</span> <span class="n">obs</span><span class="o">=</span><span class="n">obs</span><span class="p">))</span>
<span class="go">-2.09983</span>
</pre></div>
</div>
<p>This is due to the deviation from the random sample to its theoretical distribution.
This is reflected by small differences between the estimated values and the
theoretical values of <cite>sigma1</cite> (0.2), <cite>sigma2</cite> (0.0), <cite>xi</cite> (1.0), and <cite>beta</cite> (0.0).
The estimated values are returned in the mentioned order by enabling the
<cite>return_pars</cite> option:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">value</span><span class="p">,</span> <span class="n">pars</span> <span class="o">=</span> <span class="n">hsepd</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">sim</span><span class="p">,</span> <span class="n">obs</span><span class="o">=</span><span class="n">obs</span><span class="p">,</span> <span class="n">return_pars</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">pars</span><span class="p">,</span> <span class="n">decimals</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">0.19966, 0.0, 0.96836, 0.0188</span>
</pre></div>
</div>
<p>There is no guarantee that the optimisation numerical optimisation algorithm
underlying function <a class="reference internal" href="#hydpy.auxs.statstools.hsepd" title="hydpy.auxs.statstools.hsepd"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd()</span></code></a> will always find the parameters resulting in the
largest value returned by function <a class="reference internal" href="#hydpy.auxs.statstools.hsepd_manual" title="hydpy.auxs.statstools.hsepd_manual"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd_manual()</span></code></a>.  You can increase its robustness
(and decrease computation time) by supplying close initial parameter values:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">value</span><span class="p">,</span> <span class="n">pars</span> <span class="o">=</span> <span class="n">hsepd</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">sim</span><span class="p">,</span> <span class="n">obs</span><span class="o">=</span><span class="n">obs</span><span class="p">,</span> <span class="n">return_pars</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">inits</span><span class="o">=</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">pars</span><span class="p">,</span> <span class="n">decimals</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">0.19966, 0.0, 0.96836, 0.0188</span>
</pre></div>
</div>
<p>However, the following example shows a case when this strategy results in worse
results:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">value</span><span class="p">,</span> <span class="n">pars</span> <span class="o">=</span> <span class="n">hsepd</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">sim</span><span class="p">,</span> <span class="n">obs</span><span class="o">=</span><span class="n">obs</span><span class="p">,</span> <span class="n">return_pars</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">inits</span><span class="o">=</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="go">-2.174492</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">pars</span><span class="p">)</span>
<span class="go">0.0, 0.213179, 1.705485, 0.505112</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some additional instructions
for using <a class="reference internal" href="#hydpy.auxs.statstools.hsepd" title="hydpy.auxs.statstools.hsepd"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.calc_mean_time">
<span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">calc_mean_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timepoints</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#calc_mean_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.calc_mean_time" title="Link to this definition">¶</a></dt>
<dd><p>Return the weighted mean of the given time points.</p>
<p>With equal given weights, the result is simply the mean of the given time points:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">calc_mean_time</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">calc_mean_time</span><span class="p">(</span><span class="n">timepoints</span><span class="o">=</span><span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">],</span> <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]))</span>
<span class="go">5.0</span>
</pre></div>
</div>
<p>With different weights, the resulting time is shifted to the larger ones:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">calc_mean_time</span><span class="p">(</span><span class="n">timepoints</span><span class="o">=</span><span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">],</span> <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">6.0</span>
</pre></div>
</div>
<p>Or, in the most extreme case:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">calc_mean_time</span><span class="p">(</span><span class="n">timepoints</span><span class="o">=</span><span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">],</span> <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">]))</span>
<span class="go">7.0</span>
</pre></div>
</div>
<p>There are some checks for input plausibility, e.g.:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">calc_mean_time</span><span class="p">(</span><span class="n">timepoints</span><span class="o">=</span><span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">],</span> <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to calculate the weighted mean time, the following error occurred: For the following objects, at least one value is negative: weights.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.calc_mean_time_deviation">
<span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">calc_mean_time_deviation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timepoints</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#calc_mean_time_deviation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.calc_mean_time_deviation" title="Link to this definition">¶</a></dt>
<dd><p>Return the weighted deviation of the given timepoints from their mean time.</p>
<p>With equal given weights, the is simply the standard deviation of the given time
points:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">calc_mean_time_deviation</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">calc_mean_time_deviation</span><span class="p">(</span><span class="n">timepoints</span><span class="o">=</span><span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">],</span> <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]))</span>
<span class="go">2.0</span>
</pre></div>
</div>
<p>One can pass a precalculated mean time:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">calc_mean_time_deviation</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">timepoints</span><span class="o">=</span><span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">],</span> <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">mean_time</span><span class="o">=</span><span class="mf">4.0</span><span class="p">))</span>
<span class="go">2.236068</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">calc_mean_time_deviation</span><span class="p">(</span><span class="n">timepoints</span><span class="o">=</span><span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">],</span> <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">1.732051</span>
</pre></div>
</div>
<p>Or, in the most extreme case:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">calc_mean_time_deviation</span><span class="p">(</span><span class="n">timepoints</span><span class="o">=</span><span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">],</span> <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">]))</span>
<span class="go">0.0</span>
</pre></div>
</div>
<p>There are some checks for input plausibility, e.g.:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">calc_mean_time_deviation</span><span class="p">(</span><span class="n">timepoints</span><span class="o">=</span><span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">],</span> <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to calculate the weighted time deviation from mean time, the following error occurred: For the following objects, at least one value is negative: weights.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.calc_weights">
<span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">calc_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Collection" title="(in Python v3.11)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.11)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#calc_weights"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.calc_weights" title="Link to this definition">¶</a></dt>
<dd><p>Calculate “statistical” weights for all given nodes based on the number of
observations within the evaluation period.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">calc_weights</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">Node</span><span class="p">,</span> <span class="n">print_values</span><span class="p">,</span> <span class="n">pub</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span> <span class="o">=</span> <span class="s2">&quot;01.01.2000&quot;</span><span class="p">,</span> <span class="s2">&quot;04.01.2000&quot;</span><span class="p">,</span> <span class="s2">&quot;1d&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test1</span><span class="p">,</span> <span class="n">test2</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;test1&quot;</span><span class="p">),</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;test2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test1</span><span class="o">.</span><span class="n">prepare_obsseries</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test1</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">6.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test2</span><span class="o">.</span><span class="n">prepare_obsseries</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">checkseries</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">test2</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">3.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="mf">1.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">(</span><span class="n">calc_weights</span><span class="p">((</span><span class="n">test1</span><span class="p">,</span> <span class="n">test2</span><span class="p">))</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<span class="go">0.6, 0.4</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">eval_</span><span class="o">.</span><span class="n">lastdate</span> <span class="o">=</span> <span class="s2">&quot;03.01.2000&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">(</span><span class="n">calc_weights</span><span class="p">((</span><span class="n">test1</span><span class="p">,</span> <span class="n">test2</span><span class="p">))</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<span class="go">0.666667, 0.333333</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">eval_</span><span class="o">.</span><span class="n">firstdate</span> <span class="o">=</span> <span class="s2">&quot;02.01.2000&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">(</span><span class="n">calc_weights</span><span class="p">((</span><span class="n">test1</span><span class="p">,</span> <span class="n">test2</span><span class="p">))</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<span class="go">1.0, 0.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">(</span><span class="n">calc_weights</span><span class="p">((</span><span class="n">test1</span><span class="p">,))</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<span class="go">1.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">(</span><span class="n">calc_weights</span><span class="p">((</span><span class="n">test2</span><span class="p">,))</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">None of the given nodes (test2) provides any observation values for the current evaluation period (Timegrid(&quot;02.01.2000 00:00:00&quot;, &quot;03.01.2000 00:00:00&quot;, &quot;1d&quot;)).</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">calc_weights</span><span class="p">(())</span>
<span class="go">{}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.SummaryRow">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">SummaryRow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Collection" title="(in Python v3.11)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#SummaryRow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.SummaryRow" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a></p>
<p>Abstract base class for <a class="reference internal" href="#hydpy.auxs.statstools.SummaryRowSimple" title="hydpy.auxs.statstools.SummaryRowSimple"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRowSimple</span></code></a> and <a class="reference internal" href="#hydpy.auxs.statstools.SummaryRowWeighted" title="hydpy.auxs.statstools.SummaryRowWeighted"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRowWeighted</span></code></a>.</p>
<p>The documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.print_evaluationtable" title="hydpy.auxs.statstools.print_evaluationtable"><code class="xref py py-func docutils literal notranslate"><span class="pre">print_evaluationtable()</span></code></a> explains the intended use of
the available <a class="reference internal" href="#hydpy.auxs.statstools.SummaryRow" title="hydpy.auxs.statstools.SummaryRow"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRow</span></code></a> subclasses.  Here, we demonstrate their configuration in
more detail based on the subclass <a class="reference internal" href="#hydpy.auxs.statstools.SummaryRowSimple" title="hydpy.auxs.statstools.SummaryRowSimple"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRowSimple</span></code></a>, which calculates simple
(non-weighted) averages.  You only need to pass the name and the node objects
relevant for the corresponding row for initialising:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">Nodes</span><span class="p">,</span> <span class="n">print_values</span><span class="p">,</span> <span class="n">SummaryRowSimple</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span> <span class="o">=</span> <span class="n">Nodes</span><span class="p">(</span><span class="s2">&quot;n1&quot;</span><span class="p">,</span> <span class="s2">&quot;n2&quot;</span><span class="p">,</span> <span class="s2">&quot;n3&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">SummaryRowSimple</span><span class="p">(</span><span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">))</span>
</pre></div>
</div>
<p><a class="reference internal" href="#hydpy.auxs.statstools.print_evaluationtable" title="hydpy.auxs.statstools.print_evaluationtable"><code class="xref py py-func docutils literal notranslate"><span class="pre">print_evaluationtable()</span></code></a> calculates values for all node-criterion combinations and
passes them to <a class="reference internal" href="#hydpy.auxs.statstools.SummaryRow.summarise_criteria" title="hydpy.auxs.statstools.SummaryRow.summarise_criteria"><code class="xref py py-func docutils literal notranslate"><span class="pre">summarise_criteria()</span></code></a>.  If the nodes passed to
<a class="reference internal" href="#hydpy.auxs.statstools.print_evaluationtable" title="hydpy.auxs.statstools.print_evaluationtable"><code class="xref py py-func docutils literal notranslate"><span class="pre">print_evaluationtable()</span></code></a> and the <a class="reference internal" href="#hydpy.auxs.statstools.SummaryRow" title="hydpy.auxs.statstools.SummaryRow"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRow</span></code></a> instance are identical,
<a class="reference internal" href="#hydpy.auxs.statstools.SummaryRowSimple" title="hydpy.auxs.statstools.SummaryRowSimple"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRowSimple</span></code></a> just calculates the average for each criterion:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">summarise_criteria</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">{</span><span class="n">n1</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">n2</span><span class="p">:</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">]}))</span>
<span class="go">2.0, 4.0</span>
</pre></div>
</div>
<p>Nodes passed to <a class="reference internal" href="#hydpy.auxs.statstools.print_evaluationtable" title="hydpy.auxs.statstools.print_evaluationtable"><code class="xref py py-func docutils literal notranslate"><span class="pre">print_evaluationtable()</span></code></a> but not to <a class="reference internal" href="#hydpy.auxs.statstools.SummaryRow" title="hydpy.auxs.statstools.SummaryRow"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRow</span></code></a> are considered
irrelevant for the corresponding row and thus not taken into account for averaging:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">summarise_criteria</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">{</span><span class="n">n1</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">],</span> <span class="n">n2</span><span class="p">:</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">],</span> <span class="n">n3</span><span class="p">:</span> <span class="p">[</span><span class="mf">5.0</span><span class="p">]}))</span>
<span class="go">2.0</span>
</pre></div>
</div>
<p>If the <a class="reference internal" href="#hydpy.auxs.statstools.SummaryRow" title="hydpy.auxs.statstools.SummaryRow"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRow</span></code></a> instance expects a node not passed to <a class="reference internal" href="#hydpy.auxs.statstools.print_evaluationtable" title="hydpy.auxs.statstools.print_evaluationtable"><code class="xref py py-func docutils literal notranslate"><span class="pre">print_evaluationtable()</span></code></a>,
it raises the following error:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">summarise_criteria</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">{</span><span class="n">n1</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]}))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">While trying to calculate the values of row `s` based on class `SummaryRowSimple`, the following error occurred: Missing information for node `n2`.</span>
</pre></div>
</div>
<p><a class="reference internal" href="#hydpy.auxs.statstools.SummaryRow.summarise_criteria" title="hydpy.auxs.statstools.SummaryRow.summarise_criteria"><code class="xref py py-func docutils literal notranslate"><span class="pre">summarise_criteria()</span></code></a> generally returns <code class="xref py py-const docutils literal notranslate"><span class="pre">nan</span></code> values for all
<a class="reference internal" href="#hydpy.auxs.statstools.SummaryRow" title="hydpy.auxs.statstools.SummaryRow"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRow</span></code></a> instances that select no nodes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">SummaryRowSimple</span><span class="p">(</span><span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="p">())</span><span class="o">.</span><span class="n">summarise_criteria</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">{</span><span class="n">n1</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]})</span>
<span class="go">(nan, nan)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.SummaryRow.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#hydpy.auxs.statstools.SummaryRow.name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.SummaryRow.summarise_criteria">
<span class="sig-name descname"><span class="pre">summarise_criteria</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nmb_criteria</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">node2values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.11)"><span class="pre">Mapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.11)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#SummaryRow.summarise_criteria"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.SummaryRow.summarise_criteria" title="Link to this definition">¶</a></dt>
<dd><p>Summarise the results of all criteria.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.SummaryRow.summarise_criterion">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">summarise_criterion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node2value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.11)"><span class="pre">Mapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#SummaryRow.summarise_criterion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.SummaryRow.summarise_criterion" title="Link to this definition">¶</a></dt>
<dd><p>Summarise the values of a specific criterion.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.SummaryRowSimple">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">SummaryRowSimple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Collection" title="(in Python v3.11)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#SummaryRowSimple"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.SummaryRowSimple" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hydpy.auxs.statstools.SummaryRow" title="hydpy.auxs.statstools.SummaryRow"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRow</span></code></a></p>
<p>Helper to define additional “summary rows” in evaluation tables based on simple
(non-weighted) averages.</p>
<p>See the documentation on class <a class="reference internal" href="#hydpy.auxs.statstools.SummaryRow" title="hydpy.auxs.statstools.SummaryRow"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRow</span></code></a> for further information.</p>
<dl class="py method">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.SummaryRowSimple.summarise_criterion">
<span class="sig-name descname"><span class="pre">summarise_criterion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node2value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.11)"><span class="pre">Mapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#SummaryRowSimple.summarise_criterion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.SummaryRowSimple.summarise_criterion" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the simple (non-weighted) average of all selected nodes.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.SummaryRowWeighted">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">SummaryRowWeighted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Collection" title="(in Python v3.11)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Collection" title="(in Python v3.11)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#SummaryRowWeighted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.SummaryRowWeighted" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hydpy.auxs.statstools.SummaryRow" title="hydpy.auxs.statstools.SummaryRow"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRow</span></code></a></p>
<p>Helper to define additional “summary rows” in evaluation tables based on
weighted averages.</p>
<p>The documentation on class <a class="reference internal" href="#hydpy.auxs.statstools.SummaryRow" title="hydpy.auxs.statstools.SummaryRow"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRow</span></code></a> provides general information on using
<a class="reference internal" href="#hydpy.auxs.statstools.SummaryRow" title="hydpy.auxs.statstools.SummaryRow"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRow</span></code></a> subclasses, while the following examples focus on the unique features
of class <a class="reference internal" href="#hydpy.auxs.statstools.SummaryRowWeighted" title="hydpy.auxs.statstools.SummaryRowWeighted"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRowWeighted</span></code></a>.</p>
<p>First, we prepare two nodes.  <cite>n1</cite> provides a complete and <cite>n2</cite> provides an
incomplete observation time-series:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">print_values</span><span class="p">,</span> <span class="n">pub</span><span class="p">,</span> <span class="n">Node</span><span class="p">,</span> <span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span> <span class="o">=</span> <span class="s2">&quot;2000-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2000-01-04&quot;</span><span class="p">,</span> <span class="s2">&quot;1d&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;n1&quot;</span><span class="p">),</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;n2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">prepare_obsseries</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">6.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">prepare_obsseries</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">checkseries</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">n2</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">3.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="mf">1.0</span>
</pre></div>
</div>
<p>We can pass predefined weighting coefficients to <a class="reference internal" href="#hydpy.auxs.statstools.SummaryRowWeighted" title="hydpy.auxs.statstools.SummaryRowWeighted"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRowWeighted</span></code></a>.  Then, the
completeness of the observation series is irrelevant:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sumrow</span> <span class="o">=</span> <span class="n">SummaryRowWeighted</span><span class="p">(</span><span class="s2">&quot;sumrow&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">(</span><span class="n">sumrow</span><span class="o">.</span><span class="n">summarise_criteria</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">{</span><span class="n">n1</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">n2</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">]}))</span>
<span class="go">0.8, 5.6</span>
</pre></div>
</div>
<p>If we do not pass any weights, <a class="reference internal" href="#hydpy.auxs.statstools.SummaryRowWeighted" title="hydpy.auxs.statstools.SummaryRowWeighted"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRowWeighted</span></code></a> determines them automatically
based on the number of available observations per node by invoking function
<a class="reference internal" href="#hydpy.auxs.statstools.calc_weights" title="hydpy.auxs.statstools.calc_weights"><code class="xref py py-func docutils literal notranslate"><span class="pre">calc_weights()</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sumrow</span> <span class="o">=</span> <span class="n">SummaryRowWeighted</span><span class="p">(</span><span class="s2">&quot;sumrow&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">(</span><span class="n">sumrow</span><span class="o">.</span><span class="n">summarise_criteria</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">{</span><span class="n">n1</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">n2</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">]}))</span>
<span class="go">-0.2, 3.6</span>
</pre></div>
</div>
<p><a class="reference internal" href="#hydpy.auxs.statstools.SummaryRowWeighted" title="hydpy.auxs.statstools.SummaryRowWeighted"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRowWeighted</span></code></a> reuses the internally calculated weights but updates them when
the evaluation time grid changes in the meantime:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">eval_</span><span class="o">.</span><span class="n">firstdate</span> <span class="o">=</span> <span class="s2">&quot;2000-01-02&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">(</span><span class="n">sumrow</span><span class="o">.</span><span class="n">summarise_criteria</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">{</span><span class="n">n1</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">n2</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">]}))</span>
<span class="go">-0.333333, 3.333333</span>
</pre></div>
</div>
<p><code class="xref py py-const docutils literal notranslate"><span class="pre">nan</span></code> values calculated for individual nodes due to completely missing observations
within the evaluation period do not leak into the results of
<a class="reference internal" href="#hydpy.auxs.statstools.SummaryRow.summarise_criteria" title="hydpy.auxs.statstools.SummaryRow.summarise_criteria"><code class="xref py py-func docutils literal notranslate"><span class="pre">summarise_criteria()</span></code></a> (if the corresponding weights are zero, as they
should):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">eval_</span><span class="o">.</span><span class="n">lastdate</span> <span class="o">=</span> <span class="s2">&quot;2000-01-03&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_values</span><span class="p">(</span><span class="n">sumrow</span><span class="o">.</span><span class="n">summarise_criteria</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">{</span><span class="n">n1</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">n2</span><span class="p">:</span> <span class="p">[</span><span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">]}))</span>
<span class="go">-1.0, 2.0</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.SummaryRowWeighted.summarise_criterion">
<span class="sig-name descname"><span class="pre">summarise_criterion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node2value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.11)"><span class="pre">Mapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#SummaryRowWeighted.summarise_criterion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.SummaryRowWeighted.summarise_criterion" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the weighted average of all selected nodes.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hydpy.auxs.statstools.print_evaluationtable">
<span class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></span><span class="sig-name descname"><span class="pre">print_evaluationtable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Collection" title="(in Python v3.11)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">criteria</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Collection" title="(in Python v3.11)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#hydpy.auxs.statstools.Criterion" title="hydpy.auxs.statstools.Criterion"><span class="pre">Criterion</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodenames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Collection" title="(in Python v3.11)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">critnames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Collection" title="(in Python v3.11)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">critfactors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Collection" title="(in Python v3.11)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">critdigits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Collection" title="(in Python v3.11)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">averagename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">summaryrows</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Collection" title="(in Python v3.11)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#hydpy.auxs.statstools.SummaryRow" title="hydpy.auxs.statstools.SummaryRow"><span class="pre">SummaryRow</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stepsize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.11)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'daily'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'d'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'monthly'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'m'</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missingvalue</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'-'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimalseperator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.TextIO" title="(in Python v3.11)"><span class="pre">TextIO</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#print_evaluationtable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.print_evaluationtable" title="Link to this definition">¶</a></dt>
<dd><p>Print a table containing the results of the given evaluation criteria for the
given <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> objects.</p>
<p>First, we define two nodes with different simulation and observation data (see
function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some explanations):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">pub</span><span class="p">,</span> <span class="n">Node</span><span class="p">,</span> <span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span> <span class="o">=</span> <span class="s2">&quot;01.01.2000&quot;</span><span class="p">,</span> <span class="s2">&quot;04.01.2000&quot;</span><span class="p">,</span> <span class="s2">&quot;1d&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;test1&quot;</span><span class="p">),</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;test2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">node</span><span class="o">.</span><span class="n">prepare_allseries</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">6.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">checkseries</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">3.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="mf">1.0</span>
</pre></div>
</div>
<p>Selecting functions <a class="reference internal" href="#hydpy.auxs.statstools.corr" title="hydpy.auxs.statstools.corr"><code class="xref py py-func docutils literal notranslate"><span class="pre">corr()</span></code></a> and <a class="reference internal" href="#hydpy.auxs.statstools.bias_abs" title="hydpy.auxs.statstools.bias_abs"><code class="xref py py-func docutils literal notranslate"><span class="pre">bias_abs()</span></code></a> as evaluation criteria, function
<a class="reference internal" href="#hydpy.auxs.statstools.print_evaluationtable" title="hydpy.auxs.statstools.print_evaluationtable"><code class="xref py py-func docutils literal notranslate"><span class="pre">print_evaluationtable()</span></code></a> prints the following table:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">bias_abs</span><span class="p">,</span> <span class="n">corr</span><span class="p">,</span> <span class="n">print_evaluationtable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_evaluationtable</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>  
<span class="gp">... </span>                      <span class="n">criteria</span><span class="o">=</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span> <span class="n">bias_abs</span><span class="p">))</span>
<span class="go">        corr   bias_abs</span>
<span class="go">test1   1.00      -3.00</span>
<span class="go">test2  -1.00       0.00</span>
<span class="go">mean    0.00      -1.50</span>
</pre></div>
</div>
<p>One can pass alternative names for the node objects, the criteria functions, and
the row containing the average values.  Also, one can use the <cite>filter_</cite> argument to
suppress printing statistics in case of incomplete observation data.  In the
following example, we set the minimum fraction of required data to 80 %:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print_evaluationtable</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>
<span class="gp">... </span>                      <span class="n">criteria</span><span class="o">=</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span> <span class="n">bias_abs</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">nodenames</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;first node&quot;</span><span class="p">,</span> <span class="s2">&quot;second node&quot;</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">critnames</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;corrcoef&quot;</span><span class="p">,</span> <span class="s2">&quot;bias&quot;</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">critdigits</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>                      <span class="n">averagename</span><span class="o">=</span><span class="s2">&quot;average&quot;</span><span class="p">,</span>
<span class="gp">... </span>                      <span class="n">filter_</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>   
<span class="go">            corrcoef  bias</span>
<span class="go">first node       1.0  -3.0</span>
<span class="go">second node        -     -</span>
<span class="go">average          1.0  -3.0</span>
</pre></div>
</div>
<p>The number of assigned node objects and criteria functions must match the number of
given alternative names:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print_evaluationtable</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>
<span class="gp">... </span>                      <span class="n">criteria</span><span class="o">=</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span> <span class="n">bias_abs</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">nodenames</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;first node&quot;</span><span class="p">,))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to evaluate the simulation results of some node objects, the following error occurred: 2 node objects are given which does not match with number of given alternative names being 1.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print_evaluationtable</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>
<span class="gp">... </span>                      <span class="n">criteria</span><span class="o">=</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span> <span class="n">bias_abs</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">critnames</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;corrcoef&quot;</span><span class="p">,))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to evaluate the simulation results of some node objects, the following error occurred: 2 criteria functions are given which does not match with number of given alternative names being 1.</span>
</pre></div>
</div>
<p>Set the <cite>average</cite> argument to <code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code> to omit the row containing the average values:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print_evaluationtable</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>  
<span class="gp">... </span>                      <span class="n">criteria</span><span class="o">=</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span> <span class="n">bias_abs</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">average</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">        corr  bias_abs</span>
<span class="go">test1   1.00     -3.00</span>
<span class="go">test2  -1.00      0.00</span>
</pre></div>
</div>
<p>The <cite>summaryrows</cite> argument is a more flexible alternative to the standard averaging
across nodes.  You can pass an arbitrary number of <a class="reference internal" href="#hydpy.auxs.statstools.SummaryRow" title="hydpy.auxs.statstools.SummaryRow"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryRow</span></code></a> instances.  Their
names define the descriptions in the first column.  Here, we include additional
lines giving the complete averages for all nodes, averages for a subset of nodes
(in fact, the “average” for the single node <cite>test2</cite>), automatically weighted
averages (based on the number of available observations), and manually weighted
averages (based on predefined weights):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">SummaryRowSimple</span><span class="p">,</span> <span class="n">SummaryRowWeighted</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">summaryrows</span> <span class="o">=</span> <span class="p">(</span><span class="n">SummaryRowSimple</span><span class="p">(</span><span class="s2">&quot;complete&quot;</span><span class="p">,</span> <span class="n">nodes</span><span class="p">),</span>
<span class="gp">... </span>               <span class="n">SummaryRowSimple</span><span class="p">(</span><span class="s2">&quot;selective&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">],)),</span>
<span class="gp">... </span>               <span class="n">SummaryRowWeighted</span><span class="p">(</span><span class="s2">&quot;automatically weighted&quot;</span><span class="p">,</span> <span class="n">nodes</span><span class="p">),</span>
<span class="gp">... </span>               <span class="n">SummaryRowWeighted</span><span class="p">(</span><span class="s2">&quot;manually weighted&quot;</span><span class="p">,</span> <span class="n">nodes</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_evaluationtable</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>  
<span class="gp">... </span>                      <span class="n">criteria</span><span class="o">=</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span> <span class="n">bias_abs</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">average</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>                      <span class="n">summaryrows</span><span class="o">=</span><span class="n">summaryrows</span><span class="p">)</span>
<span class="go">                         corr  bias_abs</span>
<span class="go">test1                    1.00     -3.00</span>
<span class="go">test2                   -1.00      0.00</span>
<span class="go">complete                 0.00     -1.50</span>
<span class="go">selective               -1.00      0.00</span>
<span class="go">automatically weighted   0.20     -1.80</span>
<span class="go">manually weighted       -0.80     -0.30</span>
</pre></div>
</div>
<p>You can use the arguments <cite>critfactors</cite> and <cite>critdigits</cite> by passing either a single
number or a sequence of criteria-specific numbers to modify the printed values:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print_evaluationtable</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>  
<span class="gp">... </span>                      <span class="n">criteria</span><span class="o">=</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span> <span class="n">bias_abs</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">critfactors</span><span class="o">=</span><span class="p">(</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">critdigits</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">        corr  bias_abs</span>
<span class="go">test1   10.0      -0.3</span>
<span class="go">test2  -10.0       0.0</span>
<span class="go">mean     0.0      -0.2</span>
</pre></div>
</div>
<p>By default, function <a class="reference internal" href="#hydpy.auxs.statstools.print_evaluationtable" title="hydpy.auxs.statstools.print_evaluationtable"><code class="xref py py-func docutils literal notranslate"><span class="pre">print_evaluationtable()</span></code></a> prints the statics relevant for the
actual evaluation period only:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">eval_</span><span class="o">.</span><span class="n">dates</span> <span class="o">=</span> <span class="s2">&quot;01.01.2000&quot;</span><span class="p">,</span> <span class="s2">&quot;02.01.2000&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_evaluationtable</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>  
<span class="gp">... </span>                      <span class="n">criteria</span><span class="o">=</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span> <span class="n">bias_abs</span><span class="p">))</span>
<span class="go">       corr  bias_abs</span>
<span class="go">test1     -     -3.00</span>
<span class="go">test2     -     -2.00</span>
<span class="go">mean      -     -2.50</span>
</pre></div>
</div>
<p>You can deviate from this default behaviour by setting the <cite>subperiod</cite> argument to
<code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print_evaluationtable</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>  
<span class="gp">... </span>                      <span class="n">criteria</span><span class="o">=</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span> <span class="n">bias_abs</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">subperiod</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">        corr  bias_abs</span>
<span class="go">test1   1.00     -3.00</span>
<span class="go">test2  -1.00      0.00</span>
<span class="go">mean    0.00     -1.50</span>
</pre></div>
</div>
<p>Use the <cite>stepsize</cite> argument (eventually in combination with argument <cite>aggregator</cite>)
to print the statistics of previously aggregated time series.  See
<a class="reference internal" href="seriestools.html#hydpy.core.seriestools.aggregate_series" title="hydpy.core.seriestools.aggregate_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">aggregate_series()</span></code></a> for further information.</p>
<p>Here, the daily aggregation step size results in identical results as the original
step size is also one day:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">eval_</span> <span class="o">=</span> <span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">init</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_evaluationtable</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>  
<span class="gp">... </span>                      <span class="n">criteria</span><span class="o">=</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span> <span class="n">bias_abs</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">stepsize</span><span class="o">=</span><span class="s2">&quot;daily&quot;</span><span class="p">,</span>
<span class="gp">... </span>                      <span class="n">aggregator</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>
<span class="go">        corr  bias_abs</span>
<span class="go">test1   1.00     -3.00</span>
<span class="go">test2  -1.00      0.00</span>
<span class="go">mean    0.00     -1.50</span>
</pre></div>
</div>
<p>For the monthly step size, the result table is empty due to the too short
initialisation period covering less than a month:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">eval_</span><span class="o">.</span><span class="n">dates</span> <span class="o">=</span> <span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">init</span><span class="o">.</span><span class="n">dates</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_evaluationtable</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>  
<span class="gp">... </span>                      <span class="n">criteria</span><span class="o">=</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span> <span class="n">bias_abs</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">stepsize</span><span class="o">=</span><span class="s2">&quot;monthly&quot;</span><span class="p">,</span>
<span class="gp">... </span>                      <span class="n">aggregator</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>
<span class="go">       corr  bias_abs</span>
<span class="go">test1     -         -</span>
<span class="go">test2     -         -</span>
<span class="go">mean      -         -</span>
</pre></div>
</div>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="validtools.html" title="validtools"
             >next</a> |</li>
        <li class="right" >
          <a href="smoothtools.html" title="smoothtools"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">HydPy 5.0.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="framework.html" >Framework Tools</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="auxiliaries.html" >Auxiliary Tools</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">statstools</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2023, HydPy Developers.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>
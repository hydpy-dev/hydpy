<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>hydpy.models.meteo_v002 &#8212; HydPy 5.0.3 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../../_static/classic.css?v=127cebf3" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=eafc0fe6" />
    
    <script src="../../../_static/documentation_options.js?v=f98c4cc8"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">HydPy 5.0.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" accesskey="U">Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">hydpy.models.meteo_v002</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/HydPy_Logo.png" alt="Logo"/>
            </a></p>
  <div>
    <h3><a href="../../../index.html">Table of Contents</a></h3>
    <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../install.html">Installation Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../how_to.html">How toâ€¦</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../framework.html">Framework Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modelcollection.html">Model Collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples.html">Example Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../zbibliography.html">Bibliography</a></li>
</ul>

  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for hydpy.models.meteo_v002</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1"># pylint: disable=line-too-long, unused-wildcard-import</span>
<span class="sd">&quot;&quot;&quot;Model for estimating sunshine duration based on global radiation following the FAO</span>
<span class="sd">reference evapotranspiration model.</span>

<span class="sd">|meteo_v002| is nearly identical with |meteo_v001|, except that it expects</span>
<span class="sd">|meteo_inputs.GlobalRadiation| as input and estimates |meteo_factors.SunshineDuration|,</span>
<span class="sd">while |meteo_v001| expects |meteo_inputs.SunshineDuration| as input and estimates</span>
<span class="sd">|meteo_fluxes.GlobalRadiation|.  Hence, please read the documentation on |meteo_v001|.</span>
<span class="sd">The following explanations focus only on the differences between both models.</span>

<span class="sd">Integration tests</span>
<span class="sd">=================</span>

<span class="sd">.. how_to_understand_integration_tests::</span>

<span class="sd">We design all integration tests as similar to those of |meteo_v001|.  This time, we</span>
<span class="sd">select |meteo_factors.SunshineDuration| and |meteo_factors.PossibleSunshineDuration| as</span>
<span class="sd">output sequences:</span>

<span class="sd">&gt;&gt;&gt; from hydpy import Element, Node</span>
<span class="sd">&gt;&gt;&gt; from hydpy.outputs import meteo_SunshineDuration, meteo_PossibleSunshineDuration</span>
<span class="sd">&gt;&gt;&gt; node1 = Node(&quot;node1&quot;, variable=meteo_SunshineDuration)</span>
<span class="sd">&gt;&gt;&gt; node2 = Node(&quot;node2&quot;, variable=meteo_PossibleSunshineDuration)</span>

<span class="sd">&gt;&gt;&gt; from hydpy.models.meteo_v002 import *</span>
<span class="sd">&gt;&gt;&gt; parameterstep()</span>
<span class="sd">&gt;&gt;&gt; element = Element(&quot;element&quot;, outputs=(node1, node2))</span>
<span class="sd">&gt;&gt;&gt; element.model = model</span>

<span class="sd">.. _meteo_v002_daily_simulation:</span>

<span class="sd">daily simulation</span>
<span class="sd">________________</span>

<span class="sd">We repeat the :ref:`meteo_v001_daily_simulation` example of |meteo_v001| but use its</span>
<span class="sd">global radiation result as input:</span>

<span class="sd">&gt;&gt;&gt; from hydpy import IntegrationTest, pub</span>
<span class="sd">&gt;&gt;&gt; pub.timegrids = &quot;2000-07-06&quot;, &quot;2000-07-07&quot;, &quot;1d&quot;</span>
<span class="sd">&gt;&gt;&gt; latitude(50.8)</span>
<span class="sd">&gt;&gt;&gt; angstromconstant(0.25)</span>
<span class="sd">&gt;&gt;&gt; angstromfactor(0.5)</span>

<span class="sd">&gt;&gt;&gt; parameters.update()</span>
<span class="sd">&gt;&gt;&gt; test = IntegrationTest(element)</span>
<span class="sd">&gt;&gt;&gt; test.dateformat = &quot;%Y-%d-%m&quot;</span>

<span class="sd">&gt;&gt;&gt; inputs.globalradiation.series = 255.367464</span>

<span class="sd">|meteo_v002| calculates the same radiation terms and a sunshine duration of 9.25 h,</span>
<span class="sd">which is the input value used in the :ref:`meteo_v001_daily_simulation` example of</span>
<span class="sd">|meteo_v001|:</span>

<span class="sd">.. integration-test::</span>

<span class="sd">    &gt;&gt;&gt; test()</span>
<span class="sd">    |       date | globalradiation | earthsundistance | solardeclination | sunsethourangle | solartimeangle | possiblesunshineduration | sunshineduration | extraterrestrialradiation | clearskysolarradiation | node1 |     node2 |</span>
<span class="sd">    --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="sd">    | 2000-06-07 |      255.367464 |         0.967121 |         0.394547 |        2.106601 |            nan |                16.093247 |             9.25 |                475.201614 |              356.40121 |  9.25 | 16.093247 |</span>

<span class="sd">.. _meteo_v002_hourly_simulation:</span>

<span class="sd">hourly simulation</span>
<span class="sd">_________________</span>

<span class="sd">We repeat the :ref:`meteo_v001_hourly_simulation` example of |meteo_v001| but use its</span>
<span class="sd">global radiation results as input:</span>

<span class="sd">&gt;&gt;&gt; pub.options.utcoffset = -60</span>
<span class="sd">&gt;&gt;&gt; pub.options.utclongitude = -15</span>
<span class="sd">&gt;&gt;&gt; pub.timegrids = &quot;2001-09-30 02:00&quot;, &quot;2001-10-01 15:00&quot;, &quot;1h&quot;</span>
<span class="sd">&gt;&gt;&gt; latitude(16.0 + 0.13 / 60 * 100)</span>
<span class="sd">&gt;&gt;&gt; longitude(-16.25)</span>

<span class="sd">&gt;&gt;&gt; angstromconstant(0.25)</span>
<span class="sd">&gt;&gt;&gt; angstromfactor(0.5)</span>

<span class="sd">&gt;&gt;&gt; parameters.update()</span>
<span class="sd">&gt;&gt;&gt; test = IntegrationTest(element)</span>
<span class="sd">&gt;&gt;&gt; test.dateformat = &quot;%Y-%d-%m %H:00&quot;</span>

<span class="sd">&gt;&gt;&gt; inputs.globalradiation.series = (</span>
<span class="sd">...     0.0, 0.0, 0.0, 0.0, 115.964852, 328.283435, 517.046121, 669.389046, 774.930291,</span>
<span class="sd">...     826.477395, 820.517508, 757.456786, 641.592713, 480.821234, 286.098661,</span>
<span class="sd">...     80.296089, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,</span>
<span class="sd">...     117.778042, 336.055513, 532.152561, 692.390544, 805.415479, 863.000911,</span>
<span class="sd">...     860.643794, 797.910345, 678.505661)</span>

<span class="sd">Again, there is a good agreement with the results of |meteo_v001|:</span>

<span class="sd">.. integration-test::</span>

<span class="sd">    &gt;&gt;&gt; test(&quot;meteo_v002_hourly&quot;,</span>
<span class="sd">    ...      axis1=(factors.sunshineduration, factors.possiblesunshineduration))</span>
<span class="sd">    |             date | globalradiation | earthsundistance | solardeclination | sunsethourangle | solartimeangle | possiblesunshineduration | sunshineduration | extraterrestrialradiation | clearskysolarradiation |    node1 |    node2 |</span>
<span class="sd">    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="sd">    | 2001-30-09 02:00 |             0.0 |         0.999717 |        -0.070087 |        1.550377 |      -2.460182 |                      0.0 |              0.0 |                       0.0 |                    0.0 |      0.0 |      0.0 |</span>
<span class="sd">    | 2001-30-09 03:00 |             0.0 |         0.999717 |        -0.070087 |        1.550377 |      -2.198383 |                      0.0 |              0.0 |                       0.0 |                    0.0 |      0.0 |      0.0 |</span>
<span class="sd">    | 2001-30-09 04:00 |             0.0 |         0.999717 |        -0.070087 |        1.550377 |      -1.936583 |                      0.0 |              0.0 |                       0.0 |                    0.0 |      0.0 |      0.0 |</span>
<span class="sd">    | 2001-30-09 05:00 |             0.0 |         0.999717 |        -0.070087 |        1.550377 |      -1.674784 |                   0.0248 |              0.0 |                       0.0 |                    0.0 |      0.0 |   0.0248 |</span>
<span class="sd">    | 2001-30-09 06:00 |      115.964852 |         0.999717 |        -0.070087 |        1.550377 |      -1.412985 |                      1.0 |              0.8 |                178.407465 |             133.805599 |      0.8 |      1.0 |</span>
<span class="sd">    | 2001-30-09 07:00 |      328.283435 |         0.999717 |        -0.070087 |        1.550377 |      -1.151185 |                      1.0 |              0.8 |                505.051438 |             378.788578 |      0.8 |      1.0 |</span>
<span class="sd">    | 2001-30-09 08:00 |      517.046121 |         0.999717 |        -0.070087 |        1.550377 |      -0.889386 |                      1.0 |              0.8 |                795.455571 |             596.591678 |      0.8 |      1.0 |</span>
<span class="sd">    | 2001-30-09 09:00 |      669.389046 |         0.999717 |        -0.070087 |        1.550377 |      -0.627587 |                      1.0 |              0.8 |               1029.829301 |             772.371976 |      0.8 |      1.0 |</span>
<span class="sd">    | 2001-30-09 10:00 |      774.930291 |         0.999717 |        -0.070087 |        1.550377 |      -0.365787 |                      1.0 |              0.8 |               1192.200448 |             894.150336 |      0.8 |      1.0 |</span>
<span class="sd">    | 2001-30-09 11:00 |      826.477395 |         0.999717 |        -0.070087 |        1.550377 |      -0.103988 |                      1.0 |              0.8 |               1271.503685 |             953.627764 |      0.8 |      1.0 |</span>
<span class="sd">    | 2001-30-09 12:00 |      820.517508 |         0.999717 |        -0.070087 |        1.550377 |       0.157812 |                      1.0 |              0.8 |               1262.334627 |              946.75097 |      0.8 |      1.0 |</span>
<span class="sd">    | 2001-30-09 13:00 |      757.456786 |         0.999717 |        -0.070087 |        1.550377 |       0.419611 |                      1.0 |              0.8 |               1165.318132 |             873.988599 |      0.8 |      1.0 |</span>
<span class="sd">    | 2001-30-09 14:00 |      641.592713 |         0.999717 |        -0.070087 |        1.550377 |        0.68141 |                      1.0 |              0.8 |                987.065712 |             740.299284 |      0.8 |      1.0 |</span>
<span class="sd">    | 2001-30-09 15:00 |      480.821234 |         0.999717 |        -0.070087 |        1.550377 |        0.94321 |                      1.0 |              0.8 |                739.724976 |             554.793732 |      0.8 |      1.0 |</span>
<span class="sd">    | 2001-30-09 16:00 |      286.098661 |         0.999717 |        -0.070087 |        1.550377 |       1.205009 |                      1.0 |              0.8 |                440.151786 |             330.113839 |      0.8 |      1.0 |</span>
<span class="sd">    | 2001-30-09 17:00 |       80.296089 |         0.999717 |        -0.070087 |        1.550377 |       1.466809 |                 0.819208 |              0.8 |                108.761559 |              81.571169 |      0.8 | 0.819208 |</span>
<span class="sd">    | 2001-30-09 18:00 |             0.0 |         0.999717 |        -0.070087 |        1.550377 |       1.728608 |                      0.0 |              0.0 |                       0.0 |                    0.0 |      0.0 |      0.0 |</span>
<span class="sd">    | 2001-30-09 19:00 |             0.0 |         0.999717 |        -0.070087 |        1.550377 |       1.990407 |                      0.0 |              0.0 |                       0.0 |                    0.0 |      0.0 |      0.0 |</span>
<span class="sd">    | 2001-30-09 20:00 |             0.0 |         0.999717 |        -0.070087 |        1.550377 |       2.252207 |                      0.0 |              0.0 |                       0.0 |                    0.0 |      0.0 |      0.0 |</span>
<span class="sd">    | 2001-30-09 21:00 |             0.0 |         0.999717 |        -0.070087 |        1.550377 |       2.514006 |                      0.0 |              0.0 |                       0.0 |                    0.0 |      0.0 |      0.0 |</span>
<span class="sd">    | 2001-30-09 22:00 |             0.0 |         0.999717 |        -0.070087 |        1.550377 |       2.775806 |                      0.0 |              0.0 |                       0.0 |                    0.0 |      0.0 |      0.0 |</span>
<span class="sd">    | 2001-30-09 23:00 |             0.0 |         0.999717 |        -0.070087 |        1.550377 |       3.037605 |                      0.0 |              0.0 |                       0.0 |                    0.0 |      0.0 |      0.0 |</span>
<span class="sd">    | 2001-01-10 00:00 |             0.0 |         1.000283 |        -0.076994 |        1.548357 |      -2.982399 |                      0.0 |              0.0 |                       0.0 |                    0.0 |      0.0 |      0.0 |</span>
<span class="sd">    | 2001-01-10 01:00 |             0.0 |         1.000283 |        -0.076994 |        1.548357 |        -2.7206 |                      0.0 |              0.0 |                       0.0 |                    0.0 |      0.0 |      0.0 |</span>
<span class="sd">    | 2001-01-10 02:00 |             0.0 |         1.000283 |        -0.076994 |        1.548357 |        -2.4588 |                      0.0 |              0.0 |                       0.0 |                    0.0 |      0.0 |      0.0 |</span>
<span class="sd">    | 2001-01-10 03:00 |             0.0 |         1.000283 |        -0.076994 |        1.548357 |      -2.197001 |                      0.0 |              0.0 |                       0.0 |                    0.0 |      0.0 |      0.0 |</span>
<span class="sd">    | 2001-01-10 04:00 |             0.0 |         1.000283 |        -0.076994 |        1.548357 |      -1.935202 |                      0.0 |              0.0 |                       0.0 |                    0.0 |      0.0 |      0.0 |</span>
<span class="sd">    | 2001-01-10 05:00 |             0.0 |         1.000283 |        -0.076994 |        1.548357 |      -1.673402 |                 0.022362 |              0.0 |                       0.0 |                    0.0 |      0.0 | 0.022362 |</span>
<span class="sd">    | 2001-01-10 06:00 |      117.778042 |         1.000283 |        -0.076994 |        1.548357 |      -1.411603 |                      1.0 |         0.826667 |                177.554837 |             133.166127 | 0.826667 |      1.0 |</span>
<span class="sd">    | 2001-01-10 07:00 |      336.055513 |         1.000283 |        -0.076994 |        1.548357 |      -1.149804 |                      1.0 |         0.833333 |                 504.08327 |             378.062452 | 0.833333 |      1.0 |</span>
<span class="sd">    | 2001-01-10 08:00 |      532.152561 |         1.000283 |        -0.076994 |        1.548357 |      -0.888004 |                      1.0 |             0.84 |                794.257553 |             595.693165 |     0.84 |      1.0 |</span>
<span class="sd">    | 2001-01-10 09:00 |      692.390544 |         1.000283 |        -0.076994 |        1.548357 |      -0.626205 |                      1.0 |         0.846667 |               1028.302789 |             771.227092 | 0.846667 |      1.0 |</span>
<span class="sd">    | 2001-01-10 10:00 |      805.415479 |         1.000283 |        -0.076994 |        1.548357 |      -0.364405 |                      1.0 |         0.853333 |                1190.26918 |             892.701885 | 0.853333 |      1.0 |</span>
<span class="sd">    | 2001-01-10 11:00 |      863.000911 |         1.000283 |        -0.076994 |        1.548357 |      -0.102606 |                      1.0 |             0.86 |               1269.118986 |              951.83924 |     0.86 |      1.0 |</span>
<span class="sd">    | 2001-01-10 12:00 |      860.643794 |         1.000283 |        -0.076994 |        1.548357 |       0.159193 |                      1.0 |         0.866667 |               1259.478722 |             944.609042 | 0.866667 |      1.0 |</span>
<span class="sd">    | 2001-01-10 13:00 |      797.910345 |         1.000283 |        -0.076994 |        1.548357 |       0.420993 |                      1.0 |         0.873333 |               1162.005357 |             871.504018 | 0.873333 |      1.0 |</span>
<span class="sd">    | 2001-01-10 14:00 |      678.505661 |         1.000283 |        -0.076994 |        1.548357 |       0.682792 |                      1.0 |             0.88 |                983.341538 |             737.506154 |     0.88 |      1.0 |</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="c1"># import...</span>
<span class="c1"># ...from HydPy</span>
<span class="kn">from</span> <span class="nn">hydpy.exe.modelimports</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">hydpy.core</span> <span class="kn">import</span> <span class="n">modeltools</span>
<span class="kn">from</span> <span class="nn">hydpy.models.meteo</span> <span class="kn">import</span> <span class="n">meteo_model</span>


<div class="viewcode-block" id="Model">
<a class="viewcode-back" href="../../../meteo_v002.html#hydpy.models.meteo_v002.Model">[docs]</a>
<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">modeltools</span><span class="o">.</span><span class="n">AdHocModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Version 2 of the Meteo model.&quot;&quot;&quot;</span>

    <span class="n">INLET_METHODS</span> <span class="o">=</span> <span class="p">()</span>
    <span class="n">RECEIVER_METHODS</span> <span class="o">=</span> <span class="p">()</span>
    <span class="n">RUN_METHODS</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">meteo_model</span><span class="o">.</span><span class="n">Calc_EarthSunDistance_V1</span><span class="p">,</span>
        <span class="n">meteo_model</span><span class="o">.</span><span class="n">Calc_SolarDeclination_V1</span><span class="p">,</span>
        <span class="n">meteo_model</span><span class="o">.</span><span class="n">Calc_SunsetHourAngle_V1</span><span class="p">,</span>
        <span class="n">meteo_model</span><span class="o">.</span><span class="n">Calc_SolarTimeAngle_V1</span><span class="p">,</span>
        <span class="n">meteo_model</span><span class="o">.</span><span class="n">Calc_PossibleSunshineDuration_V1</span><span class="p">,</span>
        <span class="n">meteo_model</span><span class="o">.</span><span class="n">Calc_ExtraterrestrialRadiation_V1</span><span class="p">,</span>
        <span class="n">meteo_model</span><span class="o">.</span><span class="n">Calc_ClearSkySolarRadiation_V1</span><span class="p">,</span>
        <span class="n">meteo_model</span><span class="o">.</span><span class="n">Calc_SunshineDuration_V1</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">ADD_METHODS</span> <span class="o">=</span> <span class="p">()</span>
    <span class="n">OUTLET_METHODS</span> <span class="o">=</span> <span class="p">()</span>
    <span class="n">SENDER_METHODS</span> <span class="o">=</span> <span class="p">()</span>
    <span class="n">SUBMODELS</span> <span class="o">=</span> <span class="p">()</span></div>



<span class="n">tester</span> <span class="o">=</span> <span class="n">Tester</span><span class="p">()</span>
<span class="n">cythonizer</span> <span class="o">=</span> <span class="n">Cythonizer</span><span class="p">()</span>
</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">HydPy 5.0.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" >Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">hydpy.models.meteo_v002</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2023, HydPy Developers.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>
<?xml version="1.0" encoding="UTF-8"?>
<hpcsr:config xmlns="https://github.com/hydpy-dev/hydpy/releases/download/your-hydpy-version/HydPyConfigBase.xsd"
              xmlns:hpcsr="https://github.com/hydpy-dev/hydpy/releases/download/your-hydpy-version/HydPyConfigSingleRun.xsd">

    <options>
        <checkseries>true</checkseries>
        <parameterstep>1d</parameterstep>
        <reprdigits>6</reprdigits>
        <usecython>true</usecython>
        <usedefaultvalues>false</usedefaultvalues>
        <utcoffset>60</utcoffset>
        <timestampleft>true</timestampleft>
        <warnmissingobsfile>true</warnmissingobsfile>
        <warnmissingsimfile>true</warnmissingsimfile>
        <warntrim>true</warntrim>
    </options>

    <timegrid>
        <firstdate>1996-01-01T00:00:00</firstdate>
        <lastdate>1996-01-06T00:00:00</lastdate>
        <stepsize>1d</stepsize>
    </timegrid>

    <add_selections>
        <add_selection>
            <name>from_devices</name>
            <devices>
                land_lahn_1
                land_lahn_2
            </devices>
        </add_selection>
        <add_selection>
            <name>from_keywords</name>
            <keywords>catchment</keywords>
        </add_selection>
        <add_selection>
            <name>from_selections</name>
            <selections>
                headwaters
                nonheadwaters
                streams
            </selections>
        </add_selection>
    </add_selections>

    <selections>
        from_selections
    </selections>

    <control_io>default</control_io>

    <conditions_io>
        <inputdir>init_1996_01_01_00_00_00</inputdir>
        <outputdir>init_1996_01_06</outputdir>
        <zip>false</zip>
    </conditions_io>
    
    <series_io>

        <directory>default</directory>
        <filetype>npy</filetype>
        <overwrite>true</overwrite>
        <mode>jit</mode>

        <readers>
            <reader info="all input data">
                <selections>from_keywords</selections>
                <sequences>
                    <hland_v1>
                        <inputs>
                            <p/>
                            <t/>
                            <tn/>
                            <epn/>
                        </inputs>
                    </hland_v1>
                </sequences>
                <filetype>nc</filetype>
                <mode>jit</mode>
            </reader>
        </readers>

        <writers>
            <writer info="precipitation">
                <selections>
                    headwaters
                    from_devices
                </selections>
                <sequences>
                    <hland_v1>
                        <fluxes>
                            <pc/>
                            <tf/>
                        </fluxes>
                    </hland_v1>
                </sequences>
                <filetype>asc</filetype>
            </writer>

            <writer info="soilmoisture">
                <directory>soildata</directory>
                <selections>complete</selections>
                <sequences>
                    <hland_v1>
                        <states>
                            <sm/>
                        </states>
                    </hland_v1>
                </sequences>
                <filetype>nc</filetype>
                <overwrite>false</overwrite>
                <mode>jit</mode>
            </writer>

            <writer info="averaged">
                <directory>averages</directory>
                <sequences>
                    <node>
                        <sim/>
                        <obs/>
                    </node>
                    <hland_v1>
                        <factors>
                            <tc/>
                        </factors>
                        <fluxes>
                            <tf/>
                        </fluxes>
                        <states>
                            <sm/>
                        </states>
                    </hland_v1>
                    <hstream_v1>
                        <states>
                            <qjoints/>
                        </states>
                    </hstream_v1>
                </sequences>
                <aggregation>mean</aggregation>
                <mode>ram</mode>
            </writer>

        </writers>

    </series_io>

</hpcsr:config>

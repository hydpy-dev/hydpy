
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>statstools &#8212; HydPy 4.0.1 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="validtools" href="validtools.html" />
    <link rel="prev" title="smoothtools" href="smoothtools.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="validtools.html" title="validtools"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="smoothtools.html" title="smoothtools"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">HydPy 4.0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="framework.html" >Framework Tools</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="auxiliaries.html" accesskey="U">Auxiliary Tools</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">statstools</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="statstools">
<span id="id1"></span><h1>statstools<a class="headerlink" href="#statstools" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-hydpy.auxs.statstools"></span><p>This module implements statistical functionalities frequently used in
hydrological modelling.</p>
<p>Module <a class="reference internal" href="#module-hydpy.auxs.statstools" title="hydpy.auxs.statstools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">statstools</span></code></a> implements the following members:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.SimObs" title="hydpy.auxs.statstools.SimObs"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimObs</span></code></a> A named tuple containing one array of simulated and one array of observed values.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.filter_series" title="hydpy.auxs.statstools.filter_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">filter_series()</span></code></a> Filter time series for the given date ranges or months.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> Prepare and return two <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.20)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> arrays based on the given arguments.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.Criterion" title="hydpy.auxs.statstools.Criterion"><code class="xref py py-class docutils literal notranslate"><span class="pre">Criterion</span></code></a> Callback protocol for efficiency criteria like <a class="reference internal" href="#hydpy.auxs.statstools.nse" title="hydpy.auxs.statstools.nse"><code class="xref py py-func docutils literal notranslate"><span class="pre">nse()</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.rmse" title="hydpy.auxs.statstools.rmse"><code class="xref py py-func docutils literal notranslate"><span class="pre">rmse()</span></code></a> Calculate the root-mean-square error.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.nse" title="hydpy.auxs.statstools.nse"><code class="xref py py-func docutils literal notranslate"><span class="pre">nse()</span></code></a> Calculate the efficiency criteria after Nash &amp; Sutcliffe.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.nse_log" title="hydpy.auxs.statstools.nse_log"><code class="xref py py-func docutils literal notranslate"><span class="pre">nse_log()</span></code></a> Calculate the efficiency criteria after Nash &amp; Sutcliffe for logarithmic values.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.corr2" title="hydpy.auxs.statstools.corr2"><code class="xref py py-func docutils literal notranslate"><span class="pre">corr2()</span></code></a> Calculate the coefficient of determination via the square of the coefficient of correlation according to Bravais-Pearson.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.kge" title="hydpy.auxs.statstools.kge"><code class="xref py py-func docutils literal notranslate"><span class="pre">kge()</span></code></a> Calculate the Kling-Gupta efficiency <a class="bibtex reference internal" href="zbibliography.html#ref-kling2012" id="id2">[21]</a>.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.bias_abs" title="hydpy.auxs.statstools.bias_abs"><code class="xref py py-func docutils literal notranslate"><span class="pre">bias_abs()</span></code></a> Calculate the absolute difference between the means of the simulated and the observed values.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.bias_rel" title="hydpy.auxs.statstools.bias_rel"><code class="xref py py-func docutils literal notranslate"><span class="pre">bias_rel()</span></code></a> Calculate the relative difference between the means of the simulated and the observed values.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.std_ratio" title="hydpy.auxs.statstools.std_ratio"><code class="xref py py-func docutils literal notranslate"><span class="pre">std_ratio()</span></code></a> Calculate the ratio between the standard deviation of the simulated and the observed values.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.corr" title="hydpy.auxs.statstools.corr"><code class="xref py py-func docutils literal notranslate"><span class="pre">corr()</span></code></a> Calculate the product-moment correlation coefficient after Pearson.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.hsepd_pdf" title="hydpy.auxs.statstools.hsepd_pdf"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd_pdf()</span></code></a> Calculate the probability densities based on the heteroskedastic skewed exponential power distribution.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.hsepd_manual" title="hydpy.auxs.statstools.hsepd_manual"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd_manual()</span></code></a> Calculate the mean of the logarithmic probability densities of the heteroskedastic skewed exponential power distribution.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.hsepd" title="hydpy.auxs.statstools.hsepd"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd()</span></code></a> Calculate the mean of the logarithmic probability densities of the heteroskedastic skewed exponential power distribution.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.calc_mean_time" title="hydpy.auxs.statstools.calc_mean_time"><code class="xref py py-func docutils literal notranslate"><span class="pre">calc_mean_time()</span></code></a> Return the weighted mean of the given time points.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.calc_mean_time_deviation" title="hydpy.auxs.statstools.calc_mean_time_deviation"><code class="xref py py-func docutils literal notranslate"><span class="pre">calc_mean_time_deviation()</span></code></a> Return the weighted deviation of the given timepoints from their mean time.</p></li>
<li><p><a class="reference internal" href="#hydpy.auxs.statstools.print_evaluationtable" title="hydpy.auxs.statstools.print_evaluationtable"><code class="xref py py-func docutils literal notranslate"><span class="pre">print_evaluationtable()</span></code></a> Print a table containing the results of the given evaluation criteria for the given <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> objects.</p></li>
</ul>
</div></blockquote>
<hr class="docutils" />
<dl class="py class">
<dt id="hydpy.auxs.statstools.SimObs">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></code><code class="sig-name descname"><span class="pre">SimObs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.Vector" title="hydpy.core.typingtools.Vector"><span class="pre">hydpy.core.typingtools.Vector</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.Vector" title="hydpy.core.typingtools.Vector"><span class="pre">hydpy.core.typingtools.Vector</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#SimObs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.SimObs" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
<p>A named tuple containing one array of simulated and one array of
observed values.</p>
<dl class="py method">
<dt id="hydpy.auxs.statstools.SimObs.sim">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">sim</span></code><a class="headerlink" href="#hydpy.auxs.statstools.SimObs.sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py method">
<dt id="hydpy.auxs.statstools.SimObs.obs">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">obs</span></code><a class="headerlink" href="#hydpy.auxs.statstools.SimObs.obs" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="hydpy.auxs.statstools.filter_series">
<code class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></code><code class="sig-name descname"><span class="pre">filter_series</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">hydpy.core.devicetools.Node</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_ranges</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Date</span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.9)"><span class="pre">datetime.datetime</span></a><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Date</span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.9)"><span class="pre">datetime.datetime</span></a><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">months</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#hydpy.auxs.statstools.SimObs" title="hydpy.auxs.statstools.SimObs"><span class="pre">hydpy.auxs.statstools.SimObs</span></a><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#filter_series"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.filter_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter time series for the given date ranges or months.</p>
<p>Often, we want to apply objective functions like <a class="reference internal" href="#hydpy.auxs.statstools.nse" title="hydpy.auxs.statstools.nse"><code class="xref py py-func docutils literal notranslate"><span class="pre">nse()</span></code></a> on a subset
of the available simulated and observed values.  The function
<a class="reference internal" href="#hydpy.auxs.statstools.filter_series" title="hydpy.auxs.statstools.filter_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">filter_series()</span></code></a> helps to extract the relevant data either by data ranges
or by months.  Common examples are to pass a single date range to ignore
the first non-optimal values of a warm-up period, to pass a set of
date ranges to focus on certain events or to pass a set of months
to perform a seasonal analysis.</p>
<p>To show how <a class="reference internal" href="#hydpy.auxs.statstools.filter_series" title="hydpy.auxs.statstools.filter_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">filter_series()</span></code></a> works, we prepare a daily initialisation
time grid spanning two hydrological years:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">filter_series</span><span class="p">,</span> <span class="n">pub</span><span class="p">,</span> <span class="n">Node</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span> <span class="o">=</span> <span class="s2">&quot;2001-11-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2003-11-01&quot;</span><span class="p">,</span> <span class="s2">&quot;1d&quot;</span>
</pre></div>
</div>
<p>Next, we prepare a <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> object and assign some constantly increasing
and decreasing values to its <cite>simulation</cite> and the <cite>observation</cite> series,
respectively:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span><span class="o">.</span><span class="n">prepare_allseries</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="mi">365</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="mi">365</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>First, we select data of arbitrary sub-periods via the <cite>data_ranges</cite>
argument.  Each data range consists of the start-point and the end-point
of a sub-period. Here, we choose all values that belong to 31 October
or 1 November (note that unsorted data ranges are acceptable):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">date_ranges</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;2001-11-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2001-11-02&quot;</span><span class="p">),</span>
<span class="gp">... </span>               <span class="p">(</span><span class="s2">&quot;2002-10-31&quot;</span><span class="p">,</span> <span class="s2">&quot;2002-11-02&quot;</span><span class="p">),</span>
<span class="gp">... </span>               <span class="p">(</span><span class="s2">&quot;2003-10-31&quot;</span><span class="p">,</span> <span class="s2">&quot;2003-11-01&quot;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">filter_series</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">date_ranges</span><span class="o">=</span><span class="n">date_ranges</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference internal" href="#hydpy.auxs.statstools.filter_series" title="hydpy.auxs.statstools.filter_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">filter_series()</span></code></a> returns the data within index-sorted <a class="reference external" href="https://pandas.pydata.org/pandas-docs/dev/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.3.0.dev0+1065.g7af47c999d)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a>
objects (note that the index addresses the left boundary of each
time step):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">results</span><span class="o">.</span><span class="n">sim</span>   
<span class="go">2001-11-01      1.0</span>
<span class="go">2002-10-31    365.0</span>
<span class="go">2002-11-01    366.0</span>
<span class="go">2003-10-31    730.0</span>
<span class="go">Name: sim...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span><span class="o">.</span><span class="n">obs</span>   
<span class="go">2001-11-01    730.0</span>
<span class="go">2002-10-31    366.0</span>
<span class="go">2002-11-01    365.0</span>
<span class="go">2003-10-31      1.0</span>
<span class="go">Name: obs...</span>
</pre></div>
</div>
<p>To help avoiding possible hard-to-find errors, <a class="reference internal" href="#hydpy.auxs.statstools.filter_series" title="hydpy.auxs.statstools.filter_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">filter_series()</span></code></a> performs
the following checks:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">date_ranges</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;2001-10-31&quot;</span><span class="p">,</span> <span class="s2">&quot;2003-11-01&quot;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_series</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">date_ranges</span><span class="o">=</span><span class="n">date_ranges</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to filter the given series, the following error occurred: The given date (2001-10-31 00:00:00) is before the first date of the initialisation period (2001-11-01 00:00:00).</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">date_ranges</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;2001-11-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2003-11-02&quot;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_series</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">date_ranges</span><span class="o">=</span><span class="n">date_ranges</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to filter the given series, the following error occurred: The given date (2003-11-02 00:00:00) is behind the last date of the initialisation period (2003-11-01 00:00:00).</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">date_ranges</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;2001-11-02&quot;</span><span class="p">,</span> <span class="s2">&quot;2001-11-02&quot;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_series</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">date_ranges</span><span class="o">=</span><span class="n">date_ranges</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to filter the given series, the following error occurred: The given first date `2001-11-02 00:00:00` is not before than the given last date `2001-11-02 00:00:00`.</span>
</pre></div>
</div>
<p>Note that function <a class="reference internal" href="#hydpy.auxs.statstools.filter_series" title="hydpy.auxs.statstools.filter_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">filter_series()</span></code></a> does not remove any duplicates:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">date_ranges</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;2001-11-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2001-11-05&quot;</span><span class="p">),</span>
<span class="gp">... </span>               <span class="p">(</span><span class="s2">&quot;2001-11-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2001-11-02&quot;</span><span class="p">),</span>
<span class="gp">... </span>               <span class="p">(</span><span class="s2">&quot;2001-11-04&quot;</span><span class="p">,</span> <span class="s2">&quot;2001-11-06&quot;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span> <span class="o">=</span> <span class="n">filter_series</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">date_ranges</span><span class="o">=</span><span class="n">date_ranges</span><span class="p">)</span><span class="o">.</span><span class="n">sim</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span>   
<span class="go">2001-11-01    1.0</span>
<span class="go">2001-11-01    1.0</span>
<span class="go">2001-11-02    2.0</span>
<span class="go">2001-11-03    3.0</span>
<span class="go">2001-11-04    4.0</span>
<span class="go">2001-11-04    4.0</span>
<span class="go">2001-11-05    5.0</span>
<span class="go">Name: sim...</span>
</pre></div>
</div>
<p>Instead of date ranges, one can specify months via integer numbers.
We begin with selecting October (10) and November (11) individually:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span> <span class="o">=</span> <span class="n">filter_series</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">months</span><span class="o">=</span><span class="p">[</span><span class="mi">11</span><span class="p">])</span><span class="o">.</span><span class="n">sim</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">sim</span><span class="p">)</span>
<span class="go">60</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span>   
<span class="go">2001-11-01      1.0</span>
<span class="go">2001-11-02      2.0</span>
<span class="gp">...</span>
<span class="go">2002-11-29    394.0</span>
<span class="go">2002-11-30    395.0</span>
<span class="go">Name: sim...</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span> <span class="o">=</span> <span class="n">filter_series</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">months</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">])</span><span class="o">.</span><span class="n">sim</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">sim</span><span class="p">)</span>
<span class="go">62</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span>   
<span class="go">2002-10-01    335.0</span>
<span class="go">2002-10-02    336.0</span>
<span class="gp">...</span>
<span class="go">2003-10-30    729.0</span>
<span class="go">2003-10-31    730.0</span>
<span class="go">Name: sim...</span>
</pre></div>
</div>
<p>One can select multiple months, which neither need to be sorted nor
consecutive:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span> <span class="o">=</span> <span class="n">filter_series</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">months</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">sim</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">sim</span><span class="p">)</span>
<span class="go">122</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span>   
<span class="go">2002-01-01     62.0</span>
<span class="go">2002-01-02     63.0</span>
<span class="gp">...</span>
<span class="go">2003-04-29    545.0</span>
<span class="go">2003-04-30    546.0</span>
<span class="go">Name: sim...</span>
</pre></div>
</div>
<p>Note that you are also free to either pass the <cite>sim</cite> and <cite>obs</cite> series
directly instead of a <cite>node</cite> (see function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for further
information):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xs</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ys</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_series</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">xs</span><span class="p">,</span> <span class="n">obs</span><span class="o">=</span><span class="n">ys</span><span class="p">,</span> <span class="n">months</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">sim</span>   
<span class="go">2002-01-01     62.0</span>
<span class="go">2002-01-02     63.0</span>
<span class="gp">...</span>
<span class="go">2003-04-29    545.0</span>
<span class="go">2003-04-30    546.0</span>
<span class="go">Name: sim...</span>
</pre></div>
</div>
<p>Missing or double information for arguments <cite>date_ranges</cite> and <cite>months</cite>
results in the following error messages:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">filter_series</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to filter the given series, the following error occurred: You need to define either the `date_ranges` or `months` argument, but none of them is given.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">filter_series</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">date_ranges</span><span class="o">=</span><span class="p">[],</span> <span class="n">months</span><span class="o">=</span><span class="p">[])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to filter the given series, the following error occurred: You need to define either the `date_ranges` or `months` argument, but both of them are given.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="hydpy.auxs.statstools.prepare_arrays">
<code class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></code><code class="sig-name descname"><span class="pre">prepare_arrays</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">hydpy.core.devicetools.Node</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#hydpy.auxs.statstools.SimObs" title="hydpy.auxs.statstools.SimObs"><span class="pre">hydpy.auxs.statstools.SimObs</span></a><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#prepare_arrays"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.prepare_arrays" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare and return two <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v1.20)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code></a> arrays based on the given arguments.</p>
<p>Note that many functions provided by module <a class="reference internal" href="#module-hydpy.auxs.statstools" title="hydpy.auxs.statstools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">statstools</span></code></a> apply function
<a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> internally (e.g. <a class="reference internal" href="#hydpy.auxs.statstools.nse" title="hydpy.auxs.statstools.nse"><code class="xref py py-func docutils literal notranslate"><span class="pre">nse()</span></code></a>).  But you can also use it
manually, as shown in the following examples.</p>
<p>Function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> can extract time-series data from <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a>
objects.  To set up an example for this, we define an initialisation
period and prepare a <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> object:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">pub</span><span class="p">,</span> <span class="n">Node</span><span class="p">,</span> <span class="n">round_</span><span class="p">,</span> <span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span> <span class="o">=</span> <span class="s2">&quot;01.01.2000&quot;</span><span class="p">,</span> <span class="s2">&quot;07.01.2000&quot;</span><span class="p">,</span> <span class="s2">&quot;1d&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Next, we assign some values to the <cite>simulation</cite> and the <cite>observation</cite>
sequences of the node:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">node</span><span class="o">.</span><span class="n">prepare_simseries</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">checkseries</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span>
<span class="gp">... </span>    <span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">activate_ram</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="mf">6.0</span>
</pre></div>
</div>
<p>Now we can pass the node object to function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> and
get the (unmodified) time-series data:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">prepare_arrays</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arrays</span> <span class="o">=</span> <span class="n">prepare_arrays</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">sim</span><span class="p">)</span>
<span class="go">1.0, nan, nan, nan, 2.0, 3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">obs</span><span class="p">)</span>
<span class="go">4.0, 5.0, nan, nan, nan, 6.0</span>
</pre></div>
</div>
<p>Alternatively, we can pass directly any iterable (e.g. <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> and
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> objects) containing the <cite>simulated</cite> and <cite>observed</cite> data:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">arrays</span> <span class="o">=</span> <span class="n">prepare_arrays</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">),</span>
<span class="gp">... </span>                        <span class="n">obs</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">sim</span><span class="p">)</span>
<span class="go">1.0, nan, nan, nan, 2.0, 3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">obs</span><span class="p">)</span>
<span class="go">4.0, 5.0, nan, nan, nan, 6.0</span>
</pre></div>
</div>
<p>The optional <cite>skip_nan</cite> flag allows skipping all values, which are
no numbers.  Note that <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> returns only those pairs of
<cite>simulated</cite> and <cite>observed</cite> values which do not contain any <cite>nan</cite> value:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">arrays</span> <span class="o">=</span> <span class="n">prepare_arrays</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">skip_nan</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">sim</span><span class="p">)</span>
<span class="go">1.0, 3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">obs</span><span class="p">)</span>
<span class="go">4.0, 6.0</span>
</pre></div>
</div>
<p>If you are interested in analysing a sub-period, adapt the global
<a class="reference internal" href="timetools.html#hydpy.core.timetools.Timegrids.eval_" title="hydpy.core.timetools.Timegrids.eval_"><code class="xref py py-attr docutils literal notranslate"><span class="pre">eval_</span></code></a> <a class="reference internal" href="timetools.html#hydpy.core.timetools.Timegrid" title="hydpy.core.timetools.Timegrid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timegrid</span></code></a> beforehand.  When passing a <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a>
object, function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> then returns the data of the
current evaluation sub-period only:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">eval_</span><span class="o">.</span><span class="n">dates</span> <span class="o">=</span> <span class="s2">&quot;02.01.2000&quot;</span><span class="p">,</span> <span class="s2">&quot;06.01.2000&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arrays</span> <span class="o">=</span> <span class="n">prepare_arrays</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">sim</span><span class="p">)</span>
<span class="go">nan, nan, nan, 2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">obs</span><span class="p">)</span>
<span class="go">5.0, nan, nan, nan</span>
</pre></div>
</div>
<p>Suppose one instead passes the simulation and observation time-series
directly (which possibly fit the evaluation period already).  In that
case, function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> ignores the current <a class="reference internal" href="timetools.html#hydpy.core.timetools.Timegrids.eval_" title="hydpy.core.timetools.Timegrids.eval_"><code class="xref py py-attr docutils literal notranslate"><span class="pre">eval_</span></code></a>
<a class="reference internal" href="timetools.html#hydpy.core.timetools.Timegrid" title="hydpy.core.timetools.Timegrid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timegrid</span></code></a> by default:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">arrays</span> <span class="o">=</span> <span class="n">prepare_arrays</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">arrays</span><span class="o">.</span><span class="n">sim</span><span class="p">,</span> <span class="n">obs</span><span class="o">=</span><span class="n">arrays</span><span class="o">.</span><span class="n">obs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">sim</span><span class="p">)</span>
<span class="go">nan, nan, nan, 2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">obs</span><span class="p">)</span>
<span class="go">5.0, nan, nan, nan</span>
</pre></div>
</div>
<p>Use the <cite>subperiod</cite> argument to deviate from the default behaviour:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">arrays</span> <span class="o">=</span> <span class="n">prepare_arrays</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">subperiod</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">sim</span><span class="p">)</span>
<span class="go">1.0, nan, nan, nan, 2.0, 3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">obs</span><span class="p">)</span>
<span class="go">4.0, 5.0, nan, nan, nan, 6.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">arrays</span> <span class="o">=</span> <span class="n">prepare_arrays</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">arrays</span><span class="o">.</span><span class="n">sim</span><span class="p">,</span> <span class="n">obs</span><span class="o">=</span><span class="n">arrays</span><span class="o">.</span><span class="n">obs</span><span class="p">,</span> <span class="n">subperiod</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">sim</span><span class="p">)</span>
<span class="go">nan, nan, nan, 2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">arrays</span><span class="o">.</span><span class="n">obs</span><span class="p">)</span>
<span class="go">5.0, nan, nan, nan</span>
</pre></div>
</div>
<p>The final examples show the error messages returned in case of
invalid combinations of input arguments:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prepare_arrays</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Neither a `Node` object is passed to argument `node` nor are arrays passed to arguments `sim` and `obs`.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prepare_arrays</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">,</span> <span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Values are passed to both arguments `sim` and `node`, which is not allowed.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prepare_arrays</span><span class="p">(</span><span class="n">obs</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span><span class="p">,</span> <span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Values are passed to both arguments `obs` and `node`, which is not allowed.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prepare_arrays</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">A value is passed to argument `sim` but no value is passed to argument `obs`.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prepare_arrays</span><span class="p">(</span><span class="n">obs</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">A value is passed to argument `obs` but no value is passed to argument `sim`.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt id="hydpy.auxs.statstools.Criterion">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></code><code class="sig-name descname"><span class="pre">Criterion</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#Criterion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.Criterion" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">typing_extensions.Protocol</span></code></p>
<p>Callback protocol for efficiency criteria like <a class="reference internal" href="#hydpy.auxs.statstools.nse" title="hydpy.auxs.statstools.nse"><code class="xref py py-func docutils literal notranslate"><span class="pre">nse()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt id="hydpy.auxs.statstools.rmse">
<code class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></code><code class="sig-name descname"><span class="pre">rmse</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">hydpy.core.devicetools.Node</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#rmse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.rmse" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the root-mean-square error.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">rmse</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rmse</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">rmse</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">]))</span>
<span class="go">0.912871</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some
additional instructions for using <a class="reference internal" href="#hydpy.auxs.statstools.rmse" title="hydpy.auxs.statstools.rmse"><code class="xref py py-func docutils literal notranslate"><span class="pre">rmse()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt id="hydpy.auxs.statstools.nse">
<code class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></code><code class="sig-name descname"><span class="pre">nse</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">hydpy.core.devicetools.Node</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#nse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.nse" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the efficiency criteria after Nash &amp; Sutcliffe.</p>
<p>If the simulated values predict the observed values as well as the
average observed value (regarding the mean square error), the NSE
value is zero:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">nse</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nse</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nse</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])</span>
<span class="go">0.0</span>
</pre></div>
</div>
<p>For worse and better agreement, the NSE is negative or positive,
respectively:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">nse</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])</span>
<span class="go">-3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nse</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])</span>
<span class="go">0.5</span>
</pre></div>
</div>
<p>The highest possible value is one:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">nse</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])</span>
<span class="go">1.0</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some
additional instructions for using <a class="reference internal" href="#hydpy.auxs.statstools.nse" title="hydpy.auxs.statstools.nse"><code class="xref py py-func docutils literal notranslate"><span class="pre">nse()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt id="hydpy.auxs.statstools.nse_log">
<code class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></code><code class="sig-name descname"><span class="pre">nse_log</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">hydpy.core.devicetools.Node</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#nse_log"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.nse_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the efficiency criteria after Nash &amp; Sutcliffe for
logarithmic values.</p>
<p>The following calculations repeat the ones of the documentation
on function <a class="reference internal" href="#hydpy.auxs.statstools.nse" title="hydpy.auxs.statstools.nse"><code class="xref py py-func docutils literal notranslate"><span class="pre">nse()</span></code></a> but with exponentiated values.  Hence, the
results are similar or, as in the first and the last example,
even identical:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">nse_log</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">exp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nse_log</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">exp</span><span class="p">([</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]),</span> <span class="n">obs</span><span class="o">=</span><span class="n">exp</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nse_log</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">exp</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">]),</span> <span class="n">obs</span><span class="o">=</span><span class="n">exp</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">0.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">nse</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">exp</span><span class="p">([</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]),</span> <span class="n">obs</span><span class="o">=</span><span class="n">exp</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])))</span>
<span class="go">-2.734185</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">nse</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">exp</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]),</span> <span class="n">obs</span><span class="o">=</span><span class="n">exp</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])))</span>
<span class="go">0.002139</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">nse</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">exp</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]),</span> <span class="n">obs</span><span class="o">=</span><span class="n">exp</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">1.0</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some
additional instructions for using <a class="reference internal" href="#hydpy.auxs.statstools.nse_log" title="hydpy.auxs.statstools.nse_log"><code class="xref py py-func docutils literal notranslate"><span class="pre">nse_log()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt id="hydpy.auxs.statstools.corr2">
<code class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></code><code class="sig-name descname"><span class="pre">corr2</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">hydpy.core.devicetools.Node</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#corr2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.corr2" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the coefficient of determination via the square of the
coefficient of correlation according to Bravais-Pearson.</p>
<p>For perfect positive or negative correlation, <a class="reference internal" href="#hydpy.auxs.statstools.corr2" title="hydpy.auxs.statstools.corr2"><code class="xref py py-func docutils literal notranslate"><span class="pre">corr2()</span></code></a> returns 1:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">corr2</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">corr2</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">corr2</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])</span>
<span class="go">1.0</span>
</pre></div>
</div>
<p>If there is no correlation at all, <a class="reference internal" href="#hydpy.auxs.statstools.corr2" title="hydpy.auxs.statstools.corr2"><code class="xref py py-func docutils literal notranslate"><span class="pre">corr2()</span></code></a> returns 0:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">corr2</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
<span class="go">0.0</span>
</pre></div>
</div>
<p>An intermediate example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">corr2</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">0.75</span>
</pre></div>
</div>
<p>Take care if there is no variation in one of the data series.  Then the
correlation coefficient is not defined, and <a class="reference internal" href="#hydpy.auxs.statstools.corr2" title="hydpy.auxs.statstools.corr2"><code class="xref py py-func docutils literal notranslate"><span class="pre">corr2()</span></code></a> returns <code class="xref py py-const docutils literal notranslate"><span class="pre">nan</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">corr2</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])</span>
<span class="go">nan</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some additional
instructions for using <a class="reference internal" href="#hydpy.auxs.statstools.corr2" title="hydpy.auxs.statstools.corr2"><code class="xref py py-func docutils literal notranslate"><span class="pre">corr2()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt id="hydpy.auxs.statstools.kge">
<code class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></code><code class="sig-name descname"><span class="pre">kge</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">hydpy.core.devicetools.Node</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#kge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.kge" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the Kling-Gupta efficiency <a class="bibtex reference internal" href="zbibliography.html#ref-kling2012" id="id3">[21]</a>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span>  <span class="n">kge</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kge</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kge</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])</span>
<span class="go">-3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">kge</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">-2.688461</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some
additional instructions for using <a class="reference internal" href="#hydpy.auxs.statstools.kge" title="hydpy.auxs.statstools.kge"><code class="xref py py-func docutils literal notranslate"><span class="pre">kge()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt id="hydpy.auxs.statstools.bias_abs">
<code class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></code><code class="sig-name descname"><span class="pre">bias_abs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">hydpy.core.devicetools.Node</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#bias_abs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.bias_abs" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the absolute difference between the means of the simulated
and the observed values.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">bias_abs</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">bias_abs</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">bias_abs</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">bias_abs</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">-1.0</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some
additional instructions for using <a class="reference internal" href="#hydpy.auxs.statstools.bias_abs" title="hydpy.auxs.statstools.bias_abs"><code class="xref py py-func docutils literal notranslate"><span class="pre">bias_abs()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt id="hydpy.auxs.statstools.bias_rel">
<code class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></code><code class="sig-name descname"><span class="pre">bias_rel</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">hydpy.core.devicetools.Node</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#bias_rel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.bias_rel" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the relative difference between the means of the simulated
and the observed values.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">bias_rel</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">bias_rel</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">bias_rel</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">bias_rel</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">-0.5</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some
additional instructions for using <a class="reference internal" href="#hydpy.auxs.statstools.bias_rel" title="hydpy.auxs.statstools.bias_rel"><code class="xref py py-func docutils literal notranslate"><span class="pre">bias_rel()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt id="hydpy.auxs.statstools.std_ratio">
<code class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></code><code class="sig-name descname"><span class="pre">std_ratio</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">hydpy.core.devicetools.Node</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#std_ratio"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.std_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the ratio between the standard deviation of the simulated
and the observed values.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">round_</span><span class="p">,</span> <span class="n">std_ratio</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">std_ratio</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">std_ratio</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">-1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">std_ratio</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">2.0</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some
additional instructions for using <a class="reference internal" href="#hydpy.auxs.statstools.std_ratio" title="hydpy.auxs.statstools.std_ratio"><code class="xref py py-func docutils literal notranslate"><span class="pre">std_ratio()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt id="hydpy.auxs.statstools.corr">
<code class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></code><code class="sig-name descname"><span class="pre">corr</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">hydpy.core.devicetools.Node</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#corr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.corr" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the product-moment correlation coefficient after Pearson.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">corr</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">corr</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">corr</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">-1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">corr</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">0.0</span>
</pre></div>
</div>
<p>Take care if there is no variation in one of the data series.  Then
the correlation coefficient is not defined, and <a class="reference internal" href="#hydpy.auxs.statstools.corr" title="hydpy.auxs.statstools.corr"><code class="xref py py-func docutils literal notranslate"><span class="pre">corr()</span></code></a> returns <code class="xref py py-const docutils literal notranslate"><span class="pre">nan</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">corr</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">obs</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]))</span>
<span class="go">nan</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some
additional instructions for use of function <a class="reference internal" href="#hydpy.auxs.statstools.corr" title="hydpy.auxs.statstools.corr"><code class="xref py py-func docutils literal notranslate"><span class="pre">corr()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt id="hydpy.auxs.statstools.hsepd_pdf">
<code class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></code><code class="sig-name descname"><span class="pre">hsepd_pdf</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">xi</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">hydpy.core.devicetools.Node</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="typingtools.html#hydpy.core.typingtools.Vector" title="hydpy.core.typingtools.Vector"><span class="pre">hydpy.core.typingtools.Vector</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#hsepd_pdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.hsepd_pdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the probability densities based on the heteroskedastic
skewed exponential power distribution.</p>
<p>For convenience, we store the required parameters of the probability
density function as well as the simulated and observed values in a
dictionary:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">hsepd_pdf</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">general</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;sigma1&quot;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
<span class="gp">... </span>           <span class="s2">&quot;sigma2&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="gp">... </span>           <span class="s2">&quot;xi&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="gp">... </span>           <span class="s2">&quot;beta&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="gp">... </span>           <span class="s2">&quot;sim&quot;</span><span class="p">:</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">41.0</span><span class="p">),</span>
<span class="gp">... </span>           <span class="s2">&quot;obs&quot;</span><span class="p">:</span> <span class="n">numpy</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mf">25.0</span><span class="p">)}</span>
</pre></div>
</div>
<p>The following test function allows for varying one parameter and prints
some and plots all the probability density values corresponding to
different simulated values:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">... </span>    <span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span>
<span class="gp">... </span>    <span class="n">special</span> <span class="o">=</span> <span class="n">general</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">name</span><span class="p">,</span> <span class="n">values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">... </span>    <span class="n">results</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">general</span><span class="p">[</span><span class="s2">&quot;sim&quot;</span><span class="p">]),</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">... </span>    <span class="n">results</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">general</span><span class="p">[</span><span class="s2">&quot;sim&quot;</span><span class="p">]</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">jdx</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">values</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">special</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
<span class="gp">... </span>        <span class="n">results</span><span class="p">[:,</span> <span class="n">jdx</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">hsepd_pdf</span><span class="p">(</span><span class="o">**</span><span class="n">special</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">pyplot</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">results</span><span class="p">[:,</span> <span class="n">jdx</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">=</span><span class="si">%.1f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
<span class="gp">... </span>    <span class="n">pyplot</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">result</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">results</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">idx</span> <span class="o">%</span> <span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>            <span class="n">round_</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p>When varying <cite>beta</cite>, the resulting probabilities correspond to the
Laplace distribution (1.0), normal distribution (0.0), and the
uniform distribution (-1.0), respectively.  Note that we use -0.99
instead of -1.0 for approximating the uniform distribution to prevent
from running into numerical problems, which are not solved yet:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="n">beta</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.99</span><span class="p">])</span>
<span class="go">10.0, 0.002032, 0.000886, 0.0</span>
<span class="go">15.0, 0.008359, 0.010798, 0.0</span>
<span class="go">20.0, 0.034382, 0.048394, 0.057739</span>
<span class="go">25.0, 0.141421, 0.079788, 0.057739</span>
<span class="go">30.0, 0.034382, 0.048394, 0.057739</span>
<span class="go">35.0, 0.008359, 0.010798, 0.0</span>
<span class="go">40.0, 0.002032, 0.000886, 0.0</span>
</pre></div>
</div>
<p>When varying <cite>xi</cite>, the resulting density is negatively skewed (0.2),
symmetric (1.0), and positively skewed (5.0), respectively:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="n">xi</span><span class="o">=</span><span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">])</span>
<span class="go">10.0, 0.0, 0.000886, 0.003175</span>
<span class="go">15.0, 0.0, 0.010798, 0.012957</span>
<span class="go">20.0, 0.092845, 0.048394, 0.036341</span>
<span class="go">25.0, 0.070063, 0.079788, 0.070063</span>
<span class="go">30.0, 0.036341, 0.048394, 0.092845</span>
<span class="go">35.0, 0.012957, 0.010798, 0.0</span>
<span class="go">40.0, 0.003175, 0.000886, 0.0</span>
</pre></div>
</div>
<p>In the above examples, the actual <cite>sigma</cite> (5.0) is calculated by
multiplying <cite>sigma1</cite> (0.2) with the mean simulated value (25.0),
internally.  This can be done for modelling homoscedastic errors.
Instead, <cite>sigma2</cite> is multiplied with the individual simulated values
to account for heteroscedastic errors.  With increasing values of
<cite>sigma2</cite>, the resulting densities are modified as follows:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="n">sigma2</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">])</span>
<span class="go">10.0, 0.000886, 0.002921, 0.005737</span>
<span class="go">15.0, 0.010798, 0.018795, 0.022831</span>
<span class="go">20.0, 0.048394, 0.044159, 0.037988</span>
<span class="go">25.0, 0.079788, 0.053192, 0.039894</span>
<span class="go">30.0, 0.048394, 0.04102, 0.032708</span>
<span class="go">35.0, 0.010798, 0.023493, 0.023493</span>
<span class="go">40.0, 0.000886, 0.011053, 0.015771</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some
additional instructions for using <a class="reference internal" href="#hydpy.auxs.statstools.hsepd_pdf" title="hydpy.auxs.statstools.hsepd_pdf"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd_pdf()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt id="hydpy.auxs.statstools.hsepd_manual">
<code class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></code><code class="sig-name descname"><span class="pre">hsepd_manual</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">xi</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">hydpy.core.devicetools.Node</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#hsepd_manual"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.hsepd_manual" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the mean of the logarithmic probability densities of the
heteroskedastic skewed exponential power distribution.</p>
<p>The following examples stem from the documentation of function
<a class="reference internal" href="#hydpy.auxs.statstools.hsepd_pdf" title="hydpy.auxs.statstools.hsepd_pdf"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd_pdf()</span></code></a>, which is used by function <a class="reference internal" href="#hydpy.auxs.statstools.hsepd_manual" title="hydpy.auxs.statstools.hsepd_manual"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd_manual()</span></code></a>.  The first
one deals with a heteroscedastic normal distribution:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">hsepd_manual</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hsepd_manual</span><span class="p">(</span><span class="n">sigma1</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">sigma2</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">xi</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">beta</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">sim</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">41.0</span><span class="p">),</span>
<span class="gp">... </span>                    <span class="n">obs</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mf">25.0</span><span class="p">)))</span>
<span class="go">-3.682842</span>
</pre></div>
</div>
<p>Too small probability density values are set to 1e-200 before calculating
their logarithm (which means that the lowest possible value returned by
function <a class="reference internal" href="#hydpy.auxs.statstools.hsepd_manual" title="hydpy.auxs.statstools.hsepd_manual"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd_manual()</span></code></a> is approximately -460):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hsepd_manual</span><span class="p">(</span><span class="n">sigma1</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">sigma2</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">xi</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">beta</span><span class="o">=-</span><span class="mf">0.99</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">sim</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">41.0</span><span class="p">),</span>
<span class="gp">... </span>                    <span class="n">obs</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mf">25.0</span><span class="p">)))</span>
<span class="go">-209.539335</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some
additional instructions for using <a class="reference internal" href="#hydpy.auxs.statstools.hsepd_manual" title="hydpy.auxs.statstools.hsepd_manual"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd_manual()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt id="hydpy.auxs.statstools.hsepd">
<code class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></code><code class="sig-name descname"><span class="pre">hsepd</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">hydpy.core.devicetools.Node</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inits</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_pars</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#hsepd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.hsepd" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the mean of the logarithmic probability densities of the
heteroskedastic skewed exponential power distribution.</p>
<p>Function <a class="reference internal" href="#hydpy.auxs.statstools.hsepd" title="hydpy.auxs.statstools.hsepd"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd()</span></code></a> serves the same purpose as function <a class="reference internal" href="#hydpy.auxs.statstools.hsepd_manual" title="hydpy.auxs.statstools.hsepd_manual"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd_manual()</span></code></a>
but tries to estimate the parameters of the heteroscedastic skewed
exponential distribution via an optimisation algorithm.  This is
shown by generating a random sample.  One thousant simulated values
are scattered around the observed (true) value of 10.0 with a
standard deviation of 2.0:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obs</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">)</span>
</pre></div>
</div>
<p>First, as a reference, we calculate the “true” value based on
function <a class="reference internal" href="#hydpy.auxs.statstools.hsepd_manual" title="hydpy.auxs.statstools.hsepd_manual"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd_manual()</span></code></a> and the correct distribution parameters:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">Period</span><span class="p">,</span> <span class="n">hsepd</span><span class="p">,</span> <span class="n">hsepd_manual</span><span class="p">,</span> <span class="n">pub</span><span class="p">,</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hsepd_manual</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sigma1</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">sigma2</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">xi</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">beta</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">sim</span><span class="o">=</span><span class="n">sim</span><span class="p">,</span> <span class="n">obs</span><span class="o">=</span><span class="n">obs</span><span class="p">))</span>
<span class="go">-2.100093</span>
</pre></div>
</div>
<p>When using function <a class="reference internal" href="#hydpy.auxs.statstools.hsepd" title="hydpy.auxs.statstools.hsepd"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd()</span></code></a>, the returned value is even a little
“better”:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">hsepd</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">sim</span><span class="p">,</span> <span class="n">obs</span><span class="o">=</span><span class="n">obs</span><span class="p">))</span>
<span class="go">-2.09983</span>
</pre></div>
</div>
<p>This is due to the deviation from the random sample to its
theoretical distribution.  This is reflected by small differences
between the estimated values and the theoretical values of
<cite>sigma1</cite> (0.2), <cite>sigma2</cite> (0.0), <cite>xi</cite> (1.0), and <cite>beta</cite> (0.0).
The estimated values are returned in the mentioned order through
enabling the <cite>return_pars</cite> option:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">value</span><span class="p">,</span> <span class="n">pars</span> <span class="o">=</span> <span class="n">hsepd</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">sim</span><span class="p">,</span> <span class="n">obs</span><span class="o">=</span><span class="n">obs</span><span class="p">,</span> <span class="n">return_pars</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">pars</span><span class="p">,</span> <span class="n">decimals</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">0.19966, 0.0, 0.96836, 0.0188</span>
</pre></div>
</div>
<p>There is no guarantee that the optimisation numerical optimisation
algorithm underlying function <a class="reference internal" href="#hydpy.auxs.statstools.hsepd" title="hydpy.auxs.statstools.hsepd"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd()</span></code></a> will always find the parameters
resulting in the largest value returned by function <a class="reference internal" href="#hydpy.auxs.statstools.hsepd_manual" title="hydpy.auxs.statstools.hsepd_manual"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd_manual()</span></code></a>.
You can increase its robustness (and decrease computation time) by
supplying close initial parameter values:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">value</span><span class="p">,</span> <span class="n">pars</span> <span class="o">=</span> <span class="n">hsepd</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">sim</span><span class="p">,</span> <span class="n">obs</span><span class="o">=</span><span class="n">obs</span><span class="p">,</span> <span class="n">return_pars</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">inits</span><span class="o">=</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">pars</span><span class="p">,</span> <span class="n">decimals</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">0.19966, 0.0, 0.96836, 0.0188</span>
</pre></div>
</div>
<p>However, the following example shows a case when this strategy
results in worse results:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">value</span><span class="p">,</span> <span class="n">pars</span> <span class="o">=</span> <span class="n">hsepd</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="n">sim</span><span class="p">,</span> <span class="n">obs</span><span class="o">=</span><span class="n">obs</span><span class="p">,</span> <span class="n">return_pars</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">inits</span><span class="o">=</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="go">-2.174492</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">pars</span><span class="p">)</span>
<span class="go">0.0, 0.213179, 1.705485, 0.505112</span>
</pre></div>
</div>
<p>See the documentation on function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some
additional instructions for using <a class="reference internal" href="#hydpy.auxs.statstools.hsepd" title="hydpy.auxs.statstools.hsepd"><code class="xref py py-func docutils literal notranslate"><span class="pre">hsepd()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt id="hydpy.auxs.statstools.calc_mean_time">
<code class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></code><code class="sig-name descname"><span class="pre">calc_mean_time</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timepoints</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#calc_mean_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.calc_mean_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the weighted mean of the given time points.</p>
<p>With equal given weights, the result is simply the mean of the given
time points:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">calc_mean_time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc_mean_time</span><span class="p">(</span><span class="n">timepoints</span><span class="o">=</span><span class="p">[</span><span class="mf">3.</span><span class="p">,</span> <span class="mf">7.</span><span class="p">],</span>
<span class="gp">... </span>               <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">2.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">])</span>
<span class="go">5.0</span>
</pre></div>
</div>
<p>With different weights, the resulting time is shifted to the larger ones:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">calc_mean_time</span><span class="p">(</span><span class="n">timepoints</span><span class="o">=</span><span class="p">[</span><span class="mf">3.</span><span class="p">,</span> <span class="mf">7.</span><span class="p">],</span>
<span class="gp">... </span>               <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">])</span>
<span class="go">6.0</span>
</pre></div>
</div>
<p>Or, in the most extreme case:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">calc_mean_time</span><span class="p">(</span><span class="n">timepoints</span><span class="o">=</span><span class="p">[</span><span class="mf">3.</span><span class="p">,</span> <span class="mf">7.</span><span class="p">],</span>
<span class="gp">... </span>               <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">])</span>
<span class="go">7.0</span>
</pre></div>
</div>
<p>There are some checks for input plausibility, e.g.:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">calc_mean_time</span><span class="p">(</span><span class="n">timepoints</span><span class="o">=</span><span class="p">[</span><span class="mf">3.</span><span class="p">,</span> <span class="mf">7.</span><span class="p">],</span>
<span class="gp">... </span>               <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">2.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to calculate the weighted mean time, the following error occurred: For the following objects, at least one value is negative: weights.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="hydpy.auxs.statstools.calc_mean_time_deviation">
<code class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></code><code class="sig-name descname"><span class="pre">calc_mean_time_deviation</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timepoints</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_time</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#calc_mean_time_deviation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.calc_mean_time_deviation" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the weighted deviation of the given timepoints from their mean
time.</p>
<p>With equal given weights, the is simply the standard deviation of the
given time points:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">calc_mean_time_deviation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc_mean_time_deviation</span><span class="p">(</span><span class="n">timepoints</span><span class="o">=</span><span class="p">[</span><span class="mf">3.</span><span class="p">,</span> <span class="mf">7.</span><span class="p">],</span>
<span class="gp">... </span>                         <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">2.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">])</span>
<span class="go">2.0</span>
</pre></div>
</div>
<p>One can pass a precalculated mean time:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">round_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">calc_mean_time_deviation</span><span class="p">(</span><span class="n">timepoints</span><span class="o">=</span><span class="p">[</span><span class="mf">3.</span><span class="p">,</span> <span class="mf">7.</span><span class="p">],</span>
<span class="gp">... </span>                                <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">2.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">],</span>
<span class="gp">... </span>                                <span class="n">mean_time</span><span class="o">=</span><span class="mf">4.</span><span class="p">))</span>
<span class="go">2.236068</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">round_</span><span class="p">(</span><span class="n">calc_mean_time_deviation</span><span class="p">(</span><span class="n">timepoints</span><span class="o">=</span><span class="p">[</span><span class="mf">3.</span><span class="p">,</span> <span class="mf">7.</span><span class="p">],</span>
<span class="gp">... </span>                                <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">]))</span>
<span class="go">1.732051</span>
</pre></div>
</div>
<p>Or, in the most extreme case:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">calc_mean_time_deviation</span><span class="p">(</span><span class="n">timepoints</span><span class="o">=</span><span class="p">[</span><span class="mf">3.</span><span class="p">,</span> <span class="mf">7.</span><span class="p">],</span>
<span class="gp">... </span>                         <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">])</span>
<span class="go">0.0</span>
</pre></div>
</div>
<p>There are some checks for input plausibility, e.g.:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">calc_mean_time_deviation</span><span class="p">(</span><span class="n">timepoints</span><span class="o">=</span><span class="p">[</span><span class="mf">3.</span><span class="p">,</span> <span class="mf">7.</span><span class="p">],</span>
<span class="gp">... </span>                         <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">2.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to calculate the weighted time deviation from mean time, the following error occurred: For the following objects, at least one value is negative: weights.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="hydpy.auxs.statstools.print_evaluationtable">
<code class="sig-prename descclassname"><span class="pre">hydpy.auxs.statstools.</span></code><code class="sig-name descname"><span class="pre">print_evaluationtable</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><span class="pre">hydpy.core.devicetools.Node</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">criteria</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#hydpy.auxs.statstools.Criterion" title="hydpy.auxs.statstools.Criterion"><span class="pre">hydpy.auxs.statstools.Criterion</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodenames</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">critnames</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">critfactors</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">critdigits</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subperiod</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><span class="pre">bool</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">averagename</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stepsize</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">typing_extensions.Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">daily</span><span class="p"><span class="pre">,</span> </span><span class="pre">d</span><span class="p"><span class="pre">,</span> </span><span class="pre">monthly</span><span class="p"><span class="pre">,</span> </span><span class="pre">m</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregator</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="typingtools.html#hydpy.core.typingtools.VectorInput" title="hydpy.core.typingtools.VectorInput"><span class="pre">hydpy.core.typingtools.VectorInput</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missingvalue</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'-'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimalseperator</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span> </span><span class="pre">TextIO</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><span class="pre">None</span></a><a class="reference internal" href="_modules/hydpy/auxs/statstools.html#print_evaluationtable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hydpy.auxs.statstools.print_evaluationtable" title="Permalink to this definition">¶</a></dt>
<dd><p>Print a table containing the results of the given evaluation criteria
for the given <a class="reference internal" href="devicetools.html#hydpy.core.devicetools.Node" title="hydpy.core.devicetools.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> objects.</p>
<p>First, we define two nodes with different simulation and observation
data (see function <a class="reference internal" href="#hydpy.auxs.statstools.prepare_arrays" title="hydpy.auxs.statstools.prepare_arrays"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_arrays()</span></code></a> for some explanations):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">pub</span><span class="p">,</span> <span class="n">Node</span><span class="p">,</span> <span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span> <span class="o">=</span> <span class="s2">&quot;01.01.2000&quot;</span><span class="p">,</span> <span class="s2">&quot;04.01.2000&quot;</span><span class="p">,</span> <span class="s2">&quot;1d&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;test1&quot;</span><span class="p">),</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;test2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">node</span><span class="o">.</span><span class="n">prepare_simseries</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span>
<span class="gp">... </span>    <span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">activate_ram</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">node</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">6.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">6.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pub</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">checkseries</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">obs</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="mf">3.0</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="mf">1.0</span>
</pre></div>
</div>
<p>Selecting functions <a class="reference internal" href="#hydpy.auxs.statstools.corr" title="hydpy.auxs.statstools.corr"><code class="xref py py-func docutils literal notranslate"><span class="pre">corr()</span></code></a> and <a class="reference internal" href="#hydpy.auxs.statstools.bias_abs" title="hydpy.auxs.statstools.bias_abs"><code class="xref py py-func docutils literal notranslate"><span class="pre">bias_abs()</span></code></a> as evaluation criteria,
function <a class="reference internal" href="#hydpy.auxs.statstools.print_evaluationtable" title="hydpy.auxs.statstools.print_evaluationtable"><code class="xref py py-func docutils literal notranslate"><span class="pre">print_evaluationtable()</span></code></a> prints the following table:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy</span> <span class="kn">import</span> <span class="n">bias_abs</span><span class="p">,</span> <span class="n">corr</span><span class="p">,</span> <span class="n">print_evaluationtable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_evaluationtable</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>  
<span class="gp">... </span>                      <span class="n">criteria</span><span class="o">=</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span> <span class="n">bias_abs</span><span class="p">))</span>
<span class="go">       corr  bias_abs</span>
<span class="go">test1  1.00     -3.00</span>
<span class="go">test2     -         -</span>
<span class="go">mean   1.00     -3.00</span>
</pre></div>
</div>
<p>One can pass alternative names for the node objects, the criteria functions,
and the row containing the average values.  Also, one can use the <cite>filter_</cite>
argument to force printing statistics in case of incomplete observation data.
In the following example, we accept a maximum fraction of missing data of 50 %:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print_evaluationtable</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>
<span class="gp">... </span>                      <span class="n">criteria</span><span class="o">=</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span> <span class="n">bias_abs</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">nodenames</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;first node&quot;</span><span class="p">,</span> <span class="s2">&quot;second node&quot;</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">critnames</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;corrcoef&quot;</span><span class="p">,</span> <span class="s2">&quot;bias&quot;</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">critdigits</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>                      <span class="n">averagename</span><span class="o">=</span><span class="s2">&quot;average&quot;</span><span class="p">,</span>
<span class="gp">... </span>                      <span class="n">filter_</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>   
<span class="go">             corrcoef  bias</span>
<span class="go">first node        1.0  -3.0</span>
<span class="go">second node      -1.0   0.0</span>
<span class="go">average           0.0  -1.5</span>
</pre></div>
</div>
<p>The number of assigned node objects and criteria functions must
match the number of given alternative names:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print_evaluationtable</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>
<span class="gp">... </span>                      <span class="n">criteria</span><span class="o">=</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span> <span class="n">bias_abs</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">nodenames</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;first node&quot;</span><span class="p">,))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to evaluate the simulation results of some node objects, the following error occurred: 2 node objects are given which does not match with number of given alternative names being 1.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print_evaluationtable</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>
<span class="gp">... </span>                      <span class="n">criteria</span><span class="o">=</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span> <span class="n">bias_abs</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">critnames</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;corrcoef&quot;</span><span class="p">,))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">While trying to evaluate the simulation results of some node objects, the following error occurred: 2 criteria functions are given which does not match with number of given alternative names being 1.</span>
</pre></div>
</div>
<p>Set the <cite>average</cite> argument to <code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code> to omit the row containing the
average values:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print_evaluationtable</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>  
<span class="gp">... </span>                      <span class="n">criteria</span><span class="o">=</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span> <span class="n">bias_abs</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">average</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">       corr  bias_abs</span>
<span class="go">test1  1.00     -3.00</span>
<span class="go">test2     -         -</span>
</pre></div>
</div>
<p>You can use the arguments <cite>critfactors</cite> and <cite>critdigits</cite> by passing either
a single number or a sequence of criteria-specific numbers to modify the
printed values:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print_evaluationtable</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>  
<span class="gp">... </span>                      <span class="n">criteria</span><span class="o">=</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span> <span class="n">bias_abs</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">critfactors</span><span class="o">=</span><span class="p">(</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">critdigits</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">       corr  bias_abs</span>
<span class="go">test1  10.0      -0.3</span>
<span class="go">test2     -         -</span>
<span class="go">mean   10.0      -0.3</span>
</pre></div>
</div>
<p>By default, function <a class="reference internal" href="#hydpy.auxs.statstools.print_evaluationtable" title="hydpy.auxs.statstools.print_evaluationtable"><code class="xref py py-func docutils literal notranslate"><span class="pre">print_evaluationtable()</span></code></a> prints the statics relevant
for the actual evaluation period only:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">eval_</span><span class="o">.</span><span class="n">dates</span> <span class="o">=</span> <span class="s2">&quot;01.01.2000&quot;</span><span class="p">,</span> <span class="s2">&quot;02.01.2000&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_evaluationtable</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>  
<span class="gp">... </span>                      <span class="n">criteria</span><span class="o">=</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span> <span class="n">bias_abs</span><span class="p">))</span>
<span class="go">       corr  bias_abs</span>
<span class="go">test1     -     -3.00</span>
<span class="go">test2     -     -2.00</span>
<span class="go">mean      -     -2.50</span>
</pre></div>
</div>
<p>You can deviate from this default behaviour by setting the <cite>subperiod</cite>
argument to <code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print_evaluationtable</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>  
<span class="gp">... </span>                      <span class="n">criteria</span><span class="o">=</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span> <span class="n">bias_abs</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">subperiod</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">       corr  bias_abs</span>
<span class="go">test1  1.00     -3.00</span>
<span class="go">test2     -         -</span>
<span class="go">mean   1.00     -3.00</span>
</pre></div>
</div>
<p>Use the <cite>stepsize</cite> argument (eventually in combination with argument
<cite>aggregator</cite>) to print the statistics of previously aggregated time
series.  See function <a class="reference internal" href="seriestools.html#hydpy.core.seriestools.aggregate_series" title="hydpy.core.seriestools.aggregate_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">aggregate_series()</span></code></a> for further information.</p>
<p>Here, the daily aggregation step size results in identical results as
the original step size is also one day:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">eval_</span> <span class="o">=</span> <span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">init</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_evaluationtable</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>  
<span class="gp">... </span>                      <span class="n">criteria</span><span class="o">=</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span> <span class="n">bias_abs</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">stepsize</span><span class="o">=</span><span class="s2">&quot;daily&quot;</span><span class="p">,</span>
<span class="gp">... </span>                      <span class="n">aggregator</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>
<span class="go">       corr  bias_abs</span>
<span class="go">test1  1.00     -3.00</span>
<span class="go">test2     -         -</span>
<span class="go">mean   1.00     -3.00</span>
</pre></div>
</div>
<p>For the monthly step size, the result table is empty, due to the too short
initialisation period covering less than a month:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">eval_</span><span class="o">.</span><span class="n">dates</span> <span class="o">=</span> <span class="n">pub</span><span class="o">.</span><span class="n">timegrids</span><span class="o">.</span><span class="n">init</span><span class="o">.</span><span class="n">dates</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">print_evaluationtable</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">nodes</span><span class="p">,</span>  
<span class="gp">... </span>                      <span class="n">criteria</span><span class="o">=</span><span class="p">(</span><span class="n">corr</span><span class="p">,</span> <span class="n">bias_abs</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">stepsize</span><span class="o">=</span><span class="s2">&quot;monthly&quot;</span><span class="p">,</span>
<span class="gp">... </span>                      <span class="n">aggregator</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>
<span class="go">       corr  bias_abs</span>
<span class="go">test1     -         -</span>
<span class="go">test2     -         -</span>
<span class="go">mean      -         -</span>
</pre></div>
</div>
</dd></dl>

</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/HydPy_Logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="how_to.html">How to…</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="framework.html">Framework Tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="core.html">Core Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="execution.html">Execution Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="cythons.html">Cython Tools</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="auxiliaries.html">Auxiliary Tools</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="anntools.html">anntools</a></li>
<li class="toctree-l3"><a class="reference internal" href="armatools.html">armatools</a></li>
<li class="toctree-l3"><a class="reference internal" href="calibtools.html">calibtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="iuhtools.html">iuhtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="networktools.html">networktools</a></li>
<li class="toctree-l3"><a class="reference internal" href="quadtools.html">quadtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="roottools.html">roottools</a></li>
<li class="toctree-l3"><a class="reference internal" href="smoothtools.html">smoothtools</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">statstools</a></li>
<li class="toctree-l3"><a class="reference internal" href="validtools.html">validtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="xmltools.html">xmltools</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Configuration Tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modelcollection.html">Model Collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Example Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="zbibliography.html">Bibliography</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="smoothtools.html"
                        title="previous chapter">smoothtools</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="validtools.html"
                        title="next chapter">validtools</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/statstools.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="validtools.html" title="validtools"
             >next</a> |</li>
        <li class="right" >
          <a href="smoothtools.html" title="smoothtools"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">HydPy 4.0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="framework.html" >Framework Tools</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="auxiliaries.html" >Auxiliary Tools</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">statstools</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, HydPy Developers.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.2.
    </div>
  </body>
</html>